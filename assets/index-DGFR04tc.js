(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const A of p.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&d(A)}).observe(document,{childList:!0,subtree:!0});function l(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(m){if(m.ep)return;m.ep=!0;const p=l(m);fetch(m.href,p)}})();var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Q3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var L0={exports:{}},wo={};var K2;function W3(){if(K2)return wo;K2=1;var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function l(d,m,p){var A=null;if(p!==void 0&&(A=""+p),m.key!==void 0&&(A=""+m.key),"key"in m){p={};for(var b in m)b!=="key"&&(p[b]=m[b])}else p=m;return m=p.ref,{$$typeof:n,type:d,key:A,ref:m!==void 0?m:null,props:p}}return wo.Fragment=o,wo.jsx=l,wo.jsxs=l,wo}var Q2;function J3(){return Q2||(Q2=1,L0.exports=W3()),L0.exports}var ne=J3(),z0={exports:{}},it={};var W2;function $3(){if(W2)return it;W2=1;var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),A=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.iterator;function L(P){return P===null||typeof P!="object"?null:(P=k&&P[k]||P["@@iterator"],typeof P=="function"?P:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,ue={};function be(P,J,Ae){this.props=P,this.context=J,this.refs=ue,this.updater=Ae||G}be.prototype.isReactComponent={},be.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},be.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function me(){}me.prototype=be.prototype;function X(P,J,Ae){this.props=P,this.context=J,this.refs=ue,this.updater=Ae||G}var q=X.prototype=new me;q.constructor=X,re(q,be.prototype),q.isPureReactComponent=!0;var Se=Array.isArray;function Ee(){}var Z={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function te(P,J,Ae){var Ce=Ae.ref;return{$$typeof:n,type:P,key:J,ref:Ce!==void 0?Ce:null,props:Ae}}function Oe(P,J){return te(P.type,J,P.props)}function Te(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function Ne(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Ae){return J[Ae]})}var Qe=/\/+/g;function Je(P,J){return typeof P=="object"&&P!==null&&P.key!=null?Ne(""+P.key):J.toString(36)}function Q(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Ee,Ee):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,J,Ae,Ce,Ye){var ye=typeof P;(ye==="undefined"||ye==="boolean")&&(P=null);var ct=!1;if(P===null)ct=!0;else switch(ye){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(P.$$typeof){case n:case o:ct=!0;break;case v:return ct=P._init,$(ct(P._payload),J,Ae,Ce,Ye)}}if(ct)return Ye=Ye(P),ct=Ce===""?"."+Je(P,0):Ce,Se(Ye)?(Ae="",ct!=null&&(Ae=ct.replace(Qe,"$&/")+"/"),$(Ye,J,Ae,"",function(Zn){return Zn})):Ye!=null&&(Te(Ye)&&(Ye=Oe(Ye,Ae+(Ye.key==null||P&&P.key===Ye.key?"":(""+Ye.key).replace(Qe,"$&/")+"/")+ct)),J.push(Ye)),1;ct=0;var rt=Ce===""?".":Ce+":";if(Se(P))for(var It=0;It<P.length;It++)Ce=P[It],ye=rt+Je(Ce,It),ct+=$(Ce,J,Ae,ye,Ye);else if(It=L(P),typeof It=="function")for(P=It.call(P),It=0;!(Ce=P.next()).done;)Ce=Ce.value,ye=rt+Je(Ce,It++),ct+=$(Ce,J,Ae,ye,Ye);else if(ye==="object"){if(typeof P.then=="function")return $(Q(P),J,Ae,Ce,Ye);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ct}function se(P,J,Ae){if(P==null)return P;var Ce=[],Ye=0;return $(P,Ce,"","",function(ye){return J.call(Ae,ye,Ye++)}),Ce}function ke(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(Ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=Ae)},function(Ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=Ae)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var qe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},$e={map:se,forEach:function(P,J,Ae){se(P,function(){J.apply(this,arguments)},Ae)},count:function(P){var J=0;return se(P,function(){J++}),J},toArray:function(P){return se(P,function(J){return J})||[]},only:function(P){if(!Te(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return it.Activity=I,it.Children=$e,it.Component=be,it.Fragment=l,it.Profiler=m,it.PureComponent=X,it.StrictMode=d,it.Suspense=S,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,it.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Z.H.useMemoCache(P)}},it.cache=function(P){return function(){return P.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(P,J,Ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Ce=re({},P.props),Ye=P.key;if(J!=null)for(ye in J.key!==void 0&&(Ye=""+J.key),J)!we.call(J,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&J.ref===void 0||(Ce[ye]=J[ye]);var ye=arguments.length-2;if(ye===1)Ce.children=Ae;else if(1<ye){for(var ct=Array(ye),rt=0;rt<ye;rt++)ct[rt]=arguments[rt+2];Ce.children=ct}return te(P.type,Ye,Ce)},it.createContext=function(P){return P={$$typeof:A,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:p,_context:P},P},it.createElement=function(P,J,Ae){var Ce,Ye={},ye=null;if(J!=null)for(Ce in J.key!==void 0&&(ye=""+J.key),J)we.call(J,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(Ye[Ce]=J[Ce]);var ct=arguments.length-2;if(ct===1)Ye.children=Ae;else if(1<ct){for(var rt=Array(ct),It=0;It<ct;It++)rt[It]=arguments[It+2];Ye.children=rt}if(P&&P.defaultProps)for(Ce in ct=P.defaultProps,ct)Ye[Ce]===void 0&&(Ye[Ce]=ct[Ce]);return te(P,ye,Ye)},it.createRef=function(){return{current:null}},it.forwardRef=function(P){return{$$typeof:b,render:P}},it.isValidElement=Te,it.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ke}},it.memo=function(P,J){return{$$typeof:y,type:P,compare:J===void 0?null:J}},it.startTransition=function(P){var J=Z.T,Ae={};Z.T=Ae;try{var Ce=P(),Ye=Z.S;Ye!==null&&Ye(Ae,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(Ee,qe)}catch(ye){qe(ye)}finally{J!==null&&Ae.types!==null&&(J.types=Ae.types),Z.T=J}},it.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},it.use=function(P){return Z.H.use(P)},it.useActionState=function(P,J,Ae){return Z.H.useActionState(P,J,Ae)},it.useCallback=function(P,J){return Z.H.useCallback(P,J)},it.useContext=function(P){return Z.H.useContext(P)},it.useDebugValue=function(){},it.useDeferredValue=function(P,J){return Z.H.useDeferredValue(P,J)},it.useEffect=function(P,J){return Z.H.useEffect(P,J)},it.useEffectEvent=function(P){return Z.H.useEffectEvent(P)},it.useId=function(){return Z.H.useId()},it.useImperativeHandle=function(P,J,Ae){return Z.H.useImperativeHandle(P,J,Ae)},it.useInsertionEffect=function(P,J){return Z.H.useInsertionEffect(P,J)},it.useLayoutEffect=function(P,J){return Z.H.useLayoutEffect(P,J)},it.useMemo=function(P,J){return Z.H.useMemo(P,J)},it.useOptimistic=function(P,J){return Z.H.useOptimistic(P,J)},it.useReducer=function(P,J,Ae){return Z.H.useReducer(P,J,Ae)},it.useRef=function(P){return Z.H.useRef(P)},it.useState=function(P){return Z.H.useState(P)},it.useSyncExternalStore=function(P,J,Ae){return Z.H.useSyncExternalStore(P,J,Ae)},it.useTransition=function(){return Z.H.useTransition()},it.version="19.2.4",it}var J2;function v1(){return J2||(J2=1,z0.exports=$3()),z0.exports}var Ie=v1();const Ln=Q3(Ie);var U0={exports:{}},_o={},F0={exports:{}},P0={};var $2;function ew(){return $2||($2=1,(function(n){function o($,se){var ke=$.length;$.push(se);e:for(;0<ke;){var qe=ke-1>>>1,$e=$[qe];if(0<m($e,se))$[qe]=se,$[ke]=$e,ke=qe;else break e}}function l($){return $.length===0?null:$[0]}function d($){if($.length===0)return null;var se=$[0],ke=$.pop();if(ke!==se){$[0]=ke;e:for(var qe=0,$e=$.length,P=$e>>>1;qe<P;){var J=2*(qe+1)-1,Ae=$[J],Ce=J+1,Ye=$[Ce];if(0>m(Ae,ke))Ce<$e&&0>m(Ye,Ae)?($[qe]=Ye,$[Ce]=ke,qe=Ce):($[qe]=Ae,$[J]=ke,qe=J);else if(Ce<$e&&0>m(Ye,ke))$[qe]=Ye,$[Ce]=ke,qe=Ce;else break e}}return se}function m($,se){var ke=$.sortIndex-se.sortIndex;return ke!==0?ke:$.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;n.unstable_now=function(){return p.now()}}else{var A=Date,b=A.now();n.unstable_now=function(){return A.now()-b}}var S=[],y=[],v=1,I=null,k=3,L=!1,G=!1,re=!1,ue=!1,be=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function q($){for(var se=l(y);se!==null;){if(se.callback===null)d(y);else if(se.startTime<=$)d(y),se.sortIndex=se.expirationTime,o(S,se);else break;se=l(y)}}function Se($){if(re=!1,q($),!G)if(l(S)!==null)G=!0,Ee||(Ee=!0,Ne());else{var se=l(y);se!==null&&Q(Se,se.startTime-$)}}var Ee=!1,Z=-1,we=5,te=-1;function Oe(){return ue?!0:!(n.unstable_now()-te<we)}function Te(){if(ue=!1,Ee){var $=n.unstable_now();te=$;var se=!0;try{e:{G=!1,re&&(re=!1,me(Z),Z=-1),L=!0;var ke=k;try{t:{for(q($),I=l(S);I!==null&&!(I.expirationTime>$&&Oe());){var qe=I.callback;if(typeof qe=="function"){I.callback=null,k=I.priorityLevel;var $e=qe(I.expirationTime<=$);if($=n.unstable_now(),typeof $e=="function"){I.callback=$e,q($),se=!0;break t}I===l(S)&&d(S),q($)}else d(S);I=l(S)}if(I!==null)se=!0;else{var P=l(y);P!==null&&Q(Se,P.startTime-$),se=!1}}break e}finally{I=null,k=ke,L=!1}se=void 0}}finally{se?Ne():Ee=!1}}}var Ne;if(typeof X=="function")Ne=function(){X(Te)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Je=Qe.port2;Qe.port1.onmessage=Te,Ne=function(){Je.postMessage(null)}}else Ne=function(){be(Te,0)};function Q($,se){Z=be(function(){$(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_next=function($){switch(k){case 1:case 2:case 3:var se=3;break;default:se=k}var ke=k;k=se;try{return $()}finally{k=ke}},n.unstable_requestPaint=function(){ue=!0},n.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ke=k;k=$;try{return se()}finally{k=ke}},n.unstable_scheduleCallback=function($,se,ke){var qe=n.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?qe+ke:qe):ke=qe,$){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ke+$e,$={id:v++,callback:se,priorityLevel:$,startTime:ke,expirationTime:$e,sortIndex:-1},ke>qe?($.sortIndex=ke,o(y,$),l(S)===null&&$===l(y)&&(re?(me(Z),Z=-1):re=!0,Q(Se,ke-qe))):($.sortIndex=$e,o(S,$),G||L||(G=!0,Ee||(Ee=!0,Ne()))),$},n.unstable_shouldYield=Oe,n.unstable_wrapCallback=function($){var se=k;return function(){var ke=k;k=se;try{return $.apply(this,arguments)}finally{k=ke}}}})(P0)),P0}var eg;function tw(){return eg||(eg=1,F0.exports=ew()),F0.exports}var H0={exports:{}},Jn={};var tg;function nw(){if(tg)return Jn;tg=1;var n=v1();function o(S){var y="https://react.dev/errors/"+S;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+S+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var d={d:{f:l,r:function(){throw Error(o(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},m=Symbol.for("react.portal");function p(S,y,v){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:I==null?null:""+I,children:S,containerInfo:y,implementation:v}}var A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(S,y){if(S==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Jn.createPortal=function(S,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(o(299));return p(S,y,null,v)},Jn.flushSync=function(S){var y=A.T,v=d.p;try{if(A.T=null,d.p=2,S)return S()}finally{A.T=y,d.p=v,d.d.f()}},Jn.preconnect=function(S,y){typeof S=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,d.d.C(S,y))},Jn.prefetchDNS=function(S){typeof S=="string"&&d.d.D(S)},Jn.preinit=function(S,y){if(typeof S=="string"&&y&&typeof y.as=="string"){var v=y.as,I=b(v,y.crossOrigin),k=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?d.d.S(S,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:k,fetchPriority:L}):v==="script"&&d.d.X(S,{crossOrigin:I,integrity:k,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jn.preinitModule=function(S,y){if(typeof S=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=b(y.as,y.crossOrigin);d.d.M(S,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&d.d.M(S)},Jn.preload=function(S,y){if(typeof S=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,I=b(v,y.crossOrigin);d.d.L(S,v,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jn.preloadModule=function(S,y){if(typeof S=="string")if(y){var v=b(y.as,y.crossOrigin);d.d.m(S,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else d.d.m(S)},Jn.requestFormReset=function(S){d.d.r(S)},Jn.unstable_batchedUpdates=function(S,y){return S(y)},Jn.useFormState=function(S,y,v){return A.H.useFormState(S,y,v)},Jn.useFormStatus=function(){return A.H.useHostTransitionStatus()},Jn.version="19.2.4",Jn}var ng;function iw(){if(ng)return H0.exports;ng=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),H0.exports=nw(),H0.exports}var ig;function aw(){if(ig)return _o;ig=1;var n=tw(),o=v1(),l=iw();function d(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function A(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function b(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function S(e){if(p(e)!==e)throw Error(d(188))}function y(e){var i=e.alternate;if(!i){if(i=p(e),i===null)throw Error(d(188));return i!==e?null:e}for(var s=e,f=i;;){var x=s.return;if(x===null)break;var _=x.alternate;if(_===null){if(f=x.return,f!==null){s=f;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===s)return S(x),e;if(_===f)return S(x),i;_=_.sibling}throw Error(d(188))}if(s.return!==f.return)s=x,f=_;else{for(var T=!1,D=x.child;D;){if(D===s){T=!0,s=x,f=_;break}if(D===f){T=!0,f=x,s=_;break}D=D.sibling}if(!T){for(D=_.child;D;){if(D===s){T=!0,s=_,f=x;break}if(D===f){T=!0,f=_,s=x;break}D=D.sibling}if(!T)throw Error(d(189))}}if(s.alternate!==f)throw Error(d(190))}if(s.tag!==3)throw Error(d(188));return s.stateNode.current===s?e:i}function v(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=v(e),i!==null)return i;e=e.sibling}return null}var I=Object.assign,k=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),X=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function Je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case be:return"Profiler";case ue:return"StrictMode";case Se:return"Suspense";case Ee:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case X:return e.displayName||"Context";case me:return(e._context.displayName||"Context")+".Consumer";case q:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return i=e.displayName||null,i!==null?i:Je(e.type)||"Memo";case we:i=e._payload,e=e._init;try{return Je(e(i))}catch{}}return null}var Q=Array.isArray,$=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},qe=[],$e=-1;function P(e){return{current:e}}function J(e){0>$e||(e.current=qe[$e],qe[$e]=null,$e--)}function Ae(e,i){$e++,qe[$e]=e.current,e.current=i}var Ce=P(null),Ye=P(null),ye=P(null),ct=P(null);function rt(e,i){switch(Ae(ye,i),Ae(Ye,e),Ae(Ce,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?w2(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=w2(i),e=_2(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(Ce),Ae(Ce,e)}function It(){J(Ce),J(Ye),J(ye)}function Zn(e){e.memoizedState!==null&&Ae(ct,e);var i=Ce.current,s=_2(i,e.type);i!==s&&(Ae(Ye,e),Ae(Ce,s))}function Qt(e){Ye.current===e&&(J(Ce),J(Ye)),ct.current===e&&(J(ct),go._currentValue=ke)}var Ui,Me;function ht(e){if(Ui===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ui=i&&i[1]||"",Me=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+e+Me}var At=!1;function zn(e,i){if(!e||At)return"";At=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var ee=le}Reflect.construct(e,[],fe)}else{try{fe.call()}catch(le){ee=le}e.call(fe.prototype)}}else{try{throw Error()}catch(le){ee=le}(fe=e())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&ee&&typeof le.stack=="string")return[le.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),T=_[0],D=_[1];if(T&&D){var z=T.split(`
`),W=D.split(`
`);for(x=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;x<W.length&&!W[x].includes("DetermineComponentFrameRoot");)x++;if(f===z.length||x===W.length)for(f=z.length-1,x=W.length-1;1<=f&&0<=x&&z[f]!==W[x];)x--;for(;1<=f&&0<=x;f--,x--)if(z[f]!==W[x]){if(f!==1||x!==1)do if(f--,x--,0>x||z[f]!==W[x]){var oe=`
`+z[f].replace(" at new "," at ");return e.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",e.displayName)),oe}while(1<=f&&0<=x);break}}}finally{At=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ht(s):""}function lt(e,i){switch(e.tag){case 26:case 27:case 5:return ht(e.type);case 16:return ht("Lazy");case 13:return e.child!==i&&i!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return zn(e.type,!1);case 11:return zn(e.type.render,!1);case 1:return zn(e.type,!0);case 31:return ht("Activity");default:return""}}function Pe(e){try{var i="",s=null;do i+=lt(e,s),s=e,e=e.return;while(e);return i}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ze=Object.prototype.hasOwnProperty,Ai=n.unstable_scheduleCallback,Re=n.unstable_cancelCallback,sn=n.unstable_shouldYield,bt=n.unstable_requestPaint,We=n.unstable_now,Un=n.unstable_getCurrentPriorityLevel,Wn=n.unstable_ImmediatePriority,Vr=n.unstable_UserBlockingPriority,ei=n.unstable_NormalPriority,Cn=n.unstable_LowPriority,Xr=n.unstable_IdlePriority,tr=n.log,ve=n.unstable_setDisableYieldValue,Ue=null,de=null;function pt(e){if(typeof tr=="function"&&ve(e),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(Ue,e)}catch{}}var et=Math.clz32?Math.clz32:Yr,Wt=Math.log,Na=Math.LN2;function Yr(e){return e>>>=0,e===0?32:31-(Wt(e)/Na|0)|0}var qr=256,wt=262144,Fi=4194304;function fa(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kr(e,i,s){var f=e.pendingLanes;if(f===0)return 0;var x=0,_=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var D=f&134217727;return D!==0?(f=D&~_,f!==0?x=fa(f):(T&=D,T!==0?x=fa(T):s||(s=D&~e,s!==0&&(x=fa(s))))):(D=f&~_,D!==0?x=fa(D):T!==0?x=fa(T):s||(s=f&~e,s!==0&&(x=fa(s)))),x===0?0:i!==0&&i!==x&&(i&_)===0&&(_=x&-x,s=i&-i,_>=s||_===32&&(s&4194048)!==0)?i:x}function jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ns(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var e=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),e}function ha(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function da(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pi(e,i,s,f,x,_){var T=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var D=e.entanglements,z=e.expirationTimes,W=e.hiddenUpdates;for(s=T&~s;0<s;){var oe=31-et(s),fe=1<<oe;D[oe]=0,z[oe]=-1;var ee=W[oe];if(ee!==null)for(W[oe]=null,oe=0;oe<ee.length;oe++){var le=ee[oe];le!==null&&(le.lane&=-536870913)}s&=~fe}f!==0&&Ho(e,f,0),_!==0&&x===0&&e.tag!==0&&(e.suspendedLanes|=_&~(T&~i))}function Ho(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var f=31-et(i);e.entangledLanes|=i,e.entanglements[f]=e.entanglements[f]|1073741824|s&261930}function ga(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var f=31-et(s),x=1<<f;x&i|e[f]&i&&(e[f]|=i),s&=~x}}function Il(e,i){var s=i&-i;return s=(s&42)!==0?1:Fn(s),(s&(e.suspendedLanes|i))!==0?0:s}function Fn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function na(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ti(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Z2(e.type))}function De(e,i){var s=se.p;try{return se.p=e,i()}finally{se.p=s}}var ni=Math.random().toString(36).slice(2),pn="__reactFiber$"+ni,Ft="__reactProps$"+ni,bi="__reactContainer$"+ni,nr="__reactEvents$"+ni,Dl="__reactListeners$"+ni,Hi="__reactHandles$"+ni,Zo="__reactResources$"+ni,Qr="__reactMarker$"+ni;function ui(e){delete e[pn],delete e[Ft],delete e[nr],delete e[Dl],delete e[Hi]}function un(e){var i=e[pn];if(i)return i;for(var s=e.parentNode;s;){if(i=s[bi]||s[pn]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=v2(e);e!==null;){if(s=e[pn])return s;e=v2(e)}return i}e=s,s=e.parentNode}return null}function Dt(e){if(e=e[pn]||e[bi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function ir(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(d(33))}function ii(e){var i=e[Zo];return i||(i=e[Zo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fn(e){e[Qr]=!0}var ge=new Set,jo={};function Lt(e,i){Ci(e,i),Ci(e+"Capture",i)}function Ci(e,i){for(jo[e]=i,e=0;e<i.length;e++)ge.add(i[e])}var Hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tt={},vt={};function dt(e){return Ze.call(vt,e)?!0:Ze.call(Tt,e)?!1:Hu.test(e)?vt[e]=!0:(Tt[e]=!0,!1)}function ar(e,i,s){if(dt(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function rr(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Si(e,i,s,f){if(f===null)e.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+f)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ia(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zu(e,i,s){var f=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,_=f.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return x.call(this)},set:function(T){s=""+T,_.call(this,T)}}),Object.defineProperty(e,i,{enumerable:f.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Jt(e){if(!e._valueTracker){var i=ia(e)?"checked":"value";e._valueTracker=Zu(e,i,""+e[i])}}function aa(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),f="";return e&&(f=ia(e)?e.checked?"true":"false":e.value),e=f,e!==s?(i.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lr=/[\n"\\]/g;function ft(e){return e.replace(lr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sn(e,i,s,f,x,_,T,D){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Nt(i)):e.value!==""+Nt(i)&&(e.value=""+Nt(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?M(e,T,Nt(i)):s!=null?M(e,T,Nt(s)):f!=null&&e.removeAttribute("value"),x==null&&_!=null&&(e.defaultChecked=!!_),x!=null&&(e.checked=x&&typeof x!="function"&&typeof x!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+Nt(D):e.removeAttribute("name")}function Y(e,i,s,f,x,_,T,D){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||s!=null){if(!(_!=="submit"&&_!=="reset"||i!=null)){Jt(e);return}s=s!=null?""+Nt(s):"",i=i!=null?""+Nt(i):s,D||i===e.value||(e.value=i),e.defaultValue=i}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,e.checked=D?e.checked:!!f,e.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Jt(e)}function M(e,i,s){i==="number"&&Ml(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ze(e,i,s,f){if(e=e.options,i){i={};for(var x=0;x<s.length;x++)i["$"+s[x]]=!0;for(s=0;s<e.length;s++)x=i.hasOwnProperty("$"+e[s].value),e[s].selected!==x&&(e[s].selected=x),x&&f&&(e[s].defaultSelected=!0)}else{for(s=""+Nt(s),i=null,x=0;x<e.length;x++){if(e[x].value===s){e[x].selected=!0,f&&(e[x].defaultSelected=!0);return}i!==null||e[x].disabled||(i=e[x])}i!==null&&(i.selected=!0)}}function wn(e,i,s){if(i!=null&&(i=""+Nt(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Nt(s):""}function ai(e,i,s,f){if(i==null){if(f!=null){if(s!=null)throw Error(d(92));if(Q(f)){if(1<f.length)throw Error(d(93));f=f[0]}s=f}s==null&&(s=""),i=s}s=Nt(i),e.defaultValue=s,f=e.textContent,f===s&&f!==""&&f!==null&&(e.value=f),Jt(e)}function sr(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ri(e,i,s){var f=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?f?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":f?e.setProperty(i,s):typeof s!="number"||s===0||Os.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function He(e,i,s){if(i!=null&&typeof i!="object")throw Error(d(62));if(e=e.style,s!=null){for(var f in s)!s.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?e.setProperty(f,""):f==="float"?e.cssFloat="":e[f]="");for(var x in i)f=i[x],i.hasOwnProperty(x)&&s[x]!==f&&ri(e,x,f)}else for(var _ in i)i.hasOwnProperty(_)&&ri(e,_,i[_])}function Xt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Go=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ju=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return ju.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var Wr=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $t=null,Zi=null;function ra(e){var i=Dt(e);if(i&&(e=i.stateNode)){var s=e[Ft]||null;e:switch(e=i.stateNode,i.type){case"input":if(Sn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ft(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var f=s[i];if(f!==e&&f.form===e.form){var x=f[Ft]||null;if(!x)throw Error(d(90));Sn(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<s.length;i++)f=s[i],f.form===e.form&&aa(f)}break e;case"textarea":wn(e,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ze(e,!!s.multiple,i,!1)}}}var Ve=!1;function Vo(e,i,s){if(Ve)return e(i,s);Ve=!0;try{var f=e(i);return f}finally{if(Ve=!1,($t!==null||Zi!==null)&&(Lc(),$t&&(i=$t,e=Zi,Zi=$t=null,ra(i),e)))for(i=0;i<e.length;i++)ra(e[i])}}function tt(e,i){var s=e.stateNode;if(s===null)return null;var f=s[Ft]||null;if(f===null)return null;s=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(e=e.type,f=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!f;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(d(231,i,typeof s));return s}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Yt)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Is=!1}var la=null,sa=null,Bl=null;function cr(){if(Bl)return Bl;var e,i=sa,s=i.length,f,x="value"in la?la.value:la.textContent,_=x.length;for(e=0;e<s&&i[e]===x[e];e++);var T=s-e;for(f=1;f<=T&&i[s-f]===x[_-f];f++);return Bl=x.slice(e,1<f?1-f:void 0)}function ma(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function xa(){return!0}function Ds(){return!1}function vn(e){function i(s,f,x,_,T){this._reactName=s,this._targetInst=x,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(s=e[D],this[D]=s?s(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xa:Ds,this.isPropagationStopped=Ds,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xa)},persist:function(){},isPersistent:xa}),i}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dn=vn(vi),ur=I({},vi,{view:0,detail:0}),Xo=vn(ur),kl,Ms,Jr,Ll=I({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(kl=e.screenX-Jr.screenX,Ms=e.screenY-Jr.screenY):Ms=kl=0,Jr=e),kl)},movementY:function(e){return"movementY"in e?e.movementY:Ms}}),Mt=vn(Ll),Yo=I({},Ll,{dataTransfer:0}),zl=vn(Yo),pa=I({},ur,{relatedTarget:0}),Bs=vn(pa),ae=I({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),st=vn(ae),Mn=I({},vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ul=vn(Mn),qo=I({},vi,{data:0}),Ko=vn(qo),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ks[e])?!!i[e]:!1}function $r(){return _n}var nn=I({},ur,{key:function(e){if(e.key){var i=Gu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ma(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(e){return e.type==="keypress"?ma(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ma(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fl=vn(nn),Ra=I({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zt=vn(Ra),Xe=I({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),Xu=vn(Xe),qt=I({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ia=vn(qt),fr=I({},Ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yu=vn(fr),ji=I({},vi,{newState:0,oldState:0}),Ls=vn(ji),Qo=[9,13,27,32],el=Yt&&"CompositionEvent"in window,hr=null;Yt&&"documentMode"in document&&(hr=document.documentMode);var Wo=Yt&&"TextEvent"in window&&!hr,Jo=Yt&&(!el||hr&&8<hr&&11>=hr),Da=" ",Pl=!1;function $o(e,i){switch(e){case"keyup":return Qo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function wa(e,i){switch(e){case"compositionend":return dr(i);case"keypress":return i.which!==32?null:(Pl=!0,Da);case"textInput":return e=i.data,e===Da&&Pl?null:e;default:return null}}function Hl(e,i){if(gr)return e==="compositionend"||!el&&$o(e,i)?(e=cr(),Bl=sa=la=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jo&&i.locale!=="ko"?null:i.data;default:return null}}var hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!hi[e.type]:i==="textarea"}function Ti(e,i,s,f){$t?Zi?Zi.push(f):Zi=[f]:$t=f,i=jc(i,"onChange"),0<i.length&&(s=new Dn("onChange","change",null,s,f),e.push({event:s,listeners:i}))}var tl=null,Ma=null;function qu(e){h2(e,0)}function nl(e){var i=ir(e);if(aa(i))return e}function Ni(e,i){if(e==="change")return i}var ec=!1;if(Yt){var il;if(Yt){var Ba="oninput"in document;if(!Ba){var _t=document.createElement("div");_t.setAttribute("oninput","return;"),Ba=typeof _t.oninput=="function"}il=Ba}else il=!1;ec=il&&(!document.documentMode||9<document.documentMode)}function al(){tl&&(tl.detachEvent("onpropertychange",N),Ma=tl=null)}function N(e){if(e.propertyName==="value"&&nl(Ma)){var i=[];Ti(i,Ma,e,Rs(e)),Vo(qu,i)}}function t(e,i,s){e==="focusin"?(al(),tl=i,Ma=s,tl.attachEvent("onpropertychange",N)):e==="focusout"&&al()}function a(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(Ma)}function r(e,i){if(e==="click")return nl(i)}function c(e,i){if(e==="input"||e==="change")return nl(i)}function u(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var h=typeof Object.is=="function"?Object.is:u;function g(e,i){if(h(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),f=Object.keys(i);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var x=s[f];if(!Ze.call(i,x)||!h(e[x],i[x]))return!1}return!0}function w(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E(e,i){var s=w(e);e=0;for(var f;s;){if(s.nodeType===3){if(f=e+s.textContent.length,e<=i&&f>=i)return{node:s,offset:i-e};e=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=w(s)}}function C(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?C(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function O(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ml(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Ml(e.document)}return i}function R(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var B=Yt&&"documentMode"in document&&11>=document.documentMode,U=null,F=null,V=null,ie=!1;function _e(e,i,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ie||U==null||U!==Ml(f)||(f=U,"selectionStart"in f&&R(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),V&&g(V,f)||(V=f,f=jc(F,"onSelect"),0<f.length&&(i=new Dn("onSelect","select",null,i,s),e.push({event:i,listeners:f}),i.target=U)))}function pe(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var xe={animationend:pe("Animation","AnimationEnd"),animationiteration:pe("Animation","AnimationIteration"),animationstart:pe("Animation","AnimationStart"),transitionrun:pe("Transition","TransitionRun"),transitionstart:pe("Transition","TransitionStart"),transitioncancel:pe("Transition","TransitionCancel"),transitionend:pe("Transition","TransitionEnd")},ut={},nt={};Yt&&(nt=document.createElement("div").style,"AnimationEvent"in window||(delete xe.animationend.animation,delete xe.animationiteration.animation,delete xe.animationstart.animation),"TransitionEvent"in window||delete xe.transitionend.transition);function hn(e){if(ut[e])return ut[e];if(!xe[e])return e;var i=xe[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in nt)return ut[e]=i[s];return e}var di=hn("animationend"),Gn=hn("animationiteration"),Ut=hn("animationstart"),Bn=hn("transitionrun"),li=hn("transitionstart"),mr=hn("transitioncancel"),ka=hn("transitionend"),tc=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Us.push("scrollEnd");function oa(e,i){tc.set(e,i),Lt(i,[e])}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gi=[],Zl=0,Ku=0;function ic(){for(var e=Zl,i=Ku=Zl=0;i<e;){var s=Gi[i];Gi[i++]=null;var f=Gi[i];Gi[i++]=null;var x=Gi[i];Gi[i++]=null;var _=Gi[i];if(Gi[i++]=null,f!==null&&x!==null){var T=f.pending;T===null?x.next=x:(x.next=T.next,T.next=x),f.pending=x}_!==0&&Y1(s,x,_)}}function ac(e,i,s,f){Gi[Zl++]=e,Gi[Zl++]=i,Gi[Zl++]=s,Gi[Zl++]=f,Ku|=f,e.lanes|=f,e=e.alternate,e!==null&&(e.lanes|=f)}function Qu(e,i,s,f){return ac(e,i,s,f),rc(e)}function rl(e,i){return ac(e,null,null,i),rc(e)}function Y1(e,i,s){e.lanes|=s;var f=e.alternate;f!==null&&(f.lanes|=s);for(var x=!1,_=e.return;_!==null;)_.childLanes|=s,f=_.alternate,f!==null&&(f.childLanes|=s),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(x=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,x&&i!==null&&(x=31-et(s),e=_.hiddenUpdates,f=e[x],f===null?e[x]=[i]:f.push(i),i.lane=s|536870912),_):null}function rc(e){if(50<lo)throw lo=0,l0=null,Error(d(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var jl={};function Mp(e,i,s,f){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(e,i,s,f){return new Mp(e,i,s,f)}function Wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function La(e,i){var s=e.alternate;return s===null?(s=Oi(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function q1(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function lc(e,i,s,f,x,_){var T=0;if(f=e,typeof e=="function")Wu(e)&&(T=1);else if(typeof e=="string")T=U3(e,s,Ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Oi(31,s,i,x),e.elementType=te,e.lanes=_,e;case re:return ll(s.children,x,_,i);case ue:T=8,x|=24;break;case be:return e=Oi(12,s,i,x|2),e.elementType=be,e.lanes=_,e;case Se:return e=Oi(13,s,i,x),e.elementType=Se,e.lanes=_,e;case Ee:return e=Oi(19,s,i,x),e.elementType=Ee,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:T=10;break e;case me:T=9;break e;case q:T=11;break e;case Z:T=14;break e;case we:T=16,f=null;break e}T=29,s=Error(d(130,e===null?"null":typeof e,"")),f=null}return i=Oi(T,s,i,x),i.elementType=e,i.type=f,i.lanes=_,i}function ll(e,i,s,f){return e=Oi(7,e,f,i),e.lanes=s,e}function Ju(e,i,s){return e=Oi(6,e,null,i),e.lanes=s,e}function K1(e){var i=Oi(18,null,null,0);return i.stateNode=e,i}function $u(e,i,s){return i=Oi(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Q1=new WeakMap;function Vi(e,i){if(typeof e=="object"&&e!==null){var s=Q1.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Pe(i)},Q1.set(e,i),i)}return{value:e,source:i,stack:Pe(i)}}var Gl=[],Vl=0,sc=null,Fs=0,Xi=[],Yi=0,xr=null,_a=1,ya="";function za(e,i){Gl[Vl++]=Fs,Gl[Vl++]=sc,sc=e,Fs=i}function W1(e,i,s){Xi[Yi++]=_a,Xi[Yi++]=ya,Xi[Yi++]=xr,xr=e;var f=_a;e=ya;var x=32-et(f)-1;f&=~(1<<x),s+=1;var _=32-et(i)+x;if(30<_){var T=x-x%5;_=(f&(1<<T)-1).toString(32),f>>=T,x-=T,_a=1<<32-et(i)+x|s<<x|f,ya=_+e}else _a=1<<_|s<<x|f,ya=e}function ef(e){e.return!==null&&(za(e,1),W1(e,1,0))}function tf(e){for(;e===sc;)sc=Gl[--Vl],Gl[Vl]=null,Fs=Gl[--Vl],Gl[Vl]=null;for(;e===xr;)xr=Xi[--Yi],Xi[Yi]=null,ya=Xi[--Yi],Xi[Yi]=null,_a=Xi[--Yi],Xi[Yi]=null}function J1(e,i){Xi[Yi++]=_a,Xi[Yi++]=ya,Xi[Yi++]=xr,_a=i.id,ya=i.overflow,xr=e}var Vn=null,en=null,Ct=!1,pr=null,qi=!1,nf=Error(d(519));function wr(e){var i=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(Vi(i,e)),nf}function $1(e){var i=e.stateNode,s=e.type,f=e.memoizedProps;switch(i[pn]=e,i[Ft]=f,s){case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":case"embed":mt("load",i);break;case"video":case"audio":for(s=0;s<oo.length;s++)mt(oo[s],i);break;case"source":mt("error",i);break;case"img":case"image":case"link":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"input":mt("invalid",i),Y(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":mt("invalid",i);break;case"textarea":mt("invalid",i),ai(i,f.value,f.defaultValue,f.children)}s=f.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||f.suppressHydrationWarning===!0||x2(i.textContent,s)?(f.popover!=null&&(mt("beforetoggle",i),mt("toggle",i)),f.onScroll!=null&&mt("scroll",i),f.onScrollEnd!=null&&mt("scrollend",i),f.onClick!=null&&(i.onclick=fi),i=!0):i=!1,i||wr(e,!0)}function eh(e){for(Vn=e.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:qi=!1;return;case 27:case 3:qi=!0;return;default:Vn=Vn.return}}function Xl(e){if(e!==Vn)return!1;if(!Ct)return eh(e),Ct=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||E0(e.type,e.memoizedProps)),s=!s),s&&en&&wr(e),eh(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));en=S2(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));en=S2(e)}else i===27?(i=en,Dr(e.type)?(e=v0,v0=null,en=e):en=i):en=Vn?Qi(e.stateNode.nextSibling):null;return!0}function sl(){en=Vn=null,Ct=!1}function af(){var e=pr;return e!==null&&(pi===null?pi=e:pi.push.apply(pi,e),pr=null),e}function Ps(e){pr===null?pr=[e]:pr.push(e)}var rf=P(null),ol=null,Ua=null;function _r(e,i,s){Ae(rf,i._currentValue),i._currentValue=s}function Fa(e){e._currentValue=rf.current,J(rf)}function lf(e,i,s){for(;e!==null;){var f=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),e===s)break;e=e.return}}function sf(e,i,s,f){var x=e.child;for(x!==null&&(x.return=e);x!==null;){var _=x.dependencies;if(_!==null){var T=x.child;_=_.firstContext;e:for(;_!==null;){var D=_;_=x;for(var z=0;z<i.length;z++)if(D.context===i[z]){_.lanes|=s,D=_.alternate,D!==null&&(D.lanes|=s),lf(_.return,s,e),f||(T=null);break e}_=D.next}}else if(x.tag===18){if(T=x.return,T===null)throw Error(d(341));T.lanes|=s,_=T.alternate,_!==null&&(_.lanes|=s),lf(T,s,e),T=null}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===e){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}}function Yl(e,i,s,f){e=null;for(var x=i,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var T=x.alternate;if(T===null)throw Error(d(387));if(T=T.memoizedProps,T!==null){var D=x.type;h(x.pendingProps.value,T.value)||(e!==null?e.push(D):e=[D])}}else if(x===ct.current){if(T=x.alternate,T===null)throw Error(d(387));T.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(e!==null?e.push(go):e=[go])}x=x.return}e!==null&&sf(i,e,s,f),i.flags|=262144}function oc(e){for(e=e.firstContext;e!==null;){if(!h(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cl(e){ol=e,Ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xn(e){return th(ol,e)}function cc(e,i){return ol===null&&cl(e),th(e,i)}function th(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ua===null){if(e===null)throw Error(d(308));Ua=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ua=Ua.next=i;return s}var Bp=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,f){e.push(f)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},kp=n.unstable_scheduleCallback,Lp=n.unstable_NormalPriority,Tn={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new Bp,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&kp(Lp,function(){e.controller.abort()})}var Zs=null,cf=0,ql=0,Kl=null;function zp(e,i){if(Zs===null){var s=Zs=[];cf=0,ql=h0(),Kl={status:"pending",value:void 0,then:function(f){s.push(f)}}}return cf++,i.then(nh,nh),i}function nh(){if(--cf===0&&Zs!==null){Kl!==null&&(Kl.status="fulfilled");var e=Zs;Zs=null,ql=0,Kl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Up(e,i){var s=[],f={status:"pending",value:null,reason:null,then:function(x){s.push(x)}};return e.then(function(){f.status="fulfilled",f.value=i;for(var x=0;x<s.length;x++)(0,s[x])(i)},function(x){for(f.status="rejected",f.reason=x,x=0;x<s.length;x++)(0,s[x])(void 0)}),f}var ih=$.S;$.S=function(e,i){Pd=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&zp(e,i),ih!==null&&ih(e,i)};var ul=P(null);function uf(){var e=ul.current;return e!==null?e:Kt.pooledCache}function uc(e,i){i===null?Ae(ul,ul.current):Ae(ul,i.pool)}function ah(){var e=uf();return e===null?null:{parent:Tn._currentValue,pool:e}}var Ql=Error(d(460)),ff=Error(d(474)),fc=Error(d(542)),hc={then:function(){}};function rh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function lh(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(fi,fi),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,oh(e),e;default:if(typeof i.status=="string")i.then(fi,fi);else{if(e=Kt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=i,e.status="pending",e.then(function(f){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=f}},function(f){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,oh(e),e}throw hl=i,Ql}}function fl(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(hl=s,Ql):s}}var hl=null;function sh(){if(hl===null)throw Error(d(459));var e=hl;return hl=null,e}function oh(e){if(e===Ql||e===fc)throw Error(d(483))}var Wl=null,js=0;function dc(e){var i=js;return js+=1,Wl===null&&(Wl=[]),lh(Wl,e,i)}function Gs(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function gc(e,i){throw i.$$typeof===k?Error(d(525)):(e=Object.prototype.toString.call(i),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ch(e){function i(j,H){if(e){var K=j.deletions;K===null?(j.deletions=[H],j.flags|=16):K.push(H)}}function s(j,H){if(!e)return null;for(;H!==null;)i(j,H),H=H.sibling;return null}function f(j){for(var H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function x(j,H){return j=La(j,H),j.index=0,j.sibling=null,j}function _(j,H,K){return j.index=K,e?(K=j.alternate,K!==null?(K=K.index,K<H?(j.flags|=67108866,H):K):(j.flags|=67108866,H)):(j.flags|=1048576,H)}function T(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function D(j,H,K,ce){return H===null||H.tag!==6?(H=Ju(K,j.mode,ce),H.return=j,H):(H=x(H,K),H.return=j,H)}function z(j,H,K,ce){var je=K.type;return je===re?oe(j,H,K.props.children,ce,K.key):H!==null&&(H.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===we&&fl(je)===H.type)?(H=x(H,K.props),Gs(H,K),H.return=j,H):(H=lc(K.type,K.key,K.props,null,j.mode,ce),Gs(H,K),H.return=j,H)}function W(j,H,K,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=$u(K,j.mode,ce),H.return=j,H):(H=x(H,K.children||[]),H.return=j,H)}function oe(j,H,K,ce,je){return H===null||H.tag!==7?(H=ll(K,j.mode,ce,je),H.return=j,H):(H=x(H,K),H.return=j,H)}function fe(j,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ju(""+H,j.mode,K),H.return=j,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return K=lc(H.type,H.key,H.props,null,j.mode,K),Gs(K,H),K.return=j,K;case G:return H=$u(H,j.mode,K),H.return=j,H;case we:return H=fl(H),fe(j,H,K)}if(Q(H)||Ne(H))return H=ll(H,j.mode,K,null),H.return=j,H;if(typeof H.then=="function")return fe(j,dc(H),K);if(H.$$typeof===X)return fe(j,cc(j,H),K);gc(j,H)}return null}function ee(j,H,K,ce){var je=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return je!==null?null:D(j,H,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case L:return K.key===je?z(j,H,K,ce):null;case G:return K.key===je?W(j,H,K,ce):null;case we:return K=fl(K),ee(j,H,K,ce)}if(Q(K)||Ne(K))return je!==null?null:oe(j,H,K,ce,null);if(typeof K.then=="function")return ee(j,H,dc(K),ce);if(K.$$typeof===X)return ee(j,H,cc(j,K),ce);gc(j,K)}return null}function le(j,H,K,ce,je){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return j=j.get(K)||null,D(H,j,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case L:return j=j.get(ce.key===null?K:ce.key)||null,z(H,j,ce,je);case G:return j=j.get(ce.key===null?K:ce.key)||null,W(H,j,ce,je);case we:return ce=fl(ce),le(j,H,K,ce,je)}if(Q(ce)||Ne(ce))return j=j.get(K)||null,oe(H,j,ce,je,null);if(typeof ce.then=="function")return le(j,H,K,dc(ce),je);if(ce.$$typeof===X)return le(j,H,K,cc(H,ce),je);gc(H,ce)}return null}function Le(j,H,K,ce){for(var je=null,Ot=null,Fe=H,ot=H=0,Et=null;Fe!==null&&ot<K.length;ot++){Fe.index>ot?(Et=Fe,Fe=null):Et=Fe.sibling;var Rt=ee(j,Fe,K[ot],ce);if(Rt===null){Fe===null&&(Fe=Et);break}e&&Fe&&Rt.alternate===null&&i(j,Fe),H=_(Rt,H,ot),Ot===null?je=Rt:Ot.sibling=Rt,Ot=Rt,Fe=Et}if(ot===K.length)return s(j,Fe),Ct&&za(j,ot),je;if(Fe===null){for(;ot<K.length;ot++)Fe=fe(j,K[ot],ce),Fe!==null&&(H=_(Fe,H,ot),Ot===null?je=Fe:Ot.sibling=Fe,Ot=Fe);return Ct&&za(j,ot),je}for(Fe=f(Fe);ot<K.length;ot++)Et=le(Fe,j,ot,K[ot],ce),Et!==null&&(e&&Et.alternate!==null&&Fe.delete(Et.key===null?ot:Et.key),H=_(Et,H,ot),Ot===null?je=Et:Ot.sibling=Et,Ot=Et);return e&&Fe.forEach(function(zr){return i(j,zr)}),Ct&&za(j,ot),je}function Ke(j,H,K,ce){if(K==null)throw Error(d(151));for(var je=null,Ot=null,Fe=H,ot=H=0,Et=null,Rt=K.next();Fe!==null&&!Rt.done;ot++,Rt=K.next()){Fe.index>ot?(Et=Fe,Fe=null):Et=Fe.sibling;var zr=ee(j,Fe,Rt.value,ce);if(zr===null){Fe===null&&(Fe=Et);break}e&&Fe&&zr.alternate===null&&i(j,Fe),H=_(zr,H,ot),Ot===null?je=zr:Ot.sibling=zr,Ot=zr,Fe=Et}if(Rt.done)return s(j,Fe),Ct&&za(j,ot),je;if(Fe===null){for(;!Rt.done;ot++,Rt=K.next())Rt=fe(j,Rt.value,ce),Rt!==null&&(H=_(Rt,H,ot),Ot===null?je=Rt:Ot.sibling=Rt,Ot=Rt);return Ct&&za(j,ot),je}for(Fe=f(Fe);!Rt.done;ot++,Rt=K.next())Rt=le(Fe,j,ot,Rt.value,ce),Rt!==null&&(e&&Rt.alternate!==null&&Fe.delete(Rt.key===null?ot:Rt.key),H=_(Rt,H,ot),Ot===null?je=Rt:Ot.sibling=Rt,Ot=Rt);return e&&Fe.forEach(function(K3){return i(j,K3)}),Ct&&za(j,ot),je}function Vt(j,H,K,ce){if(typeof K=="object"&&K!==null&&K.type===re&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case L:e:{for(var je=K.key;H!==null;){if(H.key===je){if(je=K.type,je===re){if(H.tag===7){s(j,H.sibling),ce=x(H,K.props.children),ce.return=j,j=ce;break e}}else if(H.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===we&&fl(je)===H.type){s(j,H.sibling),ce=x(H,K.props),Gs(ce,K),ce.return=j,j=ce;break e}s(j,H);break}else i(j,H);H=H.sibling}K.type===re?(ce=ll(K.props.children,j.mode,ce,K.key),ce.return=j,j=ce):(ce=lc(K.type,K.key,K.props,null,j.mode,ce),Gs(ce,K),ce.return=j,j=ce)}return T(j);case G:e:{for(je=K.key;H!==null;){if(H.key===je)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){s(j,H.sibling),ce=x(H,K.children||[]),ce.return=j,j=ce;break e}else{s(j,H);break}else i(j,H);H=H.sibling}ce=$u(K,j.mode,ce),ce.return=j,j=ce}return T(j);case we:return K=fl(K),Vt(j,H,K,ce)}if(Q(K))return Le(j,H,K,ce);if(Ne(K)){if(je=Ne(K),typeof je!="function")throw Error(d(150));return K=je.call(K),Ke(j,H,K,ce)}if(typeof K.then=="function")return Vt(j,H,dc(K),ce);if(K.$$typeof===X)return Vt(j,H,cc(j,K),ce);gc(j,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(s(j,H.sibling),ce=x(H,K),ce.return=j,j=ce):(s(j,H),ce=Ju(K,j.mode,ce),ce.return=j,j=ce),T(j)):s(j,H)}return function(j,H,K,ce){try{js=0;var je=Vt(j,H,K,ce);return Wl=null,je}catch(Fe){if(Fe===Ql||Fe===fc)throw Fe;var Ot=Oi(29,Fe,null,j.mode);return Ot.lanes=ce,Ot.return=j,Ot}}}var dl=ch(!0),uh=ch(!1),yr=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(e,i,s){var f=e.updateQueue;if(f===null)return null;if(f=f.shared,(Bt&2)!==0){var x=f.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),f.pending=i,i=rc(e),Y1(e,null,s),i}return ac(e,f,i,s),rc(e)}function Vs(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var f=i.lanes;f&=e.pendingLanes,s|=f,i.lanes=s,ga(e,s)}}function gf(e,i){var s=e.updateQueue,f=e.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var x=null,_=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};_===null?x=_=T:_=_.next=T,s=s.next}while(s!==null);_===null?x=_=i:_=_.next=i}else x=_=i;s={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var mf=!1;function Xs(){if(mf){var e=Kl;if(e!==null)throw e}}function Ys(e,i,s,f){mf=!1;var x=e.updateQueue;yr=!1;var _=x.firstBaseUpdate,T=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var z=D,W=z.next;z.next=null,T===null?_=W:T.next=W,T=z;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==T&&(D===null?oe.firstBaseUpdate=W:D.next=W,oe.lastBaseUpdate=z))}if(_!==null){var fe=x.baseState;T=0,oe=W=z=null,D=_;do{var ee=D.lane&-536870913,le=ee!==D.lane;if(le?(yt&ee)===ee:(f&ee)===ee){ee!==0&&ee===ql&&(mf=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Le=e,Ke=D;ee=i;var Vt=s;switch(Ke.tag){case 1:if(Le=Ke.payload,typeof Le=="function"){fe=Le.call(Vt,fe,ee);break e}fe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ke.payload,ee=typeof Le=="function"?Le.call(Vt,fe,ee):Le,ee==null)break e;fe=I({},fe,ee);break e;case 2:yr=!0}}ee=D.callback,ee!==null&&(e.flags|=64,le&&(e.flags|=8192),le=x.callbacks,le===null?x.callbacks=[ee]:le.push(ee))}else le={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(W=oe=le,z=fe):oe=oe.next=le,T|=ee;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;le=D,D=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);oe===null&&(z=fe),x.baseState=z,x.firstBaseUpdate=W,x.lastBaseUpdate=oe,_===null&&(x.shared.lanes=0),Tr|=T,e.lanes=T,e.memoizedState=fe}}function fh(e,i){if(typeof e!="function")throw Error(d(191,e));e.call(i)}function hh(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)fh(s[e],i)}var Jl=P(null),mc=P(0);function dh(e,i){e=qa,Ae(mc,e),Ae(Jl,i),qa=e|i.baseLanes}function xf(){Ae(mc,qa),Ae(Jl,Jl.current)}function pf(){qa=mc.current,J(Jl),J(mc)}var Ri=P(null),Ki=null;function br(e){var i=e.alternate;Ae(yn,yn.current&1),Ae(Ri,e),Ki===null&&(i===null||Jl.current!==null||i.memoizedState!==null)&&(Ki=e)}function wf(e){Ae(yn,yn.current),Ae(Ri,e),Ki===null&&(Ki=e)}function gh(e){e.tag===22?(Ae(yn,yn.current),Ae(Ri,e),Ki===null&&(Ki=e)):Cr()}function Cr(){Ae(yn,yn.current),Ae(Ri,Ri.current)}function Ii(e){J(Ri),Ki===e&&(Ki=null),J(yn)}var yn=P(0);function xc(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||C0(s)||S0(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Pa=0,at=null,jt=null,Nn=null,pc=!1,$l=!1,gl=!1,wc=0,qs=0,es=null,Fp=0;function dn(){throw Error(d(321))}function _f(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!h(e[s],i[s]))return!1;return!0}function yf(e,i,s,f,x,_){return Pa=_,at=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=e===null||e.memoizedState===null?Wh:kf,gl=!1,_=s(f,x),gl=!1,$l&&(_=xh(i,s,f,x)),mh(e),_}function mh(e){$.H=Ws;var i=jt!==null&&jt.next!==null;if(Pa=0,Nn=jt=at=null,pc=!1,qs=0,es=null,i)throw Error(d(300));e===null||On||(e=e.dependencies,e!==null&&oc(e)&&(On=!0))}function xh(e,i,s,f){at=e;var x=0;do{if($l&&(es=null),qs=0,$l=!1,25<=x)throw Error(d(301));if(x+=1,Nn=jt=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=Jh,_=i(s,f)}while($l);return _}function Pp(){var e=$.H,i=e.useState()[0];return i=typeof i.then=="function"?Ks(i):i,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(at.flags|=1024),i}function Ef(){var e=wc!==0;return wc=0,e}function Af(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function bf(e){if(pc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}pc=!1}Pa=0,Nn=jt=at=null,$l=!1,qs=wc=0,es=null}function si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?at.memoizedState=Nn=e:Nn=Nn.next=e,Nn}function En(){if(jt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var i=Nn===null?at.memoizedState:Nn.next;if(i!==null)Nn=i,jt=e;else{if(e===null)throw at.alternate===null?Error(d(467)):Error(d(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Nn===null?at.memoizedState=Nn=e:Nn=Nn.next=e}return Nn}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ks(e){var i=qs;return qs+=1,es===null&&(es=[]),e=lh(es,e,i),i=at,(Nn===null?i.memoizedState:Nn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Wh:kf),e}function yc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ks(e);if(e.$$typeof===X)return Xn(e)}throw Error(d(438,String(e)))}function Cf(e){var i=null,s=at.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var f=at.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=_c(),at.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),f=0;f<e;f++)s[f]=Oe;return i.index++,s}function Ha(e,i){return typeof i=="function"?i(e):i}function Ec(e){var i=En();return Sf(i,jt,e)}function Sf(e,i,s){var f=e.queue;if(f===null)throw Error(d(311));f.lastRenderedReducer=s;var x=e.baseQueue,_=f.pending;if(_!==null){if(x!==null){var T=x.next;x.next=_.next,_.next=T}i.baseQueue=x=_,f.pending=null}if(_=e.baseState,x===null)e.memoizedState=_;else{i=x.next;var D=T=null,z=null,W=i,oe=!1;do{var fe=W.lane&-536870913;if(fe!==W.lane?(yt&fe)===fe:(Pa&fe)===fe){var ee=W.revertLane;if(ee===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),fe===ql&&(oe=!0);else if((Pa&ee)===ee){W=W.next,ee===ql&&(oe=!0);continue}else fe={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(D=z=fe,T=_):z=z.next=fe,at.lanes|=ee,Tr|=ee;fe=W.action,gl&&s(_,fe),_=W.hasEagerState?W.eagerState:s(_,fe)}else ee={lane:fe,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},z===null?(D=z=ee,T=_):z=z.next=ee,at.lanes|=fe,Tr|=fe;W=W.next}while(W!==null&&W!==i);if(z===null?T=_:z.next=D,!h(_,e.memoizedState)&&(On=!0,oe&&(s=Kl,s!==null)))throw s;e.memoizedState=_,e.baseState=T,e.baseQueue=z,f.lastRenderedState=_}return x===null&&(f.lanes=0),[e.memoizedState,f.dispatch]}function vf(e){var i=En(),s=i.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=e;var f=s.dispatch,x=s.pending,_=i.memoizedState;if(x!==null){s.pending=null;var T=x=x.next;do _=e(_,T.action),T=T.next;while(T!==x);h(_,i.memoizedState)||(On=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),s.lastRenderedState=_}return[_,f]}function ph(e,i,s){var f=at,x=En(),_=Ct;if(_){if(s===void 0)throw Error(d(407));s=s()}else s=i();var T=!h((jt||x).memoizedState,s);if(T&&(x.memoizedState=s,On=!0),x=x.queue,Of(yh.bind(null,f,x,e),[e]),x.getSnapshot!==i||T||Nn!==null&&Nn.memoizedState.tag&1){if(f.flags|=2048,ts(9,{destroy:void 0},_h.bind(null,f,x,s,i),null),Kt===null)throw Error(d(349));_||(Pa&127)!==0||wh(f,i,s)}return s}function wh(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=at.updateQueue,i===null?(i=_c(),at.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function _h(e,i,s,f){i.value=s,i.getSnapshot=f,Eh(i)&&Ah(e)}function yh(e,i,s){return s(function(){Eh(i)&&Ah(e)})}function Eh(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!h(e,s)}catch{return!0}}function Ah(e){var i=rl(e,2);i!==null&&wi(i,e,2)}function Tf(e){var i=si();if(typeof e=="function"){var s=e;if(e=s(),gl){pt(!0);try{s()}finally{pt(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},i}function bh(e,i,s,f){return e.baseState=s,Sf(e,jt,typeof f=="function"?f:Ha)}function Hp(e,i,s,f,x){if(Cc(e))throw Error(d(485));if(e=i.action,e!==null){var _={payload:x,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){_.listeners.push(T)}};$.T!==null?s(!0):_.isTransition=!1,f(_),s=i.pending,s===null?(_.next=i.pending=_,Ch(i,_)):(_.next=s.next,i.pending=s.next=_)}}function Ch(e,i){var s=i.action,f=i.payload,x=e.state;if(i.isTransition){var _=$.T,T={};$.T=T;try{var D=s(x,f),z=$.S;z!==null&&z(T,D),Sh(e,i,D)}catch(W){Nf(e,i,W)}finally{_!==null&&T.types!==null&&(_.types=T.types),$.T=_}}else try{_=s(x,f),Sh(e,i,_)}catch(W){Nf(e,i,W)}}function Sh(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(f){vh(e,i,f)},function(f){return Nf(e,i,f)}):vh(e,i,s)}function vh(e,i,s){i.status="fulfilled",i.value=s,Th(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Ch(e,s)))}function Nf(e,i,s){var f=e.pending;if(e.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=s,Th(i),i=i.next;while(i!==f)}e.action=null}function Th(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Nh(e,i){return i}function Oh(e,i){if(Ct){var s=Kt.formState;if(s!==null){e:{var f=at;if(Ct){if(en){t:{for(var x=en,_=qi;x.nodeType!==8;){if(!_){x=null;break t}if(x=Qi(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){en=Qi(x.nextSibling),f=x.data==="F!";break e}}wr(f)}f=!1}f&&(i=s[0])}}return s=si(),s.memoizedState=s.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:i},s.queue=f,s=qh.bind(null,at,f),f.dispatch=s,f=Tf(!1),_=Bf.bind(null,at,!1,f.queue),f=si(),x={state:i,dispatch:null,action:e,pending:null},f.queue=x,s=Hp.bind(null,at,x,_,s),x.dispatch=s,f.memoizedState=e,[i,s,!1]}function Rh(e){var i=En();return Ih(i,jt,e)}function Ih(e,i,s){if(i=Sf(e,i,Nh)[0],e=Ec(Ha)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Ks(i)}catch(T){throw T===Ql?fc:T}else f=i;i=En();var x=i.queue,_=x.dispatch;return s!==i.memoizedState&&(at.flags|=2048,ts(9,{destroy:void 0},Zp.bind(null,x,s),null)),[f,_,e]}function Zp(e,i){e.action=i}function Dh(e){var i=En(),s=jt;if(s!==null)return Ih(i,s,e);En(),i=i.memoizedState,s=En();var f=s.queue.dispatch;return s.memoizedState=e,[i,f,!1]}function ts(e,i,s,f){return e={tag:e,create:s,deps:f,inst:i,next:null},i=at.updateQueue,i===null&&(i=_c(),at.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(f=s.next,s.next=e,e.next=f,i.lastEffect=e),e}function Mh(){return En().memoizedState}function Ac(e,i,s,f){var x=si();at.flags|=e,x.memoizedState=ts(1|i,{destroy:void 0},s,f===void 0?null:f)}function bc(e,i,s,f){var x=En();f=f===void 0?null:f;var _=x.memoizedState.inst;jt!==null&&f!==null&&_f(f,jt.memoizedState.deps)?x.memoizedState=ts(i,_,s,f):(at.flags|=e,x.memoizedState=ts(1|i,_,s,f))}function Bh(e,i){Ac(8390656,8,e,i)}function Of(e,i){bc(2048,8,e,i)}function jp(e){at.flags|=4;var i=at.updateQueue;if(i===null)i=_c(),at.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function kh(e){var i=En().memoizedState;return jp({ref:i,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(d(440));return i.impl.apply(void 0,arguments)}}function Lh(e,i){return bc(4,2,e,i)}function zh(e,i){return bc(4,4,e,i)}function Uh(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Fh(e,i,s){s=s!=null?s.concat([e]):null,bc(4,4,Uh.bind(null,i,e),s)}function Rf(){}function Ph(e,i){var s=En();i=i===void 0?null:i;var f=s.memoizedState;return i!==null&&_f(i,f[1])?f[0]:(s.memoizedState=[e,i],e)}function Hh(e,i){var s=En();i=i===void 0?null:i;var f=s.memoizedState;if(i!==null&&_f(i,f[1]))return f[0];if(f=e(),gl){pt(!0);try{e()}finally{pt(!1)}}return s.memoizedState=[f,i],f}function If(e,i,s){return s===void 0||(Pa&1073741824)!==0&&(yt&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=Zd(),at.lanes|=e,Tr|=e,s)}function Zh(e,i,s,f){return h(s,i)?s:Jl.current!==null?(e=If(e,s,f),h(e,i)||(On=!0),e):(Pa&42)===0||(Pa&1073741824)!==0&&(yt&261930)===0?(On=!0,e.memoizedState=s):(e=Zd(),at.lanes|=e,Tr|=e,i)}function jh(e,i,s,f,x){var _=se.p;se.p=_!==0&&8>_?_:8;var T=$.T,D={};$.T=D,Bf(e,!1,i,s);try{var z=x(),W=$.S;if(W!==null&&W(D,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=Up(z,f);Qs(e,i,oe,Bi(e))}else Qs(e,i,f,Bi(e))}catch(fe){Qs(e,i,{then:function(){},status:"rejected",reason:fe},Bi())}finally{se.p=_,T!==null&&D.types!==null&&(T.types=D.types),$.T=T}}function Gp(){}function Df(e,i,s,f){if(e.tag!==5)throw Error(d(476));var x=Gh(e).queue;jh(e,x,i,ke,s===null?Gp:function(){return Vh(e),s(f)})}function Gh(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:ke},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Vh(e){var i=Gh(e);i.next===null&&(i=e.alternate.memoizedState),Qs(e,i.next.queue,{},Bi())}function Mf(){return Xn(go)}function Xh(){return En().memoizedState}function Yh(){return En().memoizedState}function Vp(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Bi();e=Er(s);var f=Ar(i,e,s);f!==null&&(wi(f,i,s),Vs(f,i,s)),i={cache:of()},e.payload=i;return}i=i.return}}function Xp(e,i,s){var f=Bi();s={lane:f,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cc(e)?Kh(i,s):(s=Qu(e,i,s,f),s!==null&&(wi(s,e,f),Qh(s,i,f)))}function qh(e,i,s){var f=Bi();Qs(e,i,s,f)}function Qs(e,i,s,f){var x={lane:f,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cc(e))Kh(i,x);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var T=i.lastRenderedState,D=_(T,s);if(x.hasEagerState=!0,x.eagerState=D,h(D,T))return ac(e,i,x,0),Kt===null&&ic(),!1}catch{}if(s=Qu(e,i,x,f),s!==null)return wi(s,e,f),Qh(s,i,f),!0}return!1}function Bf(e,i,s,f){if(f={lane:2,revertLane:h0(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Cc(e)){if(i)throw Error(d(479))}else i=Qu(e,s,f,2),i!==null&&wi(i,e,2)}function Cc(e){var i=e.alternate;return e===at||i!==null&&i===at}function Kh(e,i){$l=pc=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Qh(e,i,s){if((s&4194048)!==0){var f=i.lanes;f&=e.pendingLanes,s|=f,i.lanes=s,ga(e,s)}}var Ws={readContext:Xn,use:yc,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Ws.useEffectEvent=dn;var Wh={readContext:Xn,use:yc,useCallback:function(e,i){return si().memoizedState=[e,i===void 0?null:i],e},useContext:Xn,useEffect:Bh,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Ac(4194308,4,Uh.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Ac(4194308,4,e,i)},useInsertionEffect:function(e,i){Ac(4,2,e,i)},useMemo:function(e,i){var s=si();i=i===void 0?null:i;var f=e();if(gl){pt(!0);try{e()}finally{pt(!1)}}return s.memoizedState=[f,i],f},useReducer:function(e,i,s){var f=si();if(s!==void 0){var x=s(i);if(gl){pt(!0);try{s(i)}finally{pt(!1)}}}else x=i;return f.memoizedState=f.baseState=x,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:x},f.queue=e,e=e.dispatch=Xp.bind(null,at,e),[f.memoizedState,e]},useRef:function(e){var i=si();return e={current:e},i.memoizedState=e},useState:function(e){e=Tf(e);var i=e.queue,s=qh.bind(null,at,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Rf,useDeferredValue:function(e,i){var s=si();return If(s,e,i)},useTransition:function(){var e=Tf(!1);return e=jh.bind(null,at,e.queue,!0,!1),si().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var f=at,x=si();if(Ct){if(s===void 0)throw Error(d(407));s=s()}else{if(s=i(),Kt===null)throw Error(d(349));(yt&127)!==0||wh(f,i,s)}x.memoizedState=s;var _={value:s,getSnapshot:i};return x.queue=_,Bh(yh.bind(null,f,_,e),[e]),f.flags|=2048,ts(9,{destroy:void 0},_h.bind(null,f,_,s,i),null),s},useId:function(){var e=si(),i=Kt.identifierPrefix;if(Ct){var s=ya,f=_a;s=(f&~(1<<32-et(f)-1)).toString(32)+s,i="_"+i+"R_"+s,s=wc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Fp++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Mf,useFormState:Oh,useActionState:Oh,useOptimistic:function(e){var i=si();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Bf.bind(null,at,!0,s),s.dispatch=i,[e,i]},useMemoCache:Cf,useCacheRefresh:function(){return si().memoizedState=Vp.bind(null,at)},useEffectEvent:function(e){var i=si(),s={impl:e};return i.memoizedState=s,function(){if((Bt&2)!==0)throw Error(d(440));return s.impl.apply(void 0,arguments)}}},kf={readContext:Xn,use:yc,useCallback:Ph,useContext:Xn,useEffect:Of,useImperativeHandle:Fh,useInsertionEffect:Lh,useLayoutEffect:zh,useMemo:Hh,useReducer:Ec,useRef:Mh,useState:function(){return Ec(Ha)},useDebugValue:Rf,useDeferredValue:function(e,i){var s=En();return Zh(s,jt.memoizedState,e,i)},useTransition:function(){var e=Ec(Ha)[0],i=En().memoizedState;return[typeof e=="boolean"?e:Ks(e),i]},useSyncExternalStore:ph,useId:Xh,useHostTransitionStatus:Mf,useFormState:Rh,useActionState:Rh,useOptimistic:function(e,i){var s=En();return bh(s,jt,e,i)},useMemoCache:Cf,useCacheRefresh:Yh};kf.useEffectEvent=kh;var Jh={readContext:Xn,use:yc,useCallback:Ph,useContext:Xn,useEffect:Of,useImperativeHandle:Fh,useInsertionEffect:Lh,useLayoutEffect:zh,useMemo:Hh,useReducer:vf,useRef:Mh,useState:function(){return vf(Ha)},useDebugValue:Rf,useDeferredValue:function(e,i){var s=En();return jt===null?If(s,e,i):Zh(s,jt.memoizedState,e,i)},useTransition:function(){var e=vf(Ha)[0],i=En().memoizedState;return[typeof e=="boolean"?e:Ks(e),i]},useSyncExternalStore:ph,useId:Xh,useHostTransitionStatus:Mf,useFormState:Dh,useActionState:Dh,useOptimistic:function(e,i){var s=En();return jt!==null?bh(s,jt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Yh};Jh.useEffectEvent=kh;function Lf(e,i,s,f){i=e.memoizedState,s=s(f,i),s=s==null?i:I({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zf={enqueueSetState:function(e,i,s){e=e._reactInternals;var f=Bi(),x=Er(f);x.payload=i,s!=null&&(x.callback=s),i=Ar(e,x,f),i!==null&&(wi(i,e,f),Vs(i,e,f))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var f=Bi(),x=Er(f);x.tag=1,x.payload=i,s!=null&&(x.callback=s),i=Ar(e,x,f),i!==null&&(wi(i,e,f),Vs(i,e,f))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Bi(),f=Er(s);f.tag=2,i!=null&&(f.callback=i),i=Ar(e,f,s),i!==null&&(wi(i,e,s),Vs(i,e,s))}};function $h(e,i,s,f,x,_,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(f,_,T):i.prototype&&i.prototype.isPureReactComponent?!g(s,f)||!g(x,_):!0}function ed(e,i,s,f){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,f),i.state!==e&&zf.enqueueReplaceState(i,i.state,null)}function ml(e,i){var s=i;if("ref"in i){s={};for(var f in i)f!=="ref"&&(s[f]=i[f])}if(e=e.defaultProps){s===i&&(s=I({},s));for(var x in e)s[x]===void 0&&(s[x]=e[x])}return s}function td(e){nc(e)}function nd(e){console.error(e)}function id(e){nc(e)}function Sc(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function ad(e,i,s){try{var f=e.onCaughtError;f(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Uf(e,i,s){return s=Er(s),s.tag=3,s.payload={element:null},s.callback=function(){Sc(e,i)},s}function rd(e){return e=Er(e),e.tag=3,e}function ld(e,i,s,f){var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var _=f.value;e.payload=function(){return x(_)},e.callback=function(){ad(i,s,f)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){ad(i,s,f),typeof x!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function Yp(e,i,s,f,x){if(s.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=s.alternate,i!==null&&Yl(i,s,x,!0),s=Ri.current,s!==null){switch(s.tag){case 31:case 13:return Ki===null?zc():s.alternate===null&&gn===0&&(gn=3),s.flags&=-257,s.flags|=65536,s.lanes=x,f===hc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([f]):i.add(f),c0(e,f,x)),!1;case 22:return s.flags|=65536,f===hc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([f]):s.add(f)),c0(e,f,x)),!1}throw Error(d(435,s.tag))}return c0(e,f,x),zc(),!1}if(Ct)return i=Ri.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,f!==nf&&(e=Error(d(422),{cause:f}),Ps(Vi(e,s)))):(f!==nf&&(i=Error(d(423),{cause:f}),Ps(Vi(i,s))),e=e.current.alternate,e.flags|=65536,x&=-x,e.lanes|=x,f=Vi(f,s),x=Uf(e.stateNode,f,x),gf(e,x),gn!==4&&(gn=2)),!1;var _=Error(d(520),{cause:f});if(_=Vi(_,s),ro===null?ro=[_]:ro.push(_),gn!==4&&(gn=2),i===null)return!0;f=Vi(f,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=x&-x,s.lanes|=e,e=Uf(s.stateNode,f,e),gf(s,e),!1;case 1:if(i=s.type,_=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Nr===null||!Nr.has(_))))return s.flags|=65536,x&=-x,s.lanes|=x,x=rd(x),ld(x,e,s,f),gf(s,x),!1}s=s.return}while(s!==null);return!1}var Ff=Error(d(461)),On=!1;function Yn(e,i,s,f){i.child=e===null?uh(i,null,s,f):dl(i,e.child,s,f)}function sd(e,i,s,f,x){s=s.render;var _=i.ref;if("ref"in f){var T={};for(var D in f)D!=="ref"&&(T[D]=f[D])}else T=f;return cl(i),f=yf(e,i,s,T,_,x),D=Ef(),e!==null&&!On?(Af(e,i,x),Za(e,i,x)):(Ct&&D&&ef(i),i.flags|=1,Yn(e,i,f,x),i.child)}function od(e,i,s,f,x){if(e===null){var _=s.type;return typeof _=="function"&&!Wu(_)&&_.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=_,cd(e,i,_,f,x)):(e=lc(s.type,null,f,i,i.mode,x),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!Yf(e,x)){var T=_.memoizedProps;if(s=s.compare,s=s!==null?s:g,s(T,f)&&e.ref===i.ref)return Za(e,i,x)}return i.flags|=1,e=La(_,f),e.ref=i.ref,e.return=i,i.child=e}function cd(e,i,s,f,x){if(e!==null){var _=e.memoizedProps;if(g(_,f)&&e.ref===i.ref)if(On=!1,i.pendingProps=f=_,Yf(e,x))(e.flags&131072)!==0&&(On=!0);else return i.lanes=e.lanes,Za(e,i,x)}return Pf(e,i,s,f,x)}function ud(e,i,s,f){var x=f.children,_=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((i.flags&128)!==0){if(_=_!==null?_.baseLanes|s:s,e!==null){for(f=i.child=e.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;f=x&~_}else f=0,i.child=null;return fd(e,i,_,s,f)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(i,_!==null?_.cachePool:null),_!==null?dh(i,_):xf(),gh(i);else return f=i.lanes=536870912,fd(e,i,_!==null?_.baseLanes|s:s,s,f)}else _!==null?(uc(i,_.cachePool),dh(i,_),Cr(),i.memoizedState=null):(e!==null&&uc(i,null),xf(),Cr());return Yn(e,i,x,s),i.child}function Js(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function fd(e,i,s,f,x){var _=uf();return _=_===null?null:{parent:Tn._currentValue,pool:_},i.memoizedState={baseLanes:s,cachePool:_},e!==null&&uc(i,null),xf(),gh(i),e!==null&&Yl(e,i,f,!0),i.childLanes=x,null}function vc(e,i){return i=Nc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function hd(e,i,s){return dl(i,e.child,null,s),e=vc(i,i.pendingProps),e.flags|=2,Ii(i),i.memoizedState=null,e}function qp(e,i,s){var f=i.pendingProps,x=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ct){if(f.mode==="hidden")return e=vc(i,f),i.lanes=536870912,Js(null,e);if(wf(i),(e=en)?(e=C2(e,qi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:xr!==null?{id:_a,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},s=K1(e),s.return=i,i.child=s,Vn=i,en=null)):e=null,e===null)throw wr(i);return i.lanes=536870912,null}return vc(i,f)}var _=e.memoizedState;if(_!==null){var T=_.dehydrated;if(wf(i),x)if(i.flags&256)i.flags&=-257,i=hd(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(d(558));else if(On||Yl(e,i,s,!1),x=(s&e.childLanes)!==0,On||x){if(f=Kt,f!==null&&(T=Il(f,s),T!==0&&T!==_.retryLane))throw _.retryLane=T,rl(e,T),wi(f,e,T),Ff;zc(),i=hd(e,i,s)}else e=_.treeContext,en=Qi(T.nextSibling),Vn=i,Ct=!0,pr=null,qi=!1,e!==null&&J1(i,e),i=vc(i,f),i.flags|=4096;return i}return e=La(e.child,{mode:f.mode,children:f.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Tc(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(d(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Pf(e,i,s,f,x){return cl(i),s=yf(e,i,s,f,void 0,x),f=Ef(),e!==null&&!On?(Af(e,i,x),Za(e,i,x)):(Ct&&f&&ef(i),i.flags|=1,Yn(e,i,s,x),i.child)}function dd(e,i,s,f,x,_){return cl(i),i.updateQueue=null,s=xh(i,f,s,x),mh(e),f=Ef(),e!==null&&!On?(Af(e,i,_),Za(e,i,_)):(Ct&&f&&ef(i),i.flags|=1,Yn(e,i,s,_),i.child)}function gd(e,i,s,f,x){if(cl(i),i.stateNode===null){var _=jl,T=s.contextType;typeof T=="object"&&T!==null&&(_=Xn(T)),_=new s(f,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=zf,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=f,_.state=i.memoizedState,_.refs={},hf(i),T=s.contextType,_.context=typeof T=="object"&&T!==null?Xn(T):jl,_.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Lf(i,s,T,f),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(T=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),T!==_.state&&zf.enqueueReplaceState(_,_.state,null),Ys(i,f,_,x),Xs(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(e===null){_=i.stateNode;var D=i.memoizedProps,z=ml(s,D);_.props=z;var W=_.context,oe=s.contextType;T=jl,typeof oe=="object"&&oe!==null&&(T=Xn(oe));var fe=s.getDerivedStateFromProps;oe=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",D=i.pendingProps!==D,oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D||W!==T)&&ed(i,_,f,T),yr=!1;var ee=i.memoizedState;_.state=ee,Ys(i,f,_,x),Xs(),W=i.memoizedState,D||ee!==W||yr?(typeof fe=="function"&&(Lf(i,s,fe,f),W=i.memoizedState),(z=yr||$h(i,s,z,f,ee,W,T))?(oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=W),_.props=f,_.state=W,_.context=T,f=z):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{_=i.stateNode,df(e,i),T=i.memoizedProps,oe=ml(s,T),_.props=oe,fe=i.pendingProps,ee=_.context,W=s.contextType,z=jl,typeof W=="object"&&W!==null&&(z=Xn(W)),D=s.getDerivedStateFromProps,(W=typeof D=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==fe||ee!==z)&&ed(i,_,f,z),yr=!1,ee=i.memoizedState,_.state=ee,Ys(i,f,_,x),Xs();var le=i.memoizedState;T!==fe||ee!==le||yr||e!==null&&e.dependencies!==null&&oc(e.dependencies)?(typeof D=="function"&&(Lf(i,s,D,f),le=i.memoizedState),(oe=yr||$h(i,s,oe,f,ee,le,z)||e!==null&&e.dependencies!==null&&oc(e.dependencies))?(W||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,le,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,le,z)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===e.memoizedProps&&ee===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&ee===e.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=le),_.props=f,_.state=le,_.context=z,f=oe):(typeof _.componentDidUpdate!="function"||T===e.memoizedProps&&ee===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&ee===e.memoizedState||(i.flags|=1024),f=!1)}return _=f,Tc(e,i),f=(i.flags&128)!==0,_||f?(_=i.stateNode,s=f&&typeof s.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&f?(i.child=dl(i,e.child,null,x),i.child=dl(i,null,s,x)):Yn(e,i,s,x),i.memoizedState=_.state,e=i.child):e=Za(e,i,x),e}function md(e,i,s,f){return sl(),i.flags|=256,Yn(e,i,s,f),i.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(e){return{baseLanes:e,cachePool:ah()}}function jf(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Mi),e}function xd(e,i,s){var f=i.pendingProps,x=!1,_=(i.flags&128)!==0,T;if((T=_)||(T=e!==null&&e.memoizedState===null?!1:(yn.current&2)!==0),T&&(x=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ct){if(x?br(i):Cr(),(e=en)?(e=C2(e,qi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:xr!==null?{id:_a,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},s=K1(e),s.return=i,i.child=s,Vn=i,en=null)):e=null,e===null)throw wr(i);return S0(e)?i.lanes=32:i.lanes=536870912,null}var D=f.children;return f=f.fallback,x?(Cr(),x=i.mode,D=Nc({mode:"hidden",children:D},x),f=ll(f,x,s,null),D.return=i,f.return=i,D.sibling=f,i.child=D,f=i.child,f.memoizedState=Zf(s),f.childLanes=jf(e,T,s),i.memoizedState=Hf,Js(null,f)):(br(i),Gf(i,D))}var z=e.memoizedState;if(z!==null&&(D=z.dehydrated,D!==null)){if(_)i.flags&256?(br(i),i.flags&=-257,i=Vf(e,i,s)):i.memoizedState!==null?(Cr(),i.child=e.child,i.flags|=128,i=null):(Cr(),D=f.fallback,x=i.mode,f=Nc({mode:"visible",children:f.children},x),D=ll(D,x,s,null),D.flags|=2,f.return=i,D.return=i,f.sibling=D,i.child=f,dl(i,e.child,null,s),f=i.child,f.memoizedState=Zf(s),f.childLanes=jf(e,T,s),i.memoizedState=Hf,i=Js(null,f));else if(br(i),S0(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var W=T.dgst;T=W,f=Error(d(419)),f.stack="",f.digest=T,Ps({value:f,source:null,stack:null}),i=Vf(e,i,s)}else if(On||Yl(e,i,s,!1),T=(s&e.childLanes)!==0,On||T){if(T=Kt,T!==null&&(f=Il(T,s),f!==0&&f!==z.retryLane))throw z.retryLane=f,rl(e,f),wi(T,e,f),Ff;C0(D)||zc(),i=Vf(e,i,s)}else C0(D)?(i.flags|=192,i.child=e.child,i=null):(e=z.treeContext,en=Qi(D.nextSibling),Vn=i,Ct=!0,pr=null,qi=!1,e!==null&&J1(i,e),i=Gf(i,f.children),i.flags|=4096);return i}return x?(Cr(),D=f.fallback,x=i.mode,z=e.child,W=z.sibling,f=La(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,W!==null?D=La(W,D):(D=ll(D,x,s,null),D.flags|=2),D.return=i,f.return=i,f.sibling=D,i.child=f,Js(null,f),f=i.child,D=e.child.memoizedState,D===null?D=Zf(s):(x=D.cachePool,x!==null?(z=Tn._currentValue,x=x.parent!==z?{parent:z,pool:z}:x):x=ah(),D={baseLanes:D.baseLanes|s,cachePool:x}),f.memoizedState=D,f.childLanes=jf(e,T,s),i.memoizedState=Hf,Js(e.child,f)):(br(i),s=e.child,e=s.sibling,s=La(s,{mode:"visible",children:f.children}),s.return=i,s.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=s,i.memoizedState=null,s)}function Gf(e,i){return i=Nc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Nc(e,i){return e=Oi(22,e,null,i),e.lanes=0,e}function Vf(e,i,s){return dl(i,e.child,null,s),e=Gf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function pd(e,i,s){e.lanes|=i;var f=e.alternate;f!==null&&(f.lanes|=i),lf(e.return,i,s)}function Xf(e,i,s,f,x,_){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:x,treeForkCount:_}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=s,T.tailMode=x,T.treeForkCount=_)}function wd(e,i,s){var f=i.pendingProps,x=f.revealOrder,_=f.tail;f=f.children;var T=yn.current,D=(T&2)!==0;if(D?(T=T&1|2,i.flags|=128):T&=1,Ae(yn,T),Yn(e,i,f,s),f=Ct?Fs:0,!D&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pd(e,s,i);else if(e.tag===19)pd(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(x){case"forwards":for(s=i.child,x=null;s!==null;)e=s.alternate,e!==null&&xc(e)===null&&(x=s),s=s.sibling;s=x,s===null?(x=i.child,i.child=null):(x=s.sibling,s.sibling=null),Xf(i,!1,x,s,_,f);break;case"backwards":case"unstable_legacy-backwards":for(s=null,x=i.child,i.child=null;x!==null;){if(e=x.alternate,e!==null&&xc(e)===null){i.child=x;break}e=x.sibling,x.sibling=s,s=x,x=e}Xf(i,!0,s,null,_,f);break;case"together":Xf(i,!1,null,null,void 0,f);break;default:i.memoizedState=null}return i.child}function Za(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Tr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Yl(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(d(153));if(i.child!==null){for(e=i.child,s=La(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=La(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Yf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&oc(e)))}function Kp(e,i,s){switch(i.tag){case 3:rt(i,i.stateNode.containerInfo),_r(i,Tn,e.memoizedState.cache),sl();break;case 27:case 5:Zn(i);break;case 4:rt(i,i.stateNode.containerInfo);break;case 10:_r(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,wf(i),null;break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(br(i),i.flags|=128,null):(s&i.child.childLanes)!==0?xd(e,i,s):(br(i),e=Za(e,i,s),e!==null?e.sibling:null);br(i);break;case 19:var x=(e.flags&128)!==0;if(f=(s&i.childLanes)!==0,f||(Yl(e,i,s,!1),f=(s&i.childLanes)!==0),x){if(f)return wd(e,i,s);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ae(yn,yn.current),f)break;return null;case 22:return i.lanes=0,ud(e,i,s,i.pendingProps);case 24:_r(i,Tn,e.memoizedState.cache)}return Za(e,i,s)}function _d(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)On=!0;else{if(!Yf(e,s)&&(i.flags&128)===0)return On=!1,Kp(e,i,s);On=(e.flags&131072)!==0}else On=!1,Ct&&(i.flags&1048576)!==0&&W1(i,Fs,i.index);switch(i.lanes=0,i.tag){case 16:e:{var f=i.pendingProps;if(e=fl(i.elementType),i.type=e,typeof e=="function")Wu(e)?(f=ml(e,f),i.tag=1,i=gd(null,i,e,f,s)):(i.tag=0,i=Pf(null,i,e,f,s));else{if(e!=null){var x=e.$$typeof;if(x===q){i.tag=11,i=sd(null,i,e,f,s);break e}else if(x===Z){i.tag=14,i=od(null,i,e,f,s);break e}}throw i=Je(e)||e,Error(d(306,i,""))}}return i;case 0:return Pf(e,i,i.type,i.pendingProps,s);case 1:return f=i.type,x=ml(f,i.pendingProps),gd(e,i,f,x,s);case 3:e:{if(rt(i,i.stateNode.containerInfo),e===null)throw Error(d(387));f=i.pendingProps;var _=i.memoizedState;x=_.element,df(e,i),Ys(i,f,null,s);var T=i.memoizedState;if(f=T.cache,_r(i,Tn,f),f!==_.cache&&sf(i,[Tn],s,!0),Xs(),f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=md(e,i,f,s);break e}else if(f!==x){x=Vi(Error(d(424)),i),Ps(x),i=md(e,i,f,s);break e}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,en=Qi(e.firstChild),Vn=i,Ct=!0,pr=null,qi=!0,s=uh(i,null,f,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(sl(),f===x){i=Za(e,i,s);break e}Yn(e,i,f,s)}i=i.child}return i;case 26:return Tc(e,i),e===null?(s=R2(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ct||(s=i.type,e=i.pendingProps,f=Gc(ye.current).createElement(s),f[pn]=i,f[Ft]=e,qn(f,s,e),fn(f),i.stateNode=f):i.memoizedState=R2(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Zn(i),e===null&&Ct&&(f=i.stateNode=T2(i.type,i.pendingProps,ye.current),Vn=i,qi=!0,x=en,Dr(i.type)?(v0=x,en=Qi(f.firstChild)):en=x),Yn(e,i,i.pendingProps.children,s),Tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ct&&((x=f=en)&&(f=S3(f,i.type,i.pendingProps,qi),f!==null?(i.stateNode=f,Vn=i,en=Qi(f.firstChild),qi=!1,x=!0):x=!1),x||wr(i)),Zn(i),x=i.type,_=i.pendingProps,T=e!==null?e.memoizedProps:null,f=_.children,E0(x,_)?f=null:T!==null&&E0(x,T)&&(i.flags|=32),i.memoizedState!==null&&(x=yf(e,i,Pp,null,null,s),go._currentValue=x),Tc(e,i),Yn(e,i,f,s),i.child;case 6:return e===null&&Ct&&((e=s=en)&&(s=v3(s,i.pendingProps,qi),s!==null?(i.stateNode=s,Vn=i,en=null,e=!0):e=!1),e||wr(i)),null;case 13:return xd(e,i,s);case 4:return rt(i,i.stateNode.containerInfo),f=i.pendingProps,e===null?i.child=dl(i,null,f,s):Yn(e,i,f,s),i.child;case 11:return sd(e,i,i.type,i.pendingProps,s);case 7:return Yn(e,i,i.pendingProps,s),i.child;case 8:return Yn(e,i,i.pendingProps.children,s),i.child;case 12:return Yn(e,i,i.pendingProps.children,s),i.child;case 10:return f=i.pendingProps,_r(i,i.type,f.value),Yn(e,i,f.children,s),i.child;case 9:return x=i.type._context,f=i.pendingProps.children,cl(i),x=Xn(x),f=f(x),i.flags|=1,Yn(e,i,f,s),i.child;case 14:return od(e,i,i.type,i.pendingProps,s);case 15:return cd(e,i,i.type,i.pendingProps,s);case 19:return wd(e,i,s);case 31:return qp(e,i,s);case 22:return ud(e,i,s,i.pendingProps);case 24:return cl(i),f=Xn(Tn),e===null?(x=uf(),x===null&&(x=Kt,_=of(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=s),x=_),i.memoizedState={parent:f,cache:x},hf(i),_r(i,Tn,x)):((e.lanes&s)!==0&&(df(e,i),Ys(i,null,null,s),Xs()),x=e.memoizedState,_=i.memoizedState,x.parent!==f?(x={parent:f,cache:f},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),_r(i,Tn,f)):(f=_.cache,_r(i,Tn,f),f!==x.cache&&sf(i,[Tn],s,!0))),Yn(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(d(156,i.tag))}function ja(e){e.flags|=4}function qf(e,i,s,f,x){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(x&335544128)===x)if(e.stateNode.complete)e.flags|=8192;else if(Xd())e.flags|=8192;else throw hl=hc,ff}else e.flags&=-16777217}function yd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!k2(i))if(Xd())e.flags|=8192;else throw hl=hc,ff}function Oc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?In():536870912,e.lanes|=i,rs|=i)}function $s(e,i){if(!Ct)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:f.sibling=null}}function tn(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,f=0;if(i)for(var x=e.child;x!==null;)s|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=e,x=x.sibling;else for(x=e.child;x!==null;)s|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=e,x=x.sibling;return e.subtreeFlags|=f,e.childLanes=s,i}function Qp(e,i,s){var f=i.pendingProps;switch(tf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(i),null;case 1:return tn(i),null;case 3:return s=i.stateNode,f=null,e!==null&&(f=e.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),Fa(Tn),It(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Xl(i)?ja(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),tn(i),null;case 26:var x=i.type,_=i.memoizedState;return e===null?(ja(i),_!==null?(tn(i),yd(i,_)):(tn(i),qf(i,x,null,f,s))):_?_!==e.memoizedState?(ja(i),tn(i),yd(i,_)):(tn(i),i.flags&=-16777217):(e=e.memoizedProps,e!==f&&ja(i),tn(i),qf(i,x,e,f,s)),null;case 27:if(Qt(i),s=ye.current,x=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==f&&ja(i);else{if(!f){if(i.stateNode===null)throw Error(d(166));return tn(i),null}e=Ce.current,Xl(i)?$1(i):(e=T2(x,f,s),i.stateNode=e,ja(i))}return tn(i),null;case 5:if(Qt(i),x=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==f&&ja(i);else{if(!f){if(i.stateNode===null)throw Error(d(166));return tn(i),null}if(_=Ce.current,Xl(i))$1(i);else{var T=Gc(ye.current);switch(_){case 1:_=T.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=T.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=T.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=T.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?T.createElement("select",{is:f.is}):T.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?T.createElement(x,{is:f.is}):T.createElement(x)}}_[pn]=i,_[Ft]=f;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)_.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=_;e:switch(qn(_,x,f),x){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ja(i)}}return tn(i),qf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==f&&ja(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(d(166));if(e=ye.current,Xl(i)){if(e=i.stateNode,s=i.memoizedProps,f=null,x=Vn,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}e[pn]=i,e=!!(e.nodeValue===s||f!==null&&f.suppressHydrationWarning===!0||x2(e.nodeValue,s)),e||wr(i,!0)}else e=Gc(e).createTextNode(f),e[pn]=i,i.stateNode=e}return tn(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(f=Xl(i),s!==null){if(e===null){if(!f)throw Error(d(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[pn]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tn(i),e=!1}else s=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(Ii(i),i):(Ii(i),null);if((i.flags&128)!==0)throw Error(d(558))}return tn(i),null;case 13:if(f=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(x=Xl(i),f!==null&&f.dehydrated!==null){if(e===null){if(!x)throw Error(d(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(d(317));x[pn]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tn(i),x=!1}else x=af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(Ii(i),i):(Ii(i),null)}return Ii(i),(i.flags&128)!==0?(i.lanes=s,i):(s=f!==null,e=e!==null&&e.memoizedState!==null,s&&(f=i.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==x&&(f.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),Oc(i,i.updateQueue),tn(i),null);case 4:return It(),e===null&&x0(i.stateNode.containerInfo),tn(i),null;case 10:return Fa(i.type),tn(i),null;case 19:if(J(yn),f=i.memoizedState,f===null)return tn(i),null;if(x=(i.flags&128)!==0,_=f.rendering,_===null)if(x)$s(f,!1);else{if(gn!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=xc(e),_!==null){for(i.flags|=128,$s(f,!1),e=_.updateQueue,i.updateQueue=e,Oc(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)q1(s,e),s=s.sibling;return Ae(yn,yn.current&1|2),Ct&&za(i,f.treeForkCount),i.child}e=e.sibling}f.tail!==null&&We()>Bc&&(i.flags|=128,x=!0,$s(f,!1),i.lanes=4194304)}else{if(!x)if(e=xc(_),e!==null){if(i.flags|=128,x=!0,e=e.updateQueue,i.updateQueue=e,Oc(i,e),$s(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Ct)return tn(i),null}else 2*We()-f.renderingStartTime>Bc&&s!==536870912&&(i.flags|=128,x=!0,$s(f,!1),i.lanes=4194304);f.isBackwards?(_.sibling=i.child,i.child=_):(e=f.last,e!==null?e.sibling=_:i.child=_,f.last=_)}return f.tail!==null?(e=f.tail,f.rendering=e,f.tail=e.sibling,f.renderingStartTime=We(),e.sibling=null,s=yn.current,Ae(yn,x?s&1|2:s&1),Ct&&za(i,f.treeForkCount),e):(tn(i),null);case 22:case 23:return Ii(i),pf(),f=i.memoizedState!==null,e!==null?e.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(s&536870912)!==0&&(i.flags&128)===0&&(tn(i),i.subtreeFlags&6&&(i.flags|=8192)):tn(i),s=i.updateQueue,s!==null&&Oc(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==s&&(i.flags|=2048),e!==null&&J(ul),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Fa(Tn),tn(i),null;case 25:return null;case 30:return null}throw Error(d(156,i.tag))}function Wp(e,i){switch(tf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Fa(Tn),It(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Qt(i),null;case 31:if(i.memoizedState!==null){if(Ii(i),i.alternate===null)throw Error(d(340));sl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(d(340));sl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return J(yn),null;case 4:return It(),null;case 10:return Fa(i.type),null;case 22:case 23:return Ii(i),pf(),e!==null&&J(ul),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Fa(Tn),null;case 25:return null;default:return null}}function Ed(e,i){switch(tf(i),i.tag){case 3:Fa(Tn),It();break;case 26:case 27:case 5:Qt(i);break;case 4:It();break;case 31:i.memoizedState!==null&&Ii(i);break;case 13:Ii(i);break;case 19:J(yn);break;case 10:Fa(i.type);break;case 22:case 23:Ii(i),pf(),e!==null&&J(ul);break;case 24:Fa(Tn)}}function eo(e,i){try{var s=i.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var x=f.next;s=x;do{if((s.tag&e)===e){f=void 0;var _=s.create,T=s.inst;f=_(),T.destroy=f}s=s.next}while(s!==x)}}catch(D){Ht(i,i.return,D)}}function Sr(e,i,s){try{var f=i.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var _=x.next;f=_;do{if((f.tag&e)===e){var T=f.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,x=i;var z=s,W=D;try{W()}catch(oe){Ht(x,z,oe)}}}f=f.next}while(f!==_)}}catch(oe){Ht(i,i.return,oe)}}function Ad(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{hh(i,s)}catch(f){Ht(e,e.return,f)}}}function bd(e,i,s){s.props=ml(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(f){Ht(e,i,f)}}function to(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var f=e.stateNode;break;case 30:f=e.stateNode;break;default:f=e.stateNode}typeof s=="function"?e.refCleanup=s(f):s.current=f}}catch(x){Ht(e,i,x)}}function Ea(e,i){var s=e.ref,f=e.refCleanup;if(s!==null)if(typeof f=="function")try{f()}catch(x){Ht(e,i,x)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(x){Ht(e,i,x)}else s.current=null}function Cd(e){var i=e.type,s=e.memoizedProps,f=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&f.focus();break e;case"img":s.src?f.src=s.src:s.srcSet&&(f.srcset=s.srcSet)}}catch(x){Ht(e,e.return,x)}}function Kf(e,i,s){try{var f=e.stateNode;_3(f,e.type,s,i),f[Ft]=i}catch(x){Ht(e,e.return,x)}}function Sd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,i,s){var f=e.tag;if(f===5||f===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=fi));else if(f!==4&&(f===27&&Dr(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(Wf(e,i,s),e=e.sibling;e!==null;)Wf(e,i,s),e=e.sibling}function Rc(e,i,s){var f=e.tag;if(f===5||f===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(f!==4&&(f===27&&Dr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Rc(e,i,s),e=e.sibling;e!==null;)Rc(e,i,s),e=e.sibling}function vd(e){var i=e.stateNode,s=e.memoizedProps;try{for(var f=e.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);qn(i,f,s),i[pn]=e,i[Ft]=s}catch(_){Ht(e,e.return,_)}}var Ga=!1,Rn=!1,Jf=!1,Td=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function Jp(e,i){if(e=e.containerInfo,_0=Wc,e=O(e),R(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var x=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{s.nodeType,_.nodeType}catch{s=null;break e}var T=0,D=-1,z=-1,W=0,oe=0,fe=e,ee=null;t:for(;;){for(var le;fe!==s||x!==0&&fe.nodeType!==3||(D=T+x),fe!==_||f!==0&&fe.nodeType!==3||(z=T+f),fe.nodeType===3&&(T+=fe.nodeValue.length),(le=fe.firstChild)!==null;)ee=fe,fe=le;for(;;){if(fe===e)break t;if(ee===s&&++W===x&&(D=T),ee===_&&++oe===f&&(z=T),(le=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=le}s=D===-1||z===-1?null:{start:D,end:z}}else s=null}s=s||{start:0,end:0}}else s=null;for(y0={focusedElem:e,selectionRange:s},Wc=!1,Pn=i;Pn!==null;)if(i=Pn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pn=e;else for(;Pn!==null;){switch(i=Pn,_=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)x=e[s],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,s=i,x=_.memoizedProps,_=_.memoizedState,f=s.stateNode;try{var Le=ml(s.type,x);e=f.getSnapshotBeforeUpdate(Le,_),f.__reactInternalSnapshotBeforeUpdate=e}catch(Ke){Ht(s,s.return,Ke)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)b0(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":b0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=i.sibling,e!==null){e.return=i.return,Pn=e;break}Pn=i.return}}function Nd(e,i,s){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Xa(e,s),f&4&&eo(5,s);break;case 1:if(Xa(e,s),f&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(T){Ht(s,s.return,T)}else{var x=ml(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(x,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ht(s,s.return,T)}}f&64&&Ad(s),f&512&&to(s,s.return);break;case 3:if(Xa(e,s),f&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{hh(e,i)}catch(T){Ht(s,s.return,T)}}break;case 27:i===null&&f&4&&vd(s);case 26:case 5:Xa(e,s),i===null&&f&4&&Cd(s),f&512&&to(s,s.return);break;case 12:Xa(e,s);break;case 31:Xa(e,s),f&4&&Id(e,s);break;case 13:Xa(e,s),f&4&&Dd(e,s),f&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=s3.bind(null,s),T3(e,s))));break;case 22:if(f=s.memoizedState!==null||Ga,!f){i=i!==null&&i.memoizedState!==null||Rn,x=Ga;var _=Rn;Ga=f,(Rn=i)&&!_?Ya(e,s,(s.subtreeFlags&8772)!==0):Xa(e,s),Ga=x,Rn=_}break;case 30:break;default:Xa(e,s)}}function Od(e){var i=e.alternate;i!==null&&(e.alternate=null,Od(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ui(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var an=null,gi=!1;function Va(e,i,s){for(s=s.child;s!==null;)Rd(e,i,s),s=s.sibling}function Rd(e,i,s){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(Ue,s)}catch{}switch(s.tag){case 26:Rn||Ea(s,i),Va(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Rn||Ea(s,i);var f=an,x=gi;Dr(s.type)&&(an=s.stateNode,gi=!1),Va(e,i,s),uo(s.stateNode),an=f,gi=x;break;case 5:Rn||Ea(s,i);case 6:if(f=an,x=gi,an=null,Va(e,i,s),an=f,gi=x,an!==null)if(gi)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(s.stateNode)}catch(_){Ht(s,i,_)}else try{an.removeChild(s.stateNode)}catch(_){Ht(s,i,_)}break;case 18:an!==null&&(gi?(e=an,A2(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ds(e)):A2(an,s.stateNode));break;case 4:f=an,x=gi,an=s.stateNode.containerInfo,gi=!0,Va(e,i,s),an=f,gi=x;break;case 0:case 11:case 14:case 15:Sr(2,s,i),Rn||Sr(4,s,i),Va(e,i,s);break;case 1:Rn||(Ea(s,i),f=s.stateNode,typeof f.componentWillUnmount=="function"&&bd(s,i,f)),Va(e,i,s);break;case 21:Va(e,i,s);break;case 22:Rn=(f=Rn)||s.memoizedState!==null,Va(e,i,s),Rn=f;break;default:Va(e,i,s)}}function Id(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ds(e)}catch(s){Ht(i,i.return,s)}}}function Dd(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ds(e)}catch(s){Ht(i,i.return,s)}}function $p(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Td),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Td),i;default:throw Error(d(435,e.tag))}}function Ic(e,i){var s=$p(e);i.forEach(function(f){if(!s.has(f)){s.add(f);var x=o3.bind(null,e,f);f.then(x,x)}})}function mi(e,i){var s=i.deletions;if(s!==null)for(var f=0;f<s.length;f++){var x=s[f],_=e,T=i,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(Dr(D.type)){an=D.stateNode,gi=!1;break e}break;case 5:an=D.stateNode,gi=!1;break e;case 3:case 4:an=D.stateNode.containerInfo,gi=!0;break e}D=D.return}if(an===null)throw Error(d(160));Rd(_,T,x),an=null,gi=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Md(i,e),i=i.sibling}var ca=null;function Md(e,i){var s=e.alternate,f=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mi(i,e),xi(e),f&4&&(Sr(3,e,e.return),eo(3,e),Sr(5,e,e.return));break;case 1:mi(i,e),xi(e),f&512&&(Rn||s===null||Ea(s,s.return)),f&64&&Ga&&(e=e.updateQueue,e!==null&&(f=e.callbacks,f!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?f:s.concat(f))));break;case 26:var x=ca;if(mi(i,e),xi(e),f&512&&(Rn||s===null||Ea(s,s.return)),f&4){var _=s!==null?s.memoizedState:null;if(f=e.memoizedState,s===null)if(f===null)if(e.stateNode===null){e:{f=e.type,s=e.memoizedProps,x=x.ownerDocument||x;t:switch(f){case"title":_=x.getElementsByTagName("title")[0],(!_||_[Qr]||_[pn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(f),x.head.insertBefore(_,x.querySelector("head > title"))),qn(_,f,s),_[pn]=e,fn(_),f=_;break e;case"link":var T=M2("link","href",x).get(f+(s.href||""));if(T){for(var D=0;D<T.length;D++)if(_=T[D],_.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&_.getAttribute("rel")===(s.rel==null?null:s.rel)&&_.getAttribute("title")===(s.title==null?null:s.title)&&_.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(D,1);break t}}_=x.createElement(f),qn(_,f,s),x.head.appendChild(_);break;case"meta":if(T=M2("meta","content",x).get(f+(s.content||""))){for(D=0;D<T.length;D++)if(_=T[D],_.getAttribute("content")===(s.content==null?null:""+s.content)&&_.getAttribute("name")===(s.name==null?null:s.name)&&_.getAttribute("property")===(s.property==null?null:s.property)&&_.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&_.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(D,1);break t}}_=x.createElement(f),qn(_,f,s),x.head.appendChild(_);break;default:throw Error(d(468,f))}_[pn]=e,fn(_),f=_}e.stateNode=f}else B2(x,e.type,e.stateNode);else e.stateNode=D2(x,f,e.memoizedProps);else _!==f?(_===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):_.count--,f===null?B2(x,e.type,e.stateNode):D2(x,f,e.memoizedProps)):f===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:mi(i,e),xi(e),f&512&&(Rn||s===null||Ea(s,s.return)),s!==null&&f&4&&Kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mi(i,e),xi(e),f&512&&(Rn||s===null||Ea(s,s.return)),e.flags&32){x=e.stateNode;try{sr(x,"")}catch(Le){Ht(e,e.return,Le)}}f&4&&e.stateNode!=null&&(x=e.memoizedProps,Kf(e,x,s!==null?s.memoizedProps:x)),f&1024&&(Jf=!0);break;case 6:if(mi(i,e),xi(e),f&4){if(e.stateNode===null)throw Error(d(162));f=e.memoizedProps,s=e.stateNode;try{s.nodeValue=f}catch(Le){Ht(e,e.return,Le)}}break;case 3:if(Yc=null,x=ca,ca=Vc(i.containerInfo),mi(i,e),ca=x,xi(e),f&4&&s!==null&&s.memoizedState.isDehydrated)try{ds(i.containerInfo)}catch(Le){Ht(e,e.return,Le)}Jf&&(Jf=!1,Bd(e));break;case 4:f=ca,ca=Vc(e.stateNode.containerInfo),mi(i,e),xi(e),ca=f;break;case 12:mi(i,e),xi(e);break;case 31:mi(i,e),xi(e),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,Ic(e,f)));break;case 13:mi(i,e),xi(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Mc=We()),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,Ic(e,f)));break;case 22:x=e.memoizedState!==null;var z=s!==null&&s.memoizedState!==null,W=Ga,oe=Rn;if(Ga=W||x,Rn=oe||z,mi(i,e),Rn=oe,Ga=W,xi(e),f&8192)e:for(i=e.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(s===null||z||Ga||Rn||xl(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){z=s=i;try{if(_=z.stateNode,x)T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=z.stateNode;var fe=z.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Le){Ht(z,z.return,Le)}}}else if(i.tag===6){if(s===null){z=i;try{z.stateNode.nodeValue=x?"":z.memoizedProps}catch(Le){Ht(z,z.return,Le)}}}else if(i.tag===18){if(s===null){z=i;try{var le=z.stateNode;x?b2(le,!0):b2(z.stateNode,!1)}catch(Le){Ht(z,z.return,Le)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=e.updateQueue,f!==null&&(s=f.retryQueue,s!==null&&(f.retryQueue=null,Ic(e,s))));break;case 19:mi(i,e),xi(e),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,Ic(e,f)));break;case 30:break;case 21:break;default:mi(i,e),xi(e)}}function xi(e){var i=e.flags;if(i&2){try{for(var s,f=e.return;f!==null;){if(Sd(f)){s=f;break}f=f.return}if(s==null)throw Error(d(160));switch(s.tag){case 27:var x=s.stateNode,_=Qf(e);Rc(e,_,x);break;case 5:var T=s.stateNode;s.flags&32&&(sr(T,""),s.flags&=-33);var D=Qf(e);Rc(e,D,T);break;case 3:case 4:var z=s.stateNode.containerInfo,W=Qf(e);Wf(e,W,z);break;default:throw Error(d(161))}}catch(oe){Ht(e,e.return,oe)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Bd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Bd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Xa(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Nd(e,i.alternate,i),i=i.sibling}function xl(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Sr(4,i,i.return),xl(i);break;case 1:Ea(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&bd(i,i.return,s),xl(i);break;case 27:uo(i.stateNode);case 26:case 5:Ea(i,i.return),xl(i);break;case 22:i.memoizedState===null&&xl(i);break;case 30:xl(i);break;default:xl(i)}e=e.sibling}}function Ya(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,x=e,_=i,T=_.flags;switch(_.tag){case 0:case 11:case 15:Ya(x,_,s),eo(4,_);break;case 1:if(Ya(x,_,s),f=_,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(W){Ht(f,f.return,W)}if(f=_,x=f.updateQueue,x!==null){var D=f.stateNode;try{var z=x.shared.hiddenCallbacks;if(z!==null)for(x.shared.hiddenCallbacks=null,x=0;x<z.length;x++)fh(z[x],D)}catch(W){Ht(f,f.return,W)}}s&&T&64&&Ad(_),to(_,_.return);break;case 27:vd(_);case 26:case 5:Ya(x,_,s),s&&f===null&&T&4&&Cd(_),to(_,_.return);break;case 12:Ya(x,_,s);break;case 31:Ya(x,_,s),s&&T&4&&Id(x,_);break;case 13:Ya(x,_,s),s&&T&4&&Dd(x,_);break;case 22:_.memoizedState===null&&Ya(x,_,s),to(_,_.return);break;case 30:break;default:Ya(x,_,s)}i=i.sibling}}function $f(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Hs(s))}function e0(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Hs(e))}function ua(e,i,s,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kd(e,i,s,f),i=i.sibling}function kd(e,i,s,f){var x=i.flags;switch(i.tag){case 0:case 11:case 15:ua(e,i,s,f),x&2048&&eo(9,i);break;case 1:ua(e,i,s,f);break;case 3:ua(e,i,s,f),x&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Hs(e)));break;case 12:if(x&2048){ua(e,i,s,f),e=i.stateNode;try{var _=i.memoizedProps,T=_.id,D=_.onPostCommit;typeof D=="function"&&D(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){Ht(i,i.return,z)}}else ua(e,i,s,f);break;case 31:ua(e,i,s,f);break;case 13:ua(e,i,s,f);break;case 23:break;case 22:_=i.stateNode,T=i.alternate,i.memoizedState!==null?_._visibility&2?ua(e,i,s,f):no(e,i):_._visibility&2?ua(e,i,s,f):(_._visibility|=2,ns(e,i,s,f,(i.subtreeFlags&10256)!==0||!1)),x&2048&&$f(T,i);break;case 24:ua(e,i,s,f),x&2048&&e0(i.alternate,i);break;default:ua(e,i,s,f)}}function ns(e,i,s,f,x){for(x=x&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var _=e,T=i,D=s,z=f,W=T.flags;switch(T.tag){case 0:case 11:case 15:ns(_,T,D,z,x),eo(8,T);break;case 23:break;case 22:var oe=T.stateNode;T.memoizedState!==null?oe._visibility&2?ns(_,T,D,z,x):no(_,T):(oe._visibility|=2,ns(_,T,D,z,x)),x&&W&2048&&$f(T.alternate,T);break;case 24:ns(_,T,D,z,x),x&&W&2048&&e0(T.alternate,T);break;default:ns(_,T,D,z,x)}i=i.sibling}}function no(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,f=i,x=f.flags;switch(f.tag){case 22:no(s,f),x&2048&&$f(f.alternate,f);break;case 24:no(s,f),x&2048&&e0(f.alternate,f);break;default:no(s,f)}i=i.sibling}}var io=8192;function is(e,i,s){if(e.subtreeFlags&io)for(e=e.child;e!==null;)Ld(e,i,s),e=e.sibling}function Ld(e,i,s){switch(e.tag){case 26:is(e,i,s),e.flags&io&&e.memoizedState!==null&&F3(s,ca,e.memoizedState,e.memoizedProps);break;case 5:is(e,i,s);break;case 3:case 4:var f=ca;ca=Vc(e.stateNode.containerInfo),is(e,i,s),ca=f;break;case 22:e.memoizedState===null&&(f=e.alternate,f!==null&&f.memoizedState!==null?(f=io,io=16777216,is(e,i,s),io=f):is(e,i,s));break;default:is(e,i,s)}}function zd(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ao(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];Pn=f,Fd(f,e)}zd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ud(e),e=e.sibling}function Ud(e){switch(e.tag){case 0:case 11:case 15:ao(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:ao(e);break;case 12:ao(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Dc(e)):ao(e);break;default:ao(e)}}function Dc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];Pn=f,Fd(f,e)}zd(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Sr(8,i,i.return),Dc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Dc(i));break;default:Dc(i)}e=e.sibling}}function Fd(e,i){for(;Pn!==null;){var s=Pn;switch(s.tag){case 0:case 11:case 15:Sr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var f=s.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Hs(s.memoizedState.cache)}if(f=s.child,f!==null)f.return=s,Pn=f;else e:for(s=e;Pn!==null;){f=Pn;var x=f.sibling,_=f.return;if(Od(f),f===s){Pn=null;break e}if(x!==null){x.return=_,Pn=x;break e}Pn=_}}}var e3={getCacheForType:function(e){var i=Xn(Tn),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return Xn(Tn).controller.signal}},t3=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Kt=null,gt=null,yt=0,Pt=0,Di=null,vr=!1,as=!1,t0=!1,qa=0,gn=0,Tr=0,pl=0,n0=0,Mi=0,rs=0,ro=null,pi=null,i0=!1,Mc=0,Pd=0,Bc=1/0,kc=null,Nr=null,kn=0,Or=null,ls=null,Ka=0,a0=0,r0=null,Hd=null,lo=0,l0=null;function Bi(){return(Bt&2)!==0&&yt!==0?yt&-yt:$.T!==null?h0():ti()}function Zd(){if(Mi===0)if((yt&536870912)===0||Ct){var e=wt;wt<<=1,(wt&3932160)===0&&(wt=262144),Mi=e}else Mi=536870912;return e=Ri.current,e!==null&&(e.flags|=32),Mi}function wi(e,i,s){(e===Kt&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)&&(ss(e,0),Rr(e,yt,Mi,!1)),da(e,s),((Bt&2)===0||e!==Kt)&&(e===Kt&&((Bt&2)===0&&(pl|=s),gn===4&&Rr(e,yt,Mi,!1)),Aa(e))}function jd(e,i,s){if((Bt&6)!==0)throw Error(d(327));var f=!s&&(i&127)===0&&(i&e.expiredLanes)===0||jn(e,i),x=f?a3(e,i):o0(e,i,!0),_=f;do{if(x===0){as&&!f&&Rr(e,i,0,!1);break}else{if(s=e.current.alternate,_&&!n3(s)){x=o0(e,i,!1),_=!1;continue}if(x===2){if(_=i,e.errorRecoveryDisabledLanes&_)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var D=e;x=ro;var z=D.current.memoizedState.isDehydrated;if(z&&(ss(D,T).flags|=256),T=o0(D,T,!1),T!==2){if(t0&&!z){D.errorRecoveryDisabledLanes|=_,pl|=_,x=4;break e}_=pi,pi=x,_!==null&&(pi===null?pi=_:pi.push.apply(pi,_))}x=T}if(_=!1,x!==2)continue}}if(x===1){ss(e,0),Rr(e,i,0,!0);break}e:{switch(f=e,_=x,_){case 0:case 1:throw Error(d(345));case 4:if((i&4194048)!==i)break;case 6:Rr(f,i,Mi,!vr);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(d(329))}if((i&62914560)===i&&(x=Mc+300-We(),10<x)){if(Rr(f,i,Mi,!vr),Kr(f,0,!0)!==0)break e;Ka=i,f.timeoutHandle=y2(Gd.bind(null,f,s,pi,kc,i0,i,Mi,pl,rs,vr,_,"Throttled",-0,0),x);break e}Gd(f,s,pi,kc,i0,i,Mi,pl,rs,vr,_,null,-0,0)}}break}while(!0);Aa(e)}function Gd(e,i,s,f,x,_,T,D,z,W,oe,fe,ee,le){if(e.timeoutHandle=-1,fe=i.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Ld(i,_,fe);var Le=(_&62914560)===_?Mc-We():(_&4194048)===_?Pd-We():0;if(Le=P3(fe,Le),Le!==null){Ka=_,e.cancelPendingCommit=Le(Jd.bind(null,e,i,_,s,f,x,T,D,z,oe,fe,null,ee,le)),Rr(e,_,T,!W);return}}Jd(e,i,_,s,f,x,T,D,z)}function n3(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var f=0;f<s.length;f++){var x=s[f],_=x.getSnapshot;x=x.value;try{if(!h(_(),x))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(e,i,s,f){i&=~n0,i&=~pl,e.suspendedLanes|=i,e.pingedLanes&=~i,f&&(e.warmLanes|=i),f=e.expirationTimes;for(var x=i;0<x;){var _=31-et(x),T=1<<_;f[_]=-1,x&=~T}s!==0&&Ho(e,s,i)}function Lc(){return(Bt&6)===0?(so(0),!1):!0}function s0(){if(gt!==null){if(Pt===0)var e=gt.return;else e=gt,Ua=ol=null,bf(e),Wl=null,js=0,e=gt;for(;e!==null;)Ed(e.alternate,e),e=e.return;gt=null}}function ss(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,A3(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ka=0,s0(),Kt=e,gt=s=La(e.current,null),yt=i,Pt=0,Di=null,vr=!1,as=jn(e,i),t0=!1,rs=Mi=n0=pl=Tr=gn=0,pi=ro=null,i0=!1,(i&8)!==0&&(i|=i&32);var f=e.entangledLanes;if(f!==0)for(e=e.entanglements,f&=i;0<f;){var x=31-et(f),_=1<<x;i|=e[x],f&=~_}return qa=i,ic(),s}function Vd(e,i){at=null,$.H=Ws,i===Ql||i===fc?(i=sh(),Pt=3):i===ff?(i=sh(),Pt=4):Pt=i===Ff?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Di=i,gt===null&&(gn=1,Sc(e,Vi(i,e.current)))}function Xd(){var e=Ri.current;return e===null?!0:(yt&4194048)===yt?Ki===null:(yt&62914560)===yt||(yt&536870912)!==0?e===Ki:!1}function Yd(){var e=$.H;return $.H=Ws,e===null?Ws:e}function qd(){var e=$.A;return $.A=e3,e}function zc(){gn=4,vr||(yt&4194048)!==yt&&Ri.current!==null||(as=!0),(Tr&134217727)===0&&(pl&134217727)===0||Kt===null||Rr(Kt,yt,Mi,!1)}function o0(e,i,s){var f=Bt;Bt|=2;var x=Yd(),_=qd();(Kt!==e||yt!==i)&&(kc=null,ss(e,i)),i=!1;var T=gn;e:do try{if(Pt!==0&&gt!==null){var D=gt,z=Di;switch(Pt){case 8:s0(),T=6;break e;case 3:case 2:case 9:case 6:Ri.current===null&&(i=!0);var W=Pt;if(Pt=0,Di=null,os(e,D,z,W),s&&as){T=0;break e}break;default:W=Pt,Pt=0,Di=null,os(e,D,z,W)}}i3(),T=gn;break}catch(oe){Vd(e,oe)}while(!0);return i&&e.shellSuspendCounter++,Ua=ol=null,Bt=f,$.H=x,$.A=_,gt===null&&(Kt=null,yt=0,ic()),T}function i3(){for(;gt!==null;)Kd(gt)}function a3(e,i){var s=Bt;Bt|=2;var f=Yd(),x=qd();Kt!==e||yt!==i?(kc=null,Bc=We()+500,ss(e,i)):as=jn(e,i);e:do try{if(Pt!==0&&gt!==null){i=gt;var _=Di;t:switch(Pt){case 1:Pt=0,Di=null,os(e,i,_,1);break;case 2:case 9:if(rh(_)){Pt=0,Di=null,Qd(i);break}i=function(){Pt!==2&&Pt!==9||Kt!==e||(Pt=7),Aa(e)},_.then(i,i);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:rh(_)?(Pt=0,Di=null,Qd(i)):(Pt=0,Di=null,os(e,i,_,7));break;case 5:var T=null;switch(gt.tag){case 26:T=gt.memoizedState;case 5:case 27:var D=gt;if(T?k2(T):D.stateNode.complete){Pt=0,Di=null;var z=D.sibling;if(z!==null)gt=z;else{var W=D.return;W!==null?(gt=W,Uc(W)):gt=null}break t}}Pt=0,Di=null,os(e,i,_,5);break;case 6:Pt=0,Di=null,os(e,i,_,6);break;case 8:s0(),gn=6;break e;default:throw Error(d(462))}}r3();break}catch(oe){Vd(e,oe)}while(!0);return Ua=ol=null,$.H=f,$.A=x,Bt=s,gt!==null?0:(Kt=null,yt=0,ic(),gn)}function r3(){for(;gt!==null&&!sn();)Kd(gt)}function Kd(e){var i=_d(e.alternate,e,qa);e.memoizedProps=e.pendingProps,i===null?Uc(e):gt=i}function Qd(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=dd(s,i,i.pendingProps,i.type,void 0,yt);break;case 11:i=dd(s,i,i.pendingProps,i.type.render,i.ref,yt);break;case 5:bf(i);default:Ed(s,i),i=gt=q1(i,qa),i=_d(s,i,qa)}e.memoizedProps=e.pendingProps,i===null?Uc(e):gt=i}function os(e,i,s,f){Ua=ol=null,bf(i),Wl=null,js=0;var x=i.return;try{if(Yp(e,x,i,s,yt)){gn=1,Sc(e,Vi(s,e.current)),gt=null;return}}catch(_){if(x!==null)throw gt=x,_;gn=1,Sc(e,Vi(s,e.current)),gt=null;return}i.flags&32768?(Ct||f===1?e=!0:as||(yt&536870912)!==0?e=!1:(vr=e=!0,(f===2||f===9||f===3||f===6)&&(f=Ri.current,f!==null&&f.tag===13&&(f.flags|=16384))),Wd(i,e)):Uc(i)}function Uc(e){var i=e;do{if((i.flags&32768)!==0){Wd(i,vr);return}e=i.return;var s=Qp(i.alternate,i,qa);if(s!==null){gt=s;return}if(i=i.sibling,i!==null){gt=i;return}gt=i=e}while(i!==null);gn===0&&(gn=5)}function Wd(e,i){do{var s=Wp(e.alternate,e);if(s!==null){s.flags&=32767,gt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){gt=e;return}gt=e=s}while(e!==null);gn=6,gt=null}function Jd(e,i,s,f,x,_,T,D,z){e.cancelPendingCommit=null;do Fc();while(kn!==0);if((Bt&6)!==0)throw Error(d(327));if(i!==null){if(i===e.current)throw Error(d(177));if(_=i.lanes|i.childLanes,_|=Ku,Pi(e,s,_,T,D,z),e===Kt&&(gt=Kt=null,yt=0),ls=i,Or=e,Ka=s,a0=_,r0=x,Hd=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,c3(ei,function(){return i2(),null})):(e.callbackNode=null,e.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=$.T,$.T=null,x=se.p,se.p=2,T=Bt,Bt|=4;try{Jp(e,i,s)}finally{Bt=T,se.p=x,$.T=f}}kn=1,$d(),e2(),t2()}}function $d(){if(kn===1){kn=0;var e=Or,i=ls,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var f=se.p;se.p=2;var x=Bt;Bt|=4;try{Md(i,e);var _=y0,T=O(e.containerInfo),D=_.focusedElem,z=_.selectionRange;if(T!==D&&D&&D.ownerDocument&&C(D.ownerDocument.documentElement,D)){if(z!==null&&R(D)){var W=z.start,oe=z.end;if(oe===void 0&&(oe=W),"selectionStart"in D)D.selectionStart=W,D.selectionEnd=Math.min(oe,D.value.length);else{var fe=D.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var le=ee.getSelection(),Le=D.textContent.length,Ke=Math.min(z.start,Le),Vt=z.end===void 0?Ke:Math.min(z.end,Le);!le.extend&&Ke>Vt&&(T=Vt,Vt=Ke,Ke=T);var j=E(D,Ke),H=E(D,Vt);if(j&&H&&(le.rangeCount!==1||le.anchorNode!==j.node||le.anchorOffset!==j.offset||le.focusNode!==H.node||le.focusOffset!==H.offset)){var K=fe.createRange();K.setStart(j.node,j.offset),le.removeAllRanges(),Ke>Vt?(le.addRange(K),le.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),le.addRange(K))}}}}for(fe=[],le=D;le=le.parentNode;)le.nodeType===1&&fe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var ce=fe[D];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Wc=!!_0,y0=_0=null}finally{Bt=x,se.p=f,$.T=s}}e.current=i,kn=2}}function e2(){if(kn===2){kn=0;var e=Or,i=ls,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var f=se.p;se.p=2;var x=Bt;Bt|=4;try{Nd(e,i.alternate,i)}finally{Bt=x,se.p=f,$.T=s}}kn=3}}function t2(){if(kn===4||kn===3){kn=0,bt();var e=Or,i=ls,s=Ka,f=Hd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kn=5:(kn=0,ls=Or=null,n2(e,e.pendingLanes));var x=e.pendingLanes;if(x===0&&(Nr=null),na(s),i=i.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(Ue,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=$.T,x=se.p,se.p=2,$.T=null;try{for(var _=e.onRecoverableError,T=0;T<f.length;T++){var D=f[T];_(D.value,{componentStack:D.stack})}}finally{$.T=i,se.p=x}}(Ka&3)!==0&&Fc(),Aa(e),x=e.pendingLanes,(s&261930)!==0&&(x&42)!==0?e===l0?lo++:(lo=0,l0=e):lo=0,so(0)}}function n2(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Hs(i)))}function Fc(){return $d(),e2(),t2(),i2()}function i2(){if(kn!==5)return!1;var e=Or,i=a0;a0=0;var s=na(Ka),f=$.T,x=se.p;try{se.p=32>s?32:s,$.T=null,s=r0,r0=null;var _=Or,T=Ka;if(kn=0,ls=Or=null,Ka=0,(Bt&6)!==0)throw Error(d(331));var D=Bt;if(Bt|=4,Ud(_.current),kd(_,_.current,T,s),Bt=D,so(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(Ue,_)}catch{}return!0}finally{se.p=x,$.T=f,n2(e,i)}}function a2(e,i,s){i=Vi(s,i),i=Uf(e.stateNode,i,2),e=Ar(e,i,2),e!==null&&(da(e,2),Aa(e))}function Ht(e,i,s){if(e.tag===3)a2(e,e,s);else for(;i!==null;){if(i.tag===3){a2(i,e,s);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Nr===null||!Nr.has(f))){e=Vi(s,e),s=rd(2),f=Ar(i,s,2),f!==null&&(ld(s,f,i,e),da(f,2),Aa(f));break}}i=i.return}}function c0(e,i,s){var f=e.pingCache;if(f===null){f=e.pingCache=new t3;var x=new Set;f.set(i,x)}else x=f.get(i),x===void 0&&(x=new Set,f.set(i,x));x.has(s)||(t0=!0,x.add(s),e=l3.bind(null,e,i,s),i.then(e,e))}function l3(e,i,s){var f=e.pingCache;f!==null&&f.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Kt===e&&(yt&s)===s&&(gn===4||gn===3&&(yt&62914560)===yt&&300>We()-Mc?(Bt&2)===0&&ss(e,0):n0|=s,rs===yt&&(rs=0)),Aa(e)}function r2(e,i){i===0&&(i=In()),e=rl(e,i),e!==null&&(da(e,i),Aa(e))}function s3(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),r2(e,s)}function o3(e,i){var s=0;switch(e.tag){case 31:case 13:var f=e.stateNode,x=e.memoizedState;x!==null&&(s=x.retryLane);break;case 19:f=e.stateNode;break;case 22:f=e.stateNode._retryCache;break;default:throw Error(d(314))}f!==null&&f.delete(i),r2(e,s)}function c3(e,i){return Ai(e,i)}var Pc=null,cs=null,u0=!1,Hc=!1,f0=!1,Ir=0;function Aa(e){e!==cs&&e.next===null&&(cs===null?Pc=cs=e:cs=cs.next=e),Hc=!0,u0||(u0=!0,f3())}function so(e,i){if(!f0&&Hc){f0=!0;do for(var s=!1,f=Pc;f!==null;){if(e!==0){var x=f.pendingLanes;if(x===0)var _=0;else{var T=f.suspendedLanes,D=f.pingedLanes;_=(1<<31-et(42|e)+1)-1,_&=x&~(T&~D),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(s=!0,c2(f,_))}else _=yt,_=Kr(f,f===Kt?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||jn(f,_)||(s=!0,c2(f,_));f=f.next}while(s);f0=!1}}function u3(){l2()}function l2(){Hc=u0=!1;var e=0;Ir!==0&&E3()&&(e=Ir);for(var i=We(),s=null,f=Pc;f!==null;){var x=f.next,_=s2(f,i);_===0?(f.next=null,s===null?Pc=x:s.next=x,x===null&&(cs=s)):(s=f,(e!==0||(_&3)!==0)&&(Hc=!0)),f=x}kn!==0&&kn!==5||so(e),Ir!==0&&(Ir=0)}function s2(e,i){for(var s=e.suspendedLanes,f=e.pingedLanes,x=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var T=31-et(_),D=1<<T,z=x[T];z===-1?((D&s)===0||(D&f)!==0)&&(x[T]=Ns(D,i)):z<=i&&(e.expiredLanes|=D),_&=~D}if(i=Kt,s=yt,s=Kr(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),f=e.callbackNode,s===0||e===i&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)return f!==null&&f!==null&&Re(f),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(f!==null&&Re(f),na(s)){case 2:case 8:s=Vr;break;case 32:s=ei;break;case 268435456:s=Xr;break;default:s=ei}return f=o2.bind(null,e),s=Ai(s,f),e.callbackPriority=i,e.callbackNode=s,i}return f!==null&&f!==null&&Re(f),e.callbackPriority=2,e.callbackNode=null,2}function o2(e,i){if(kn!==0&&kn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Fc()&&e.callbackNode!==s)return null;var f=yt;return f=Kr(e,e===Kt?f:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),f===0?null:(jd(e,f,i),s2(e,We()),e.callbackNode!=null&&e.callbackNode===s?o2.bind(null,e):null)}function c2(e,i){if(Fc())return null;jd(e,i,!0)}function f3(){b3(function(){(Bt&6)!==0?Ai(Wn,u3):l2()})}function h0(){if(Ir===0){var e=ql;e===0&&(e=qr,qr<<=1,(qr&261888)===0&&(qr=256)),Ir=e}return Ir}function u2(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function f2(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function h3(e,i,s,f,x){if(i==="submit"&&s&&s.stateNode===x){var _=u2((x[Ft]||null).action),T=f.submitter;T&&(i=(i=T[Ft]||null)?u2(i.formAction):T.getAttribute("formAction"),i!==null&&(_=i,T=null));var D=new Dn("action","action",null,f,x);e.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ir!==0){var z=T?f2(x,T):new FormData(x);Df(s,{pending:!0,data:z,method:x.method,action:_},null,z)}}else typeof _=="function"&&(D.preventDefault(),z=T?f2(x,T):new FormData(x),Df(s,{pending:!0,data:z,method:x.method,action:_},_,z))},currentTarget:x}]})}}for(var d0=0;d0<Us.length;d0++){var g0=Us[d0],d3=g0.toLowerCase(),g3=g0[0].toUpperCase()+g0.slice(1);oa(d3,"on"+g3)}oa(di,"onAnimationEnd"),oa(Gn,"onAnimationIteration"),oa(Ut,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(Bn,"onTransitionRun"),oa(li,"onTransitionStart"),oa(mr,"onTransitionCancel"),oa(ka,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function h2(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var f=e[s],x=f.event;f=f.listeners;e:{var _=void 0;if(i)for(var T=f.length-1;0<=T;T--){var D=f[T],z=D.instance,W=D.currentTarget;if(D=D.listener,z!==_&&x.isPropagationStopped())break e;_=D,x.currentTarget=W;try{_(x)}catch(oe){nc(oe)}x.currentTarget=null,_=z}else for(T=0;T<f.length;T++){if(D=f[T],z=D.instance,W=D.currentTarget,D=D.listener,z!==_&&x.isPropagationStopped())break e;_=D,x.currentTarget=W;try{_(x)}catch(oe){nc(oe)}x.currentTarget=null,_=z}}}}function mt(e,i){var s=i[nr];s===void 0&&(s=i[nr]=new Set);var f=e+"__bubble";s.has(f)||(d2(i,e,2,!1),s.add(f))}function m0(e,i,s){var f=0;i&&(f|=4),d2(s,e,f,i)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function x0(e){if(!e[Zc]){e[Zc]=!0,ge.forEach(function(s){s!=="selectionchange"&&(m3.has(s)||m0(s,!1,e),m0(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Zc]||(i[Zc]=!0,m0("selectionchange",!1,i))}}function d2(e,i,s,f){switch(Z2(i)){case 2:var x=j3;break;case 8:x=G3;break;default:x=I0}s=x.bind(null,i,s,e),x=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),f?x!==void 0?e.addEventListener(i,s,{capture:!0,passive:x}):e.addEventListener(i,s,!0):x!==void 0?e.addEventListener(i,s,{passive:x}):e.addEventListener(i,s,!1)}function p0(e,i,s,f,x){var _=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var D=f.stateNode.containerInfo;if(D===x)break;if(T===4)for(T=f.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===x)return;T=T.return}for(;D!==null;){if(T=un(D),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){f=_=T;continue e}D=D.parentNode}}f=f.return}Vo(function(){var W=_,oe=Rs(s),fe=[];e:{var ee=tc.get(e);if(ee!==void 0){var le=Dn,Le=e;switch(e){case"keypress":if(ma(s)===0)break e;case"keydown":case"keyup":le=Fl;break;case"focusin":Le="focus",le=Bs;break;case"focusout":Le="blur",le=Bs;break;case"beforeblur":case"afterblur":le=Bs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=zl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Xu;break;case di:case Gn:case Ut:le=st;break;case ka:le=Ia;break;case"scroll":case"scrollend":le=Xo;break;case"wheel":le=Yu;break;case"copy":case"cut":case"paste":le=Ul;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=zt;break;case"toggle":case"beforetoggle":le=Ls}var Ke=(i&4)!==0,Vt=!Ke&&(e==="scroll"||e==="scrollend"),j=Ke?ee!==null?ee+"Capture":null:ee;Ke=[];for(var H=W,K;H!==null;){var ce=H;if(K=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||K===null||j===null||(ce=tt(H,j),ce!=null&&Ke.push(co(H,ce,K))),Vt)break;H=H.return}0<Ke.length&&(ee=new le(ee,Le,null,s,oe),fe.push({event:ee,listeners:Ke}))}}if((i&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",ee&&s!==Wr&&(Le=s.relatedTarget||s.fromElement)&&(un(Le)||Le[bi]))break e;if((le||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,le?(Le=s.relatedTarget||s.toElement,le=W,Le=Le?un(Le):null,Le!==null&&(Vt=p(Le),Ke=Le.tag,Le!==Vt||Ke!==5&&Ke!==27&&Ke!==6)&&(Le=null)):(le=null,Le=W),le!==Le)){if(Ke=Mt,ce="onMouseLeave",j="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Ke=zt,ce="onPointerLeave",j="onPointerEnter",H="pointer"),Vt=le==null?ee:ir(le),K=Le==null?ee:ir(Le),ee=new Ke(ce,H+"leave",le,s,oe),ee.target=Vt,ee.relatedTarget=K,ce=null,un(oe)===W&&(Ke=new Ke(j,H+"enter",Le,s,oe),Ke.target=K,Ke.relatedTarget=Vt,ce=Ke),Vt=ce,le&&Le)t:{for(Ke=x3,j=le,H=Le,K=0,ce=j;ce;ce=Ke(ce))K++;ce=0;for(var je=H;je;je=Ke(je))ce++;for(;0<K-ce;)j=Ke(j),K--;for(;0<ce-K;)H=Ke(H),ce--;for(;K--;){if(j===H||H!==null&&j===H.alternate){Ke=j;break t}j=Ke(j),H=Ke(H)}Ke=null}else Ke=null;le!==null&&g2(fe,ee,le,Ke,!1),Le!==null&&Vt!==null&&g2(fe,Vt,Le,Ke,!0)}}e:{if(ee=W?ir(W):window,le=ee.nodeName&&ee.nodeName.toLowerCase(),le==="select"||le==="input"&&ee.type==="file")var Ot=Ni;else if(zs(ee))if(ec)Ot=c;else{Ot=a;var Fe=t}else le=ee.nodeName,!le||le.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?W&&Xt(W.elementType)&&(Ot=Ni):Ot=r;if(Ot&&(Ot=Ot(e,W))){Ti(fe,Ot,s,oe);break e}Fe&&Fe(e,ee,W),e==="focusout"&&W&&ee.type==="number"&&W.memoizedProps.value!=null&&M(ee,"number",ee.value)}switch(Fe=W?ir(W):window,e){case"focusin":(zs(Fe)||Fe.contentEditable==="true")&&(U=Fe,F=W,V=null);break;case"focusout":V=F=U=null;break;case"mousedown":ie=!0;break;case"contextmenu":case"mouseup":case"dragend":ie=!1,_e(fe,s,oe);break;case"selectionchange":if(B)break;case"keydown":case"keyup":_e(fe,s,oe)}var ot;if(el)e:{switch(e){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else gr?$o(e,s)&&(Et="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Et="onCompositionStart");Et&&(Jo&&s.locale!=="ko"&&(gr||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&gr&&(ot=cr()):(la=oe,sa="value"in la?la.value:la.textContent,gr=!0)),Fe=jc(W,Et),0<Fe.length&&(Et=new Ko(Et,e,null,s,oe),fe.push({event:Et,listeners:Fe}),ot?Et.data=ot:(ot=dr(s),ot!==null&&(Et.data=ot)))),(ot=Wo?wa(e,s):Hl(e,s))&&(Et=jc(W,"onBeforeInput"),0<Et.length&&(Fe=new Ko("onBeforeInput","beforeinput",null,s,oe),fe.push({event:Fe,listeners:Et}),Fe.data=ot)),h3(fe,e,W,s,oe)}h2(fe,i)})}function co(e,i,s){return{instance:e,listener:i,currentTarget:s}}function jc(e,i){for(var s=i+"Capture",f=[];e!==null;){var x=e,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=tt(e,s),x!=null&&f.unshift(co(e,x,_)),x=tt(e,i),x!=null&&f.push(co(e,x,_))),e.tag===3)return f;e=e.return}return[]}function x3(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g2(e,i,s,f,x){for(var _=i._reactName,T=[];s!==null&&s!==f;){var D=s,z=D.alternate,W=D.stateNode;if(D=D.tag,z!==null&&z===f)break;D!==5&&D!==26&&D!==27||W===null||(z=W,x?(W=tt(s,_),W!=null&&T.unshift(co(s,W,z))):x||(W=tt(s,_),W!=null&&T.push(co(s,W,z)))),s=s.return}T.length!==0&&e.push({event:i,listeners:T})}var p3=/\r\n?/g,w3=/\u0000|\uFFFD/g;function m2(e){return(typeof e=="string"?e:""+e).replace(p3,`
`).replace(w3,"")}function x2(e,i){return i=m2(i),m2(e)===i}function Gt(e,i,s,f,x,_){switch(s){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||sr(e,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&sr(e,""+f);break;case"className":rr(e,"class",f);break;case"tabIndex":rr(e,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(e,s,f);break;case"style":He(e,f,_);break;case"data":if(i!=="object"){rr(e,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){e.removeAttribute(s);break}f=or(""+f),e.setAttribute(s,f);break;case"action":case"formAction":if(typeof f=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(s==="formAction"?(i!=="input"&&Gt(e,i,"name",x.name,x,null),Gt(e,i,"formEncType",x.formEncType,x,null),Gt(e,i,"formMethod",x.formMethod,x,null),Gt(e,i,"formTarget",x.formTarget,x,null)):(Gt(e,i,"encType",x.encType,x,null),Gt(e,i,"method",x.method,x,null),Gt(e,i,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){e.removeAttribute(s);break}f=or(""+f),e.setAttribute(s,f);break;case"onClick":f!=null&&(e.onclick=fi);break;case"onScroll":f!=null&&mt("scroll",e);break;case"onScrollEnd":f!=null&&mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(d(61));if(s=f.__html,s!=null){if(x.children!=null)throw Error(d(60));e.innerHTML=s}}break;case"multiple":e.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":e.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){e.removeAttribute("xlink:href");break}s=or(""+f),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(s,""+f):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":f===!0?e.setAttribute(s,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(s,f):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?e.setAttribute(s,f):e.removeAttribute(s);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?e.removeAttribute(s):e.setAttribute(s,f);break;case"popover":mt("beforetoggle",e),mt("toggle",e),ar(e,"popover",f);break;case"xlinkActuate":Si(e,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Si(e,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Si(e,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Si(e,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Si(e,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Si(e,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Si(e,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ar(e,"is",f);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Go.get(s)||s,ar(e,s,f))}}function w0(e,i,s,f,x,_){switch(s){case"style":He(e,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(d(61));if(s=f.__html,s!=null){if(x.children!=null)throw Error(d(60));e.innerHTML=s}}break;case"children":typeof f=="string"?sr(e,f):(typeof f=="number"||typeof f=="bigint")&&sr(e,""+f);break;case"onScroll":f!=null&&mt("scroll",e);break;case"onScrollEnd":f!=null&&mt("scrollend",e);break;case"onClick":f!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(x=s.endsWith("Capture"),i=s.slice(2,x?s.length-7:void 0),_=e[Ft]||null,_=_!=null?_[s]:null,typeof _=="function"&&e.removeEventListener(i,_,x),typeof f=="function")){typeof _!="function"&&_!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,f,x);break e}s in e?e[s]=f:f===!0?e.setAttribute(s,""):ar(e,s,f)}}}function qn(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",e),mt("load",e);var f=!1,x=!1,_;for(_ in s)if(s.hasOwnProperty(_)){var T=s[_];if(T!=null)switch(_){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,i));default:Gt(e,i,_,T,s,null)}}x&&Gt(e,i,"srcSet",s.srcSet,s,null),f&&Gt(e,i,"src",s.src,s,null);return;case"input":mt("invalid",e);var D=_=T=x=null,z=null,W=null;for(f in s)if(s.hasOwnProperty(f)){var oe=s[f];if(oe!=null)switch(f){case"name":x=oe;break;case"type":T=oe;break;case"checked":z=oe;break;case"defaultChecked":W=oe;break;case"value":_=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(d(137,i));break;default:Gt(e,i,f,oe,s,null)}}Y(e,_,D,z,W,T,x,!1);return;case"select":mt("invalid",e),f=T=_=null;for(x in s)if(s.hasOwnProperty(x)&&(D=s[x],D!=null))switch(x){case"value":_=D;break;case"defaultValue":T=D;break;case"multiple":f=D;default:Gt(e,i,x,D,s,null)}i=_,s=T,e.multiple=!!f,i!=null?ze(e,!!f,i,!1):s!=null&&ze(e,!!f,s,!0);return;case"textarea":mt("invalid",e),_=x=f=null;for(T in s)if(s.hasOwnProperty(T)&&(D=s[T],D!=null))switch(T){case"value":f=D;break;case"defaultValue":x=D;break;case"children":_=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(d(91));break;default:Gt(e,i,T,D,s,null)}ai(e,f,x,_);return;case"option":for(z in s)s.hasOwnProperty(z)&&(f=s[z],f!=null)&&(z==="selected"?e.selected=f&&typeof f!="function"&&typeof f!="symbol":Gt(e,i,z,f,s,null));return;case"dialog":mt("beforetoggle",e),mt("toggle",e),mt("cancel",e),mt("close",e);break;case"iframe":case"object":mt("load",e);break;case"video":case"audio":for(f=0;f<oo.length;f++)mt(oo[f],e);break;case"image":mt("error",e),mt("load",e);break;case"details":mt("toggle",e);break;case"embed":case"source":case"link":mt("error",e),mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in s)if(s.hasOwnProperty(W)&&(f=s[W],f!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,i));default:Gt(e,i,W,f,s,null)}return;default:if(Xt(i)){for(oe in s)s.hasOwnProperty(oe)&&(f=s[oe],f!==void 0&&w0(e,i,oe,f,s,void 0));return}}for(D in s)s.hasOwnProperty(D)&&(f=s[D],f!=null&&Gt(e,i,D,f,s,null))}function _3(e,i,s,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,T=null,D=null,z=null,W=null,oe=null;for(le in s){var fe=s[le];if(s.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":z=fe;default:f.hasOwnProperty(le)||Gt(e,i,le,null,f,fe)}}for(var ee in f){var le=f[ee];if(fe=s[ee],f.hasOwnProperty(ee)&&(le!=null||fe!=null))switch(ee){case"type":_=le;break;case"name":x=le;break;case"checked":W=le;break;case"defaultChecked":oe=le;break;case"value":T=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(d(137,i));break;default:le!==fe&&Gt(e,i,ee,le,f,fe)}}Sn(e,T,D,z,W,oe,_,x);return;case"select":le=T=D=ee=null;for(_ in s)if(z=s[_],s.hasOwnProperty(_)&&z!=null)switch(_){case"value":break;case"multiple":le=z;default:f.hasOwnProperty(_)||Gt(e,i,_,null,f,z)}for(x in f)if(_=f[x],z=s[x],f.hasOwnProperty(x)&&(_!=null||z!=null))switch(x){case"value":ee=_;break;case"defaultValue":D=_;break;case"multiple":T=_;default:_!==z&&Gt(e,i,x,_,f,z)}i=D,s=T,f=le,ee!=null?ze(e,!!s,ee,!1):!!f!=!!s&&(i!=null?ze(e,!!s,i,!0):ze(e,!!s,s?[]:"",!1));return;case"textarea":le=ee=null;for(D in s)if(x=s[D],s.hasOwnProperty(D)&&x!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Gt(e,i,D,null,f,x)}for(T in f)if(x=f[T],_=s[T],f.hasOwnProperty(T)&&(x!=null||_!=null))switch(T){case"value":ee=x;break;case"defaultValue":le=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:x!==_&&Gt(e,i,T,x,f,_)}wn(e,ee,le);return;case"option":for(var Le in s)ee=s[Le],s.hasOwnProperty(Le)&&ee!=null&&!f.hasOwnProperty(Le)&&(Le==="selected"?e.selected=!1:Gt(e,i,Le,null,f,ee));for(z in f)ee=f[z],le=s[z],f.hasOwnProperty(z)&&ee!==le&&(ee!=null||le!=null)&&(z==="selected"?e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":Gt(e,i,z,ee,f,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in s)ee=s[Ke],s.hasOwnProperty(Ke)&&ee!=null&&!f.hasOwnProperty(Ke)&&Gt(e,i,Ke,null,f,ee);for(W in f)if(ee=f[W],le=s[W],f.hasOwnProperty(W)&&ee!==le&&(ee!=null||le!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(d(137,i));break;default:Gt(e,i,W,ee,f,le)}return;default:if(Xt(i)){for(var Vt in s)ee=s[Vt],s.hasOwnProperty(Vt)&&ee!==void 0&&!f.hasOwnProperty(Vt)&&w0(e,i,Vt,void 0,f,ee);for(oe in f)ee=f[oe],le=s[oe],!f.hasOwnProperty(oe)||ee===le||ee===void 0&&le===void 0||w0(e,i,oe,ee,f,le);return}}for(var j in s)ee=s[j],s.hasOwnProperty(j)&&ee!=null&&!f.hasOwnProperty(j)&&Gt(e,i,j,null,f,ee);for(fe in f)ee=f[fe],le=s[fe],!f.hasOwnProperty(fe)||ee===le||ee==null&&le==null||Gt(e,i,fe,ee,f,le)}function p2(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y3(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),f=0;f<s.length;f++){var x=s[f],_=x.transferSize,T=x.initiatorType,D=x.duration;if(_&&D&&p2(T)){for(T=0,D=x.responseEnd,f+=1;f<s.length;f++){var z=s[f],W=z.startTime;if(W>D)break;var oe=z.transferSize,fe=z.initiatorType;oe&&p2(fe)&&(z=z.responseEnd,T+=oe*(z<D?1:(D-W)/(z-W)))}if(--f,i+=8*(_+T)/(x.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _0=null,y0=null;function Gc(e){return e.nodeType===9?e:e.ownerDocument}function w2(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _2(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function E0(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var A0=null;function E3(){var e=window.event;return e&&e.type==="popstate"?e===A0?!1:(A0=e,!0):(A0=null,!1)}var y2=typeof setTimeout=="function"?setTimeout:void 0,A3=typeof clearTimeout=="function"?clearTimeout:void 0,E2=typeof Promise=="function"?Promise:void 0,b3=typeof queueMicrotask=="function"?queueMicrotask:typeof E2<"u"?function(e){return E2.resolve(null).then(e).catch(C3)}:y2;function C3(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function A2(e,i){var s=i,f=0;do{var x=s.nextSibling;if(e.removeChild(s),x&&x.nodeType===8)if(s=x.data,s==="/$"||s==="/&"){if(f===0){e.removeChild(x),ds(i);return}f--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")f++;else if(s==="html")uo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,uo(s);for(var _=s.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[Qr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}else s==="body"&&uo(e.ownerDocument.body);s=x}while(s);ds(i)}function b2(e,i){var s=e;e=0;do{var f=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=f}while(s)}function b0(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":b0(s),ui(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function S3(e,i,s,f){for(;e.nodeType===1;){var x=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(f){if(!e[Qr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==x.rel||e.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||e.getAttribute("title")!==(x.title==null?null:x.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(x.src==null?null:x.src)||e.getAttribute("type")!==(x.type==null?null:x.type)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=Qi(e.nextSibling),e===null)break}return null}function v3(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qi(e.nextSibling),e===null))return null;return e}function C2(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Qi(e.nextSibling),e===null))return null;return e}function C0(e){return e.data==="$?"||e.data==="$~"}function S0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function T3(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var f=function(){i(),s.removeEventListener("DOMContentLoaded",f)};s.addEventListener("DOMContentLoaded",f),e._reactRetry=f}}function Qi(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var v0=null;function S2(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Qi(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function v2(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function T2(e,i,s){switch(i=Gc(s),e){case"html":if(e=i.documentElement,!e)throw Error(d(452));return e;case"head":if(e=i.head,!e)throw Error(d(453));return e;case"body":if(e=i.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function uo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ui(e)}var Wi=new Map,N2=new Set;function Vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qa=se.d;se.d={f:N3,r:O3,D:R3,C:I3,L:D3,m:M3,X:k3,S:B3,M:L3};function N3(){var e=Qa.f(),i=Lc();return e||i}function O3(e){var i=Dt(e);i!==null&&i.tag===5&&i.type==="form"?Vh(i):Qa.r(e)}var us=typeof document>"u"?null:document;function O2(e,i,s){var f=us;if(f&&typeof i=="string"&&i){var x=ft(i);x='link[rel="'+e+'"][href="'+x+'"]',typeof s=="string"&&(x+='[crossorigin="'+s+'"]'),N2.has(x)||(N2.add(x),e={rel:e,crossOrigin:s,href:i},f.querySelector(x)===null&&(i=f.createElement("link"),qn(i,"link",e),fn(i),f.head.appendChild(i)))}}function R3(e){Qa.D(e),O2("dns-prefetch",e,null)}function I3(e,i){Qa.C(e,i),O2("preconnect",e,i)}function D3(e,i,s){Qa.L(e,i,s);var f=us;if(f&&e&&i){var x='link[rel="preload"][as="'+ft(i)+'"]';i==="image"&&s&&s.imageSrcSet?(x+='[imagesrcset="'+ft(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(x+='[imagesizes="'+ft(s.imageSizes)+'"]')):x+='[href="'+ft(e)+'"]';var _=x;switch(i){case"style":_=fs(e);break;case"script":_=hs(e)}Wi.has(_)||(e=I({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Wi.set(_,e),f.querySelector(x)!==null||i==="style"&&f.querySelector(fo(_))||i==="script"&&f.querySelector(ho(_))||(i=f.createElement("link"),qn(i,"link",e),fn(i),f.head.appendChild(i)))}}function M3(e,i){Qa.m(e,i);var s=us;if(s&&e){var f=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+ft(f)+'"][href="'+ft(e)+'"]',_=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=hs(e)}if(!Wi.has(_)&&(e=I({rel:"modulepreload",href:e},i),Wi.set(_,e),s.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ho(_)))return}f=s.createElement("link"),qn(f,"link",e),fn(f),s.head.appendChild(f)}}}function B3(e,i,s){Qa.S(e,i,s);var f=us;if(f&&e){var x=ii(f).hoistableStyles,_=fs(e);i=i||"default";var T=x.get(_);if(!T){var D={loading:0,preload:null};if(T=f.querySelector(fo(_)))D.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Wi.get(_))&&T0(e,s);var z=T=f.createElement("link");fn(z),qn(z,"link",e),z._p=new Promise(function(W,oe){z.onload=W,z.onerror=oe}),z.addEventListener("load",function(){D.loading|=1}),z.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Xc(T,i,f)}T={type:"stylesheet",instance:T,count:1,state:D},x.set(_,T)}}}function k3(e,i){Qa.X(e,i);var s=us;if(s&&e){var f=ii(s).hoistableScripts,x=hs(e),_=f.get(x);_||(_=s.querySelector(ho(x)),_||(e=I({src:e,async:!0},i),(i=Wi.get(x))&&N0(e,i),_=s.createElement("script"),fn(_),qn(_,"link",e),s.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(x,_))}}function L3(e,i){Qa.M(e,i);var s=us;if(s&&e){var f=ii(s).hoistableScripts,x=hs(e),_=f.get(x);_||(_=s.querySelector(ho(x)),_||(e=I({src:e,async:!0,type:"module"},i),(i=Wi.get(x))&&N0(e,i),_=s.createElement("script"),fn(_),qn(_,"link",e),s.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(x,_))}}function R2(e,i,s,f){var x=(x=ye.current)?Vc(x):null;if(!x)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=fs(s.href),s=ii(x).hoistableStyles,f=s.get(i),f||(f={type:"style",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=fs(s.href);var _=ii(x).hoistableStyles,T=_.get(e);if(T||(x=x.ownerDocument||x,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,T),(_=x.querySelector(fo(e)))&&!_._p&&(T.instance=_,T.state.loading=5),Wi.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Wi.set(e,s),_||z3(x,e,s,T.state))),i&&f===null)throw Error(d(528,""));return T}if(i&&f!==null)throw Error(d(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=hs(s),s=ii(x).hoistableScripts,f=s.get(i),f||(f={type:"script",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function fs(e){return'href="'+ft(e)+'"'}function fo(e){return'link[rel="stylesheet"]['+e+"]"}function I2(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function z3(e,i,s,f){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=e.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),qn(i,"link",s),fn(i),e.head.appendChild(i))}function hs(e){return'[src="'+ft(e)+'"]'}function ho(e){return"script[async]"+e}function D2(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var f=e.querySelector('style[data-href~="'+ft(s.href)+'"]');if(f)return i.instance=f,fn(f),f;var x=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return f=(e.ownerDocument||e).createElement("style"),fn(f),qn(f,"style",x),Xc(f,s.precedence,e),i.instance=f;case"stylesheet":x=fs(s.href);var _=e.querySelector(fo(x));if(_)return i.state.loading|=4,i.instance=_,fn(_),_;f=I2(s),(x=Wi.get(x))&&T0(f,x),_=(e.ownerDocument||e).createElement("link"),fn(_);var T=_;return T._p=new Promise(function(D,z){T.onload=D,T.onerror=z}),qn(_,"link",f),i.state.loading|=4,Xc(_,s.precedence,e),i.instance=_;case"script":return _=hs(s.src),(x=e.querySelector(ho(_)))?(i.instance=x,fn(x),x):(f=s,(x=Wi.get(_))&&(f=I({},s),N0(f,x)),e=e.ownerDocument||e,x=e.createElement("script"),fn(x),qn(x,"link",f),e.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(d(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,Xc(f,s.precedence,e));return i.instance}function Xc(e,i,s){for(var f=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,_=x,T=0;T<f.length;T++){var D=f[T];if(D.dataset.precedence===i)_=D;else if(_!==x)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function T0(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function N0(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yc=null;function M2(e,i,s){if(Yc===null){var f=new Map,x=Yc=new Map;x.set(s,f)}else x=Yc,f=x.get(s),f||(f=new Map,x.set(s,f));if(f.has(e))return f;for(f.set(e,null),s=s.getElementsByTagName(e),x=0;x<s.length;x++){var _=s[x];if(!(_[Qr]||_[pn]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var T=_.getAttribute(i)||"";T=e+T;var D=f.get(T);D?D.push(_):f.set(T,[_])}}return f}function B2(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function U3(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function k2(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function F3(e,i,s,f){if(s.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var x=fs(f.href),_=i.querySelector(fo(x));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=qc.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=_,fn(_);return}_=i.ownerDocument||i,f=I2(f),(x=Wi.get(x))&&T0(f,x),_=_.createElement("link"),fn(_);var T=_;T._p=new Promise(function(D,z){T.onload=D,T.onerror=z}),qn(_,"link",f),s.instance=_}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=qc.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var O0=0;function P3(e,i){return e.stylesheets&&e.count===0&&Qc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var f=setTimeout(function(){if(e.stylesheets&&Qc(e,e.stylesheets),e.unsuspend){var _=e.unsuspend;e.unsuspend=null,_()}},6e4+i);0<e.imgBytes&&O0===0&&(O0=62500*y3());var x=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qc(e,e.stylesheets),e.unsuspend)){var _=e.unsuspend;e.unsuspend=null,_()}},(e.imgBytes>O0?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(f),clearTimeout(x)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kc=null;function Qc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kc=new Map,i.forEach(H3,e),Kc=null,qc.call(e))}function H3(e,i){if(!(i.state.loading&4)){var s=Kc.get(e);if(s)var f=s.get(null);else{s=new Map,Kc.set(e,s);for(var x=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var T=x[_];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),f=T)}f&&s.set(null,f)}x=i.instance,T=x.getAttribute("data-precedence"),_=s.get(T)||f,_===f&&s.set(null,x),s.set(T,x),this.count++,f=qc.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),_?_.parentNode.insertBefore(x,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(x,e.firstChild)),i.state.loading|=4}}var go={$$typeof:X,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function Z3(e,i,s,f,x,_,T,D,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function L2(e,i,s,f,x,_,T,D,z,W,oe,fe){return e=new Z3(e,i,s,T,z,W,oe,fe,D),i=1,_===!0&&(i|=24),_=Oi(3,null,null,i),e.current=_,_.stateNode=e,i=of(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:f,isDehydrated:s,cache:i},hf(_),e}function z2(e){return e?(e=jl,e):jl}function U2(e,i,s,f,x,_){x=z2(x),f.context===null?f.context=x:f.pendingContext=x,f=Er(i),f.payload={element:s},_=_===void 0?null:_,_!==null&&(f.callback=_),s=Ar(e,f,i),s!==null&&(wi(s,e,i),Vs(s,e,i))}function F2(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function R0(e,i){F2(e,i),(e=e.alternate)&&F2(e,i)}function P2(e){if(e.tag===13||e.tag===31){var i=rl(e,67108864);i!==null&&wi(i,e,67108864),R0(e,67108864)}}function H2(e){if(e.tag===13||e.tag===31){var i=Bi();i=Fn(i);var s=rl(e,i);s!==null&&wi(s,e,i),R0(e,i)}}var Wc=!0;function j3(e,i,s,f){var x=$.T;$.T=null;var _=se.p;try{se.p=2,I0(e,i,s,f)}finally{se.p=_,$.T=x}}function G3(e,i,s,f){var x=$.T;$.T=null;var _=se.p;try{se.p=8,I0(e,i,s,f)}finally{se.p=_,$.T=x}}function I0(e,i,s,f){if(Wc){var x=D0(f);if(x===null)p0(e,i,f,Jc,s),j2(e,f);else if(X3(x,e,i,s,f))f.stopPropagation();else if(j2(e,f),i&4&&-1<V3.indexOf(e)){for(;x!==null;){var _=Dt(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var T=fa(_.pendingLanes);if(T!==0){var D=_;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var z=1<<31-et(T);D.entanglements[1]|=z,T&=~z}Aa(_),(Bt&6)===0&&(Bc=We()+500,so(0))}}break;case 31:case 13:D=rl(_,2),D!==null&&wi(D,_,2),Lc(),R0(_,2)}if(_=D0(f),_===null&&p0(e,i,f,Jc,s),_===x)break;x=_}x!==null&&f.stopPropagation()}else p0(e,i,f,null,s)}}function D0(e){return e=Rs(e),M0(e)}var Jc=null;function M0(e){if(Jc=null,e=un(e),e!==null){var i=p(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=A(i),e!==null)return e;e=null}else if(s===31){if(e=b(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Jc=e,null}function Z2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case Wn:return 2;case Vr:return 8;case ei:case Cn:return 32;case Xr:return 268435456;default:return 32}default:return 32}}var B0=!1,Mr=null,Br=null,kr=null,mo=new Map,xo=new Map,Lr=[],V3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j2(e,i){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":mo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(i.pointerId)}}function po(e,i,s,f,x,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:s,eventSystemFlags:f,nativeEvent:_,targetContainers:[x]},i!==null&&(i=Dt(i),i!==null&&P2(i)),e):(e.eventSystemFlags|=f,i=e.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),e)}function X3(e,i,s,f,x){switch(i){case"focusin":return Mr=po(Mr,e,i,s,f,x),!0;case"dragenter":return Br=po(Br,e,i,s,f,x),!0;case"mouseover":return kr=po(kr,e,i,s,f,x),!0;case"pointerover":var _=x.pointerId;return mo.set(_,po(mo.get(_)||null,e,i,s,f,x)),!0;case"gotpointercapture":return _=x.pointerId,xo.set(_,po(xo.get(_)||null,e,i,s,f,x)),!0}return!1}function G2(e){var i=un(e.target);if(i!==null){var s=p(i);if(s!==null){if(i=s.tag,i===13){if(i=A(s),i!==null){e.blockedOn=i,De(e.priority,function(){H2(s)});return}}else if(i===31){if(i=b(s),i!==null){e.blockedOn=i,De(e.priority,function(){H2(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=D0(e.nativeEvent);if(s===null){s=e.nativeEvent;var f=new s.constructor(s.type,s);Wr=f,s.target.dispatchEvent(f),Wr=null}else return i=Dt(s),i!==null&&P2(i),e.blockedOn=s,!1;i.shift()}return!0}function V2(e,i,s){$c(e)&&s.delete(i)}function Y3(){B0=!1,Mr!==null&&$c(Mr)&&(Mr=null),Br!==null&&$c(Br)&&(Br=null),kr!==null&&$c(kr)&&(kr=null),mo.forEach(V2),xo.forEach(V2)}function eu(e,i){e.blockedOn===i&&(e.blockedOn=null,B0||(B0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y3)))}var tu=null;function X2(e){tu!==e&&(tu=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tu===e&&(tu=null);for(var i=0;i<e.length;i+=3){var s=e[i],f=e[i+1],x=e[i+2];if(typeof f!="function"){if(M0(f||s)===null)continue;break}var _=Dt(s);_!==null&&(e.splice(i,3),i-=3,Df(_,{pending:!0,data:x,method:s.method,action:f},f,x))}}))}function ds(e){function i(z){return eu(z,e)}Mr!==null&&eu(Mr,e),Br!==null&&eu(Br,e),kr!==null&&eu(kr,e),mo.forEach(i),xo.forEach(i);for(var s=0;s<Lr.length;s++){var f=Lr[s];f.blockedOn===e&&(f.blockedOn=null)}for(;0<Lr.length&&(s=Lr[0],s.blockedOn===null);)G2(s),s.blockedOn===null&&Lr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(f=0;f<s.length;f+=3){var x=s[f],_=s[f+1],T=x[Ft]||null;if(typeof _=="function")T||X2(s);else if(T){var D=null;if(_&&_.hasAttribute("formAction")){if(x=_,T=_[Ft]||null)D=T.formAction;else if(M0(x)!==null)continue}else D=T.action;typeof D=="function"?s[f+1]=D:(s.splice(f,3),f-=3),X2(s)}}}function Y2(){function e(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(T){return x=T})},focusReset:"manual",scroll:"manual"})}function i(){x!==null&&(x(),x=null),f||setTimeout(s,20)}function s(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,x=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){f=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),x!==null&&(x(),x=null)}}}function k0(e){this._internalRoot=e}nu.prototype.render=k0.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(d(409));var s=i.current,f=Bi();U2(s,f,e,i,null,null)},nu.prototype.unmount=k0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;U2(e.current,2,null,e,null,null),Lc(),i[bi]=null}};function nu(e){this._internalRoot=e}nu.prototype.unstable_scheduleHydration=function(e){if(e){var i=ti();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Lr.length&&i!==0&&i<Lr[s].priority;s++);Lr.splice(s,0,e),s===0&&G2(e)}};var q2=o.version;if(q2!=="19.2.4")throw Error(d(527,q2,"19.2.4"));se.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=y(i),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var q3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Ue=iu.inject(q3),de=iu}catch{}}return _o.createRoot=function(e,i){if(!m(e))throw Error(d(299));var s=!1,f="",x=td,_=nd,T=id;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=L2(e,1,!1,null,null,s,f,null,x,_,T,Y2),e[bi]=i.current,x0(e),new k0(i)},_o.hydrateRoot=function(e,i,s){if(!m(e))throw Error(d(299));var f=!1,x="",_=td,T=nd,D=id,z=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(x=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.formState!==void 0&&(z=s.formState)),i=L2(e,1,!0,i,s??null,f,x,z,_,T,D,Y2),i.context=z2(null),s=i.current,f=Bi(),f=Fn(f),x=Er(f),x.callback=null,Ar(s,x,f),s=f,i.current.lanes=s,da(i,s),Aa(i),e[bi]=i.current,x0(e),new nu(i)},_o.version="19.2.4",_o}var ag;function rw(){if(ag)return U0.exports;ag=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),U0.exports=aw(),U0.exports}var lw=rw(),sw=Object.defineProperty,wu=Object.getOwnPropertySymbols,Vm=Object.prototype.hasOwnProperty,Xm=Object.prototype.propertyIsEnumerable,rg=(n,o,l)=>o in n?sw(n,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[o]=l,s1=(n,o)=>{for(var l in o||(o={}))Vm.call(o,l)&&rg(n,l,o[l]);if(wu)for(var l of wu(o))Xm.call(o,l)&&rg(n,l,o[l]);return n},o1=(n,o)=>{var l={};for(var d in n)Vm.call(n,d)&&o.indexOf(d)<0&&(l[d]=n[d]);if(n!=null&&wu)for(var d of wu(n))o.indexOf(d)<0&&Xm.call(n,d)&&(l[d]=n[d]);return l};var bl;(n=>{const o=class xt{constructor(S,y,v,I){if(this.version=S,this.errorCorrectionLevel=y,this.modules=[],this.isFunction=[],S<xt.MIN_VERSION||S>xt.MAX_VERSION)throw new RangeError("Version value out of range");if(I<-1||I>7)throw new RangeError("Mask value out of range");this.size=S*4+17;let k=[];for(let G=0;G<this.size;G++)k.push(!1);for(let G=0;G<this.size;G++)this.modules.push(k.slice()),this.isFunction.push(k.slice());this.drawFunctionPatterns();const L=this.addEccAndInterleave(v);if(this.drawCodewords(L),I==-1){let G=1e9;for(let re=0;re<8;re++){this.applyMask(re),this.drawFormatBits(re);const ue=this.getPenaltyScore();ue<G&&(I=re,G=ue),this.applyMask(re)}}m(0<=I&&I<=7),this.mask=I,this.applyMask(I),this.drawFormatBits(I),this.isFunction=[]}static encodeText(S,y){const v=n.QrSegment.makeSegments(S);return xt.encodeSegments(v,y)}static encodeBinary(S,y){const v=n.QrSegment.makeBytes(S);return xt.encodeSegments([v],y)}static encodeSegments(S,y,v=1,I=40,k=-1,L=!0){if(!(xt.MIN_VERSION<=v&&v<=I&&I<=xt.MAX_VERSION)||k<-1||k>7)throw new RangeError("Invalid value");let G,re;for(G=v;;G++){const X=xt.getNumDataCodewords(G,y)*8,q=A.getTotalBits(S,G);if(q<=X){re=q;break}if(G>=I)throw new RangeError("Data too long")}for(const X of[xt.Ecc.MEDIUM,xt.Ecc.QUARTILE,xt.Ecc.HIGH])L&&re<=xt.getNumDataCodewords(G,X)*8&&(y=X);let ue=[];for(const X of S){l(X.mode.modeBits,4,ue),l(X.numChars,X.mode.numCharCountBits(G),ue);for(const q of X.getData())ue.push(q)}m(ue.length==re);const be=xt.getNumDataCodewords(G,y)*8;m(ue.length<=be),l(0,Math.min(4,be-ue.length),ue),l(0,(8-ue.length%8)%8,ue),m(ue.length%8==0);for(let X=236;ue.length<be;X^=253)l(X,8,ue);let me=[];for(;me.length*8<ue.length;)me.push(0);return ue.forEach((X,q)=>me[q>>>3]|=X<<7-(q&7)),new xt(G,y,me,k)}getModule(S,y){return 0<=S&&S<this.size&&0<=y&&y<this.size&&this.modules[y][S]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const S=this.getAlignmentPatternPositions(),y=S.length;for(let v=0;v<y;v++)for(let I=0;I<y;I++)v==0&&I==0||v==0&&I==y-1||v==y-1&&I==0||this.drawAlignmentPattern(S[v],S[I]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(S){const y=this.errorCorrectionLevel.formatBits<<3|S;let v=y;for(let k=0;k<10;k++)v=v<<1^(v>>>9)*1335;const I=(y<<10|v)^21522;m(I>>>15==0);for(let k=0;k<=5;k++)this.setFunctionModule(8,k,d(I,k));this.setFunctionModule(8,7,d(I,6)),this.setFunctionModule(8,8,d(I,7)),this.setFunctionModule(7,8,d(I,8));for(let k=9;k<15;k++)this.setFunctionModule(14-k,8,d(I,k));for(let k=0;k<8;k++)this.setFunctionModule(this.size-1-k,8,d(I,k));for(let k=8;k<15;k++)this.setFunctionModule(8,this.size-15+k,d(I,k));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let S=this.version;for(let v=0;v<12;v++)S=S<<1^(S>>>11)*7973;const y=this.version<<12|S;m(y>>>18==0);for(let v=0;v<18;v++){const I=d(y,v),k=this.size-11+v%3,L=Math.floor(v/3);this.setFunctionModule(k,L,I),this.setFunctionModule(L,k,I)}}drawFinderPattern(S,y){for(let v=-4;v<=4;v++)for(let I=-4;I<=4;I++){const k=Math.max(Math.abs(I),Math.abs(v)),L=S+I,G=y+v;0<=L&&L<this.size&&0<=G&&G<this.size&&this.setFunctionModule(L,G,k!=2&&k!=4)}}drawAlignmentPattern(S,y){for(let v=-2;v<=2;v++)for(let I=-2;I<=2;I++)this.setFunctionModule(S+I,y+v,Math.max(Math.abs(I),Math.abs(v))!=1)}setFunctionModule(S,y,v){this.modules[y][S]=v,this.isFunction[y][S]=!0}addEccAndInterleave(S){const y=this.version,v=this.errorCorrectionLevel;if(S.length!=xt.getNumDataCodewords(y,v))throw new RangeError("Invalid argument");const I=xt.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][y],k=xt.ECC_CODEWORDS_PER_BLOCK[v.ordinal][y],L=Math.floor(xt.getNumRawDataModules(y)/8),G=I-L%I,re=Math.floor(L/I);let ue=[];const be=xt.reedSolomonComputeDivisor(k);for(let X=0,q=0;X<I;X++){let Se=S.slice(q,q+re-k+(X<G?0:1));q+=Se.length;const Ee=xt.reedSolomonComputeRemainder(Se,be);X<G&&Se.push(0),ue.push(Se.concat(Ee))}let me=[];for(let X=0;X<ue[0].length;X++)ue.forEach((q,Se)=>{(X!=re-k||Se>=G)&&me.push(q[X])});return m(me.length==L),me}drawCodewords(S){if(S.length!=Math.floor(xt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let y=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let I=0;I<this.size;I++)for(let k=0;k<2;k++){const L=v-k,re=(v+1&2)==0?this.size-1-I:I;!this.isFunction[re][L]&&y<S.length*8&&(this.modules[re][L]=d(S[y>>>3],7-(y&7)),y++)}}m(y==S.length*8)}applyMask(S){if(S<0||S>7)throw new RangeError("Mask value out of range");for(let y=0;y<this.size;y++)for(let v=0;v<this.size;v++){let I;switch(S){case 0:I=(v+y)%2==0;break;case 1:I=y%2==0;break;case 2:I=v%3==0;break;case 3:I=(v+y)%3==0;break;case 4:I=(Math.floor(v/3)+Math.floor(y/2))%2==0;break;case 5:I=v*y%2+v*y%3==0;break;case 6:I=(v*y%2+v*y%3)%2==0;break;case 7:I=((v+y)%2+v*y%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[y][v]&&I&&(this.modules[y][v]=!this.modules[y][v])}}getPenaltyScore(){let S=0;for(let k=0;k<this.size;k++){let L=!1,G=0,re=[0,0,0,0,0,0,0];for(let ue=0;ue<this.size;ue++)this.modules[k][ue]==L?(G++,G==5?S+=xt.PENALTY_N1:G>5&&S++):(this.finderPenaltyAddHistory(G,re),L||(S+=this.finderPenaltyCountPatterns(re)*xt.PENALTY_N3),L=this.modules[k][ue],G=1);S+=this.finderPenaltyTerminateAndCount(L,G,re)*xt.PENALTY_N3}for(let k=0;k<this.size;k++){let L=!1,G=0,re=[0,0,0,0,0,0,0];for(let ue=0;ue<this.size;ue++)this.modules[ue][k]==L?(G++,G==5?S+=xt.PENALTY_N1:G>5&&S++):(this.finderPenaltyAddHistory(G,re),L||(S+=this.finderPenaltyCountPatterns(re)*xt.PENALTY_N3),L=this.modules[ue][k],G=1);S+=this.finderPenaltyTerminateAndCount(L,G,re)*xt.PENALTY_N3}for(let k=0;k<this.size-1;k++)for(let L=0;L<this.size-1;L++){const G=this.modules[k][L];G==this.modules[k][L+1]&&G==this.modules[k+1][L]&&G==this.modules[k+1][L+1]&&(S+=xt.PENALTY_N2)}let y=0;for(const k of this.modules)y=k.reduce((L,G)=>L+(G?1:0),y);const v=this.size*this.size,I=Math.ceil(Math.abs(y*20-v*10)/v)-1;return m(0<=I&&I<=9),S+=I*xt.PENALTY_N4,m(0<=S&&S<=2568888),S}getAlignmentPatternPositions(){if(this.version==1)return[];{const S=Math.floor(this.version/7)+2,y=this.version==32?26:Math.ceil((this.version*4+4)/(S*2-2))*2;let v=[6];for(let I=this.size-7;v.length<S;I-=y)v.splice(1,0,I);return v}}static getNumRawDataModules(S){if(S<xt.MIN_VERSION||S>xt.MAX_VERSION)throw new RangeError("Version number out of range");let y=(16*S+128)*S+64;if(S>=2){const v=Math.floor(S/7)+2;y-=(25*v-10)*v-55,S>=7&&(y-=36)}return m(208<=y&&y<=29648),y}static getNumDataCodewords(S,y){return Math.floor(xt.getNumRawDataModules(S)/8)-xt.ECC_CODEWORDS_PER_BLOCK[y.ordinal][S]*xt.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][S]}static reedSolomonComputeDivisor(S){if(S<1||S>255)throw new RangeError("Degree out of range");let y=[];for(let I=0;I<S-1;I++)y.push(0);y.push(1);let v=1;for(let I=0;I<S;I++){for(let k=0;k<y.length;k++)y[k]=xt.reedSolomonMultiply(y[k],v),k+1<y.length&&(y[k]^=y[k+1]);v=xt.reedSolomonMultiply(v,2)}return y}static reedSolomonComputeRemainder(S,y){let v=y.map(I=>0);for(const I of S){const k=I^v.shift();v.push(0),y.forEach((L,G)=>v[G]^=xt.reedSolomonMultiply(L,k))}return v}static reedSolomonMultiply(S,y){if(S>>>8||y>>>8)throw new RangeError("Byte out of range");let v=0;for(let I=7;I>=0;I--)v=v<<1^(v>>>7)*285,v^=(y>>>I&1)*S;return m(v>>>8==0),v}finderPenaltyCountPatterns(S){const y=S[1];m(y<=this.size*3);const v=y>0&&S[2]==y&&S[3]==y*3&&S[4]==y&&S[5]==y;return(v&&S[0]>=y*4&&S[6]>=y?1:0)+(v&&S[6]>=y*4&&S[0]>=y?1:0)}finderPenaltyTerminateAndCount(S,y,v){return S&&(this.finderPenaltyAddHistory(y,v),y=0),y+=this.size,this.finderPenaltyAddHistory(y,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(S,y){y[0]==0&&(S+=this.size),y.pop(),y.unshift(S)}};o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=o;function l(b,S,y){if(S<0||S>31||b>>>S)throw new RangeError("Value out of range");for(let v=S-1;v>=0;v--)y.push(b>>>v&1)}function d(b,S){return(b>>>S&1)!=0}function m(b){if(!b)throw new Error("Assertion error")}const p=class mn{constructor(S,y,v){if(this.mode=S,this.numChars=y,this.bitData=v,y<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(S){let y=[];for(const v of S)l(v,8,y);return new mn(mn.Mode.BYTE,S.length,y)}static makeNumeric(S){if(!mn.isNumeric(S))throw new RangeError("String contains non-numeric characters");let y=[];for(let v=0;v<S.length;){const I=Math.min(S.length-v,3);l(parseInt(S.substring(v,v+I),10),I*3+1,y),v+=I}return new mn(mn.Mode.NUMERIC,S.length,y)}static makeAlphanumeric(S){if(!mn.isAlphanumeric(S))throw new RangeError("String contains unencodable characters in alphanumeric mode");let y=[],v;for(v=0;v+2<=S.length;v+=2){let I=mn.ALPHANUMERIC_CHARSET.indexOf(S.charAt(v))*45;I+=mn.ALPHANUMERIC_CHARSET.indexOf(S.charAt(v+1)),l(I,11,y)}return v<S.length&&l(mn.ALPHANUMERIC_CHARSET.indexOf(S.charAt(v)),6,y),new mn(mn.Mode.ALPHANUMERIC,S.length,y)}static makeSegments(S){return S==""?[]:mn.isNumeric(S)?[mn.makeNumeric(S)]:mn.isAlphanumeric(S)?[mn.makeAlphanumeric(S)]:[mn.makeBytes(mn.toUtf8ByteArray(S))]}static makeEci(S){let y=[];if(S<0)throw new RangeError("ECI assignment value out of range");if(S<128)l(S,8,y);else if(S<16384)l(2,2,y),l(S,14,y);else if(S<1e6)l(6,3,y),l(S,21,y);else throw new RangeError("ECI assignment value out of range");return new mn(mn.Mode.ECI,0,y)}static isNumeric(S){return mn.NUMERIC_REGEX.test(S)}static isAlphanumeric(S){return mn.ALPHANUMERIC_REGEX.test(S)}getData(){return this.bitData.slice()}static getTotalBits(S,y){let v=0;for(const I of S){const k=I.mode.numCharCountBits(y);if(I.numChars>=1<<k)return 1/0;v+=4+k+I.bitData.length}return v}static toUtf8ByteArray(S){S=encodeURI(S);let y=[];for(let v=0;v<S.length;v++)S.charAt(v)!="%"?y.push(S.charCodeAt(v)):(y.push(parseInt(S.substring(v+1,v+3),16)),v+=2);return y}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let A=p;n.QrSegment=p})(bl||(bl={}));(n=>{(o=>{const l=class{constructor(m,p){this.ordinal=m,this.formatBits=p}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),o.Ecc=l})(n.QrCode||(n.QrCode={}))})(bl||(bl={}));(n=>{(o=>{const l=class{constructor(m,p){this.modeBits=m,this.numBitsCharCount=p}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),o.Mode=l})(n.QrSegment||(n.QrSegment={}))})(bl||(bl={}));var xs=bl;var ow={L:xs.QrCode.Ecc.LOW,M:xs.QrCode.Ecc.MEDIUM,Q:xs.QrCode.Ecc.QUARTILE,H:xs.QrCode.Ecc.HIGH},Ym=128,qm="L",Km="#FFFFFF",Qm="#000000",Wm=!1,Jm=1,cw=4,uw=0,fw=.1;function $m(n,o=0){const l=[];return n.forEach(function(d,m){let p=null;d.forEach(function(A,b){if(!A&&p!==null){l.push(`M${p+o} ${m+o}h${b-p}v1H${p+o}z`),p=null;return}if(b===d.length-1){if(!A)return;p===null?l.push(`M${b+o},${m+o} h1v1H${b+o}z`):l.push(`M${p+o},${m+o} h${b+1-p}v1H${p+o}z`);return}A&&p===null&&(p=b)})}),l.join("")}function ex(n,o){return n.slice().map((l,d)=>d<o.y||d>=o.y+o.h?l:l.map((m,p)=>p<o.x||p>=o.x+o.w?m:!1))}function hw(n,o,l,d){if(d==null)return null;const m=n.length+l*2,p=Math.floor(o*fw),A=m/o,b=(d.width||p)*A,S=(d.height||p)*A,y=d.x==null?n.length/2-b/2:d.x*A,v=d.y==null?n.length/2-S/2:d.y*A,I=d.opacity==null?1:d.opacity;let k=null;if(d.excavate){let G=Math.floor(y),re=Math.floor(v),ue=Math.ceil(b+y-G),be=Math.ceil(S+v-re);k={x:G,y:re,w:ue,h:be}}const L=d.crossOrigin;return{x:y,y:v,h:S,w:b,excavation:k,opacity:I,crossOrigin:L}}function dw(n,o){return o!=null?Math.max(Math.floor(o),0):n?cw:uw}function tx({value:n,level:o,minVersion:l,includeMargin:d,marginSize:m,imageSettings:p,size:A,boostLevel:b}){let S=Ln.useMemo(()=>{const G=(Array.isArray(n)?n:[n]).reduce((re,ue)=>(re.push(...xs.QrSegment.makeSegments(ue)),re),[]);return xs.QrCode.encodeSegments(G,ow[o],l,void 0,void 0,b)},[n,o,l,b]);const{cells:y,margin:v,numCells:I,calculatedImageSettings:k}=Ln.useMemo(()=>{let L=S.getModules();const G=dw(d,m),re=L.length+G*2,ue=hw(L,A,G,p);return{cells:L,margin:G,numCells:re,calculatedImageSettings:ue}},[S,A,p,d,m]);return{qrcode:S,margin:v,cells:y,numCells:I,calculatedImageSettings:k}}var gw=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),mw=Ln.forwardRef(function(o,l){const d=o,{value:m,size:p=Ym,level:A=qm,bgColor:b=Km,fgColor:S=Qm,includeMargin:y=Wm,minVersion:v=Jm,boostLevel:I,marginSize:k,imageSettings:L}=d,re=o1(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:ue}=re,be=o1(re,["style"]),me=L?.src,X=Ln.useRef(null),q=Ln.useRef(null),Se=Ln.useCallback(Je=>{X.current=Je,typeof l=="function"?l(Je):l&&(l.current=Je)},[l]),[Ee,Z]=Ln.useState(!1),{margin:we,cells:te,numCells:Oe,calculatedImageSettings:Te}=tx({value:m,level:A,minVersion:v,boostLevel:I,includeMargin:y,marginSize:k,imageSettings:L,size:p});Ln.useEffect(()=>{if(X.current!=null){const Je=X.current,Q=Je.getContext("2d");if(!Q)return;let $=te;const se=q.current,ke=Te!=null&&se!==null&&se.complete&&se.naturalHeight!==0&&se.naturalWidth!==0;ke&&Te.excavation!=null&&($=ex(te,Te.excavation));const qe=window.devicePixelRatio||1;Je.height=Je.width=p*qe;const $e=p/Oe*qe;Q.scale($e,$e),Q.fillStyle=b,Q.fillRect(0,0,Oe,Oe),Q.fillStyle=S,gw?Q.fill(new Path2D($m($,we))):te.forEach(function(P,J){P.forEach(function(Ae,Ce){Ae&&Q.fillRect(Ce+we,J+we,1,1)})}),Te&&(Q.globalAlpha=Te.opacity),ke&&Q.drawImage(se,Te.x+we,Te.y+we,Te.w,Te.h)}}),Ln.useEffect(()=>{Z(!1)},[me]);const Ne=s1({height:p,width:p},ue);let Qe=null;return me!=null&&(Qe=Ln.createElement("img",{src:me,key:me,style:{display:"none"},onLoad:()=>{Z(!0)},ref:q,crossOrigin:Te?.crossOrigin})),Ln.createElement(Ln.Fragment,null,Ln.createElement("canvas",s1({style:Ne,height:p,width:p,ref:Se,role:"img"},be)),Qe)});mw.displayName="QRCodeCanvas";var nx=Ln.forwardRef(function(o,l){const d=o,{value:m,size:p=Ym,level:A=qm,bgColor:b=Km,fgColor:S=Qm,includeMargin:y=Wm,minVersion:v=Jm,boostLevel:I,title:k,marginSize:L,imageSettings:G}=d,re=o1(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:ue,cells:be,numCells:me,calculatedImageSettings:X}=tx({value:m,level:A,minVersion:v,boostLevel:I,includeMargin:y,marginSize:L,imageSettings:G,size:p});let q=be,Se=null;G!=null&&X!=null&&(X.excavation!=null&&(q=ex(be,X.excavation)),Se=Ln.createElement("image",{href:G.src,height:X.h,width:X.w,x:X.x+ue,y:X.y+ue,preserveAspectRatio:"none",opacity:X.opacity,crossOrigin:X.crossOrigin}));const Ee=$m(q,ue);return Ln.createElement("svg",s1({height:p,width:p,viewBox:`0 0 ${me} ${me}`,ref:l,role:"img"},re),!!k&&Ln.createElement("title",null,k),Ln.createElement("path",{fill:b,d:`M0,0 h${me}v${me}H0z`,shapeRendering:"crispEdges"}),Ln.createElement("path",{fill:S,d:Ee,shapeRendering:"crispEdges"}),Se)});nx.displayName="QRCodeSVG";const xw=4,lg=0,sg=1,pw=2;function Cs(n){let o=n.length;for(;--o>=0;)n[o]=0}const ww=0,ix=1,_w=2,yw=3,Ew=258,T1=29,Fo=256,No=Fo+1+T1,_s=30,N1=19,ax=2*No+1,_l=15,Z0=16,Aw=7,O1=256,rx=16,lx=17,sx=18,c1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),bw=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ox=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cw=512,$a=new Array((No+2)*2);Cs($a);const So=new Array(_s*2);Cs(So);const Oo=new Array(Cw);Cs(Oo);const Ro=new Array(Ew-yw+1);Cs(Ro);const R1=new Array(T1);Cs(R1);const _u=new Array(_s);Cs(_u);function j0(n,o,l,d,m){this.static_tree=n,this.extra_bits=o,this.extra_base=l,this.elems=d,this.max_length=m,this.has_stree=n&&n.length}let cx,ux,fx;function G0(n,o){this.dyn_tree=n,this.max_code=0,this.stat_desc=o}const hx=n=>n<256?Oo[n]:Oo[256+(n>>>7)],Io=(n,o)=>{n.pending_buf[n.pending++]=o&255,n.pending_buf[n.pending++]=o>>>8&255},_i=(n,o,l)=>{n.bi_valid>Z0-l?(n.bi_buf|=o<<n.bi_valid&65535,Io(n,n.bi_buf),n.bi_buf=o>>Z0-n.bi_valid,n.bi_valid+=l-Z0):(n.bi_buf|=o<<n.bi_valid&65535,n.bi_valid+=l)},Sa=(n,o,l)=>{_i(n,l[o*2],l[o*2+1])},dx=(n,o)=>{let l=0;do l|=n&1,n>>>=1,l<<=1;while(--o>0);return l>>>1},Sw=n=>{n.bi_valid===16?(Io(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},vw=(n,o)=>{const l=o.dyn_tree,d=o.max_code,m=o.stat_desc.static_tree,p=o.stat_desc.has_stree,A=o.stat_desc.extra_bits,b=o.stat_desc.extra_base,S=o.stat_desc.max_length;let y,v,I,k,L,G,re=0;for(k=0;k<=_l;k++)n.bl_count[k]=0;for(l[n.heap[n.heap_max]*2+1]=0,y=n.heap_max+1;y<ax;y++)v=n.heap[y],k=l[l[v*2+1]*2+1]+1,k>S&&(k=S,re++),l[v*2+1]=k,!(v>d)&&(n.bl_count[k]++,L=0,v>=b&&(L=A[v-b]),G=l[v*2],n.opt_len+=G*(k+L),p&&(n.static_len+=G*(m[v*2+1]+L)));if(re!==0){do{for(k=S-1;n.bl_count[k]===0;)k--;n.bl_count[k]--,n.bl_count[k+1]+=2,n.bl_count[S]--,re-=2}while(re>0);for(k=S;k!==0;k--)for(v=n.bl_count[k];v!==0;)I=n.heap[--y],!(I>d)&&(l[I*2+1]!==k&&(n.opt_len+=(k-l[I*2+1])*l[I*2],l[I*2+1]=k),v--)}},gx=(n,o,l)=>{const d=new Array(_l+1);let m=0,p,A;for(p=1;p<=_l;p++)m=m+l[p-1]<<1,d[p]=m;for(A=0;A<=o;A++){let b=n[A*2+1];b!==0&&(n[A*2]=dx(d[b]++,b))}},Tw=()=>{let n,o,l,d,m;const p=new Array(_l+1);for(l=0,d=0;d<T1-1;d++)for(R1[d]=l,n=0;n<1<<c1[d];n++)Ro[l++]=d;for(Ro[l-1]=d,m=0,d=0;d<16;d++)for(_u[d]=m,n=0;n<1<<gu[d];n++)Oo[m++]=d;for(m>>=7;d<_s;d++)for(_u[d]=m<<7,n=0;n<1<<gu[d]-7;n++)Oo[256+m++]=d;for(o=0;o<=_l;o++)p[o]=0;for(n=0;n<=143;)$a[n*2+1]=8,n++,p[8]++;for(;n<=255;)$a[n*2+1]=9,n++,p[9]++;for(;n<=279;)$a[n*2+1]=7,n++,p[7]++;for(;n<=287;)$a[n*2+1]=8,n++,p[8]++;for(gx($a,No+1,p),n=0;n<_s;n++)So[n*2+1]=5,So[n*2]=dx(n,5);cx=new j0($a,c1,Fo+1,No,_l),ux=new j0(So,gu,0,_s,_l),fx=new j0(new Array(0),bw,0,N1,Aw)},mx=n=>{let o;for(o=0;o<No;o++)n.dyn_ltree[o*2]=0;for(o=0;o<_s;o++)n.dyn_dtree[o*2]=0;for(o=0;o<N1;o++)n.bl_tree[o*2]=0;n.dyn_ltree[O1*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},xx=n=>{n.bi_valid>8?Io(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},og=(n,o,l,d)=>{const m=o*2,p=l*2;return n[m]<n[p]||n[m]===n[p]&&d[o]<=d[l]},V0=(n,o,l)=>{const d=n.heap[l];let m=l<<1;for(;m<=n.heap_len&&(m<n.heap_len&&og(o,n.heap[m+1],n.heap[m],n.depth)&&m++,!og(o,d,n.heap[m],n.depth));)n.heap[l]=n.heap[m],l=m,m<<=1;n.heap[l]=d},cg=(n,o,l)=>{let d,m,p=0,A,b;if(n.sym_next!==0)do d=n.pending_buf[n.sym_buf+p++]&255,d+=(n.pending_buf[n.sym_buf+p++]&255)<<8,m=n.pending_buf[n.sym_buf+p++],d===0?Sa(n,m,o):(A=Ro[m],Sa(n,A+Fo+1,o),b=c1[A],b!==0&&(m-=R1[A],_i(n,m,b)),d--,A=hx(d),Sa(n,A,l),b=gu[A],b!==0&&(d-=_u[A],_i(n,d,b)));while(p<n.sym_next);Sa(n,O1,o)},u1=(n,o)=>{const l=o.dyn_tree,d=o.stat_desc.static_tree,m=o.stat_desc.has_stree,p=o.stat_desc.elems;let A,b,S=-1,y;for(n.heap_len=0,n.heap_max=ax,A=0;A<p;A++)l[A*2]!==0?(n.heap[++n.heap_len]=S=A,n.depth[A]=0):l[A*2+1]=0;for(;n.heap_len<2;)y=n.heap[++n.heap_len]=S<2?++S:0,l[y*2]=1,n.depth[y]=0,n.opt_len--,m&&(n.static_len-=d[y*2+1]);for(o.max_code=S,A=n.heap_len>>1;A>=1;A--)V0(n,l,A);y=p;do A=n.heap[1],n.heap[1]=n.heap[n.heap_len--],V0(n,l,1),b=n.heap[1],n.heap[--n.heap_max]=A,n.heap[--n.heap_max]=b,l[y*2]=l[A*2]+l[b*2],n.depth[y]=(n.depth[A]>=n.depth[b]?n.depth[A]:n.depth[b])+1,l[A*2+1]=l[b*2+1]=y,n.heap[1]=y++,V0(n,l,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],vw(n,o),gx(l,S,n.bl_count)},ug=(n,o,l)=>{let d,m=-1,p,A=o[1],b=0,S=7,y=4;for(A===0&&(S=138,y=3),o[(l+1)*2+1]=65535,d=0;d<=l;d++)p=A,A=o[(d+1)*2+1],!(++b<S&&p===A)&&(b<y?n.bl_tree[p*2]+=b:p!==0?(p!==m&&n.bl_tree[p*2]++,n.bl_tree[rx*2]++):b<=10?n.bl_tree[lx*2]++:n.bl_tree[sx*2]++,b=0,m=p,A===0?(S=138,y=3):p===A?(S=6,y=3):(S=7,y=4))},fg=(n,o,l)=>{let d,m=-1,p,A=o[1],b=0,S=7,y=4;for(A===0&&(S=138,y=3),d=0;d<=l;d++)if(p=A,A=o[(d+1)*2+1],!(++b<S&&p===A)){if(b<y)do Sa(n,p,n.bl_tree);while(--b!==0);else p!==0?(p!==m&&(Sa(n,p,n.bl_tree),b--),Sa(n,rx,n.bl_tree),_i(n,b-3,2)):b<=10?(Sa(n,lx,n.bl_tree),_i(n,b-3,3)):(Sa(n,sx,n.bl_tree),_i(n,b-11,7));b=0,m=p,A===0?(S=138,y=3):p===A?(S=6,y=3):(S=7,y=4)}},Nw=n=>{let o;for(ug(n,n.dyn_ltree,n.l_desc.max_code),ug(n,n.dyn_dtree,n.d_desc.max_code),u1(n,n.bl_desc),o=N1-1;o>=3&&n.bl_tree[ox[o]*2+1]===0;o--);return n.opt_len+=3*(o+1)+5+5+4,o},Ow=(n,o,l,d)=>{let m;for(_i(n,o-257,5),_i(n,l-1,5),_i(n,d-4,4),m=0;m<d;m++)_i(n,n.bl_tree[ox[m]*2+1],3);fg(n,n.dyn_ltree,o-1),fg(n,n.dyn_dtree,l-1)},Rw=n=>{let o=4093624447,l;for(l=0;l<=31;l++,o>>>=1)if(o&1&&n.dyn_ltree[l*2]!==0)return lg;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return sg;for(l=32;l<Fo;l++)if(n.dyn_ltree[l*2]!==0)return sg;return lg};let hg=!1;const Iw=n=>{hg||(Tw(),hg=!0),n.l_desc=new G0(n.dyn_ltree,cx),n.d_desc=new G0(n.dyn_dtree,ux),n.bl_desc=new G0(n.bl_tree,fx),n.bi_buf=0,n.bi_valid=0,mx(n)},px=(n,o,l,d)=>{_i(n,(ww<<1)+(d?1:0),3),xx(n),Io(n,l),Io(n,~l),l&&n.pending_buf.set(n.window.subarray(o,o+l),n.pending),n.pending+=l},Dw=n=>{_i(n,ix<<1,3),Sa(n,O1,$a),Sw(n)},Mw=(n,o,l,d)=>{let m,p,A=0;n.level>0?(n.strm.data_type===pw&&(n.strm.data_type=Rw(n)),u1(n,n.l_desc),u1(n,n.d_desc),A=Nw(n),m=n.opt_len+3+7>>>3,p=n.static_len+3+7>>>3,p<=m&&(m=p)):m=p=l+5,l+4<=m&&o!==-1?px(n,o,l,d):n.strategy===xw||p===m?(_i(n,(ix<<1)+(d?1:0),3),cg(n,$a,So)):(_i(n,(_w<<1)+(d?1:0),3),Ow(n,n.l_desc.max_code+1,n.d_desc.max_code+1,A+1),cg(n,n.dyn_ltree,n.dyn_dtree)),mx(n),d&&xx(n)},Bw=(n,o,l)=>(n.pending_buf[n.sym_buf+n.sym_next++]=o,n.pending_buf[n.sym_buf+n.sym_next++]=o>>8,n.pending_buf[n.sym_buf+n.sym_next++]=l,o===0?n.dyn_ltree[l*2]++:(n.matches++,o--,n.dyn_ltree[(Ro[l]+Fo+1)*2]++,n.dyn_dtree[hx(o)*2]++),n.sym_next===n.sym_end);var kw=Iw,Lw=px,zw=Mw,Uw=Bw,Fw=Dw,Pw={_tr_init:kw,_tr_stored_block:Lw,_tr_flush_block:zw,_tr_tally:Uw,_tr_align:Fw};const Hw=(n,o,l,d)=>{let m=n&65535|0,p=n>>>16&65535|0,A=0;for(;l!==0;){A=l>2e3?2e3:l,l-=A;do m=m+o[d++]|0,p=p+m|0;while(--A);m%=65521,p%=65521}return m|p<<16|0};var Do=Hw;const Zw=()=>{let n,o=[];for(var l=0;l<256;l++){n=l;for(var d=0;d<8;d++)n=n&1?3988292384^n>>>1:n>>>1;o[l]=n}return o},jw=new Uint32Array(Zw()),Gw=(n,o,l,d)=>{const m=jw,p=d+l;n^=-1;for(let A=d;A<p;A++)n=n>>>8^m[(n^o[A])&255];return n^-1};var Hn=Gw,Cl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Iu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Vw,_tr_stored_block:f1,_tr_flush_block:Xw,_tr_tally:Pr,_tr_align:Yw}=Pw,{Z_NO_FLUSH:Hr,Z_PARTIAL_FLUSH:qw,Z_FULL_FLUSH:Kw,Z_FINISH:Ji,Z_BLOCK:dg,Z_OK:Kn,Z_STREAM_END:gg,Z_STREAM_ERROR:va,Z_DATA_ERROR:Qw,Z_BUF_ERROR:X0,Z_DEFAULT_COMPRESSION:Ww,Z_FILTERED:Jw,Z_HUFFMAN_ONLY:ru,Z_RLE:$w,Z_FIXED:e_,Z_DEFAULT_STRATEGY:t_,Z_UNKNOWN:n_,Z_DEFLATED:Du}=Iu,i_=9,a_=15,r_=8,l_=29,s_=256,h1=s_+1+l_,o_=30,c_=19,u_=2*h1+1,f_=15,St=3,Fr=258,Ta=Fr+St+1,h_=32,Es=42,I1=57,d1=69,g1=73,m1=91,x1=103,yl=113,Eo=666,ci=1,Ss=2,Sl=3,vs=4,d_=3,El=(n,o)=>(n.msg=Cl[o],o),mg=n=>n*2-(n>4?9:0),Ur=n=>{let o=n.length;for(;--o>=0;)n[o]=0},g_=n=>{let o,l,d,m=n.w_size;o=n.hash_size,d=o;do l=n.head[--d],n.head[d]=l>=m?l-m:0;while(--o);o=m,d=o;do l=n.prev[--d],n.prev[d]=l>=m?l-m:0;while(--o)};let m_=(n,o,l)=>(o<<n.hash_shift^l)&n.hash_mask,Zr=m_;const Li=n=>{const o=n.state;let l=o.pending;l>n.avail_out&&(l=n.avail_out),l!==0&&(n.output.set(o.pending_buf.subarray(o.pending_out,o.pending_out+l),n.next_out),n.next_out+=l,o.pending_out+=l,n.total_out+=l,n.avail_out-=l,o.pending-=l,o.pending===0&&(o.pending_out=0))},zi=(n,o)=>{Xw(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,o),n.block_start=n.strstart,Li(n.strm)},kt=(n,o)=>{n.pending_buf[n.pending++]=o},yo=(n,o)=>{n.pending_buf[n.pending++]=o>>>8&255,n.pending_buf[n.pending++]=o&255},p1=(n,o,l,d)=>{let m=n.avail_in;return m>d&&(m=d),m===0?0:(n.avail_in-=m,o.set(n.input.subarray(n.next_in,n.next_in+m),l),n.state.wrap===1?n.adler=Do(n.adler,o,m,l):n.state.wrap===2&&(n.adler=Hn(n.adler,o,m,l)),n.next_in+=m,n.total_in+=m,m)},wx=(n,o)=>{let l=n.max_chain_length,d=n.strstart,m,p,A=n.prev_length,b=n.nice_match;const S=n.strstart>n.w_size-Ta?n.strstart-(n.w_size-Ta):0,y=n.window,v=n.w_mask,I=n.prev,k=n.strstart+Fr;let L=y[d+A-1],G=y[d+A];n.prev_length>=n.good_match&&(l>>=2),b>n.lookahead&&(b=n.lookahead);do if(m=o,!(y[m+A]!==G||y[m+A-1]!==L||y[m]!==y[d]||y[++m]!==y[d+1])){d+=2,m++;do;while(y[++d]===y[++m]&&y[++d]===y[++m]&&y[++d]===y[++m]&&y[++d]===y[++m]&&y[++d]===y[++m]&&y[++d]===y[++m]&&y[++d]===y[++m]&&y[++d]===y[++m]&&d<k);if(p=Fr-(k-d),d=k-Fr,p>A){if(n.match_start=o,A=p,p>=b)break;L=y[d+A-1],G=y[d+A]}}while((o=I[o&v])>S&&--l!==0);return A<=n.lookahead?A:n.lookahead},As=n=>{const o=n.w_size;let l,d,m;do{if(d=n.window_size-n.lookahead-n.strstart,n.strstart>=o+(o-Ta)&&(n.window.set(n.window.subarray(o,o+o-d),0),n.match_start-=o,n.strstart-=o,n.block_start-=o,n.insert>n.strstart&&(n.insert=n.strstart),g_(n),d+=o),n.strm.avail_in===0)break;if(l=p1(n.strm,n.window,n.strstart+n.lookahead,d),n.lookahead+=l,n.lookahead+n.insert>=St)for(m=n.strstart-n.insert,n.ins_h=n.window[m],n.ins_h=Zr(n,n.ins_h,n.window[m+1]);n.insert&&(n.ins_h=Zr(n,n.ins_h,n.window[m+St-1]),n.prev[m&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=m,m++,n.insert--,!(n.lookahead+n.insert<St)););}while(n.lookahead<Ta&&n.strm.avail_in!==0)},_x=(n,o)=>{let l=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,d,m,p,A=0,b=n.strm.avail_in;do{if(d=65535,p=n.bi_valid+42>>3,n.strm.avail_out<p||(p=n.strm.avail_out-p,m=n.strstart-n.block_start,d>m+n.strm.avail_in&&(d=m+n.strm.avail_in),d>p&&(d=p),d<l&&(d===0&&o!==Ji||o===Hr||d!==m+n.strm.avail_in)))break;A=o===Ji&&d===m+n.strm.avail_in?1:0,f1(n,0,0,A),n.pending_buf[n.pending-4]=d,n.pending_buf[n.pending-3]=d>>8,n.pending_buf[n.pending-2]=~d,n.pending_buf[n.pending-1]=~d>>8,Li(n.strm),m&&(m>d&&(m=d),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+m),n.strm.next_out),n.strm.next_out+=m,n.strm.avail_out-=m,n.strm.total_out+=m,n.block_start+=m,d-=m),d&&(p1(n.strm,n.strm.output,n.strm.next_out,d),n.strm.next_out+=d,n.strm.avail_out-=d,n.strm.total_out+=d)}while(A===0);return b-=n.strm.avail_in,b&&(b>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=b&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-b,n.strm.next_in),n.strstart),n.strstart+=b,n.insert+=b>n.w_size-n.insert?n.w_size-n.insert:b),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),A?vs:o!==Hr&&o!==Ji&&n.strm.avail_in===0&&n.strstart===n.block_start?Ss:(p=n.window_size-n.strstart,n.strm.avail_in>p&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,p+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),p>n.strm.avail_in&&(p=n.strm.avail_in),p&&(p1(n.strm,n.window,n.strstart,p),n.strstart+=p,n.insert+=p>n.w_size-n.insert?n.w_size-n.insert:p),n.high_water<n.strstart&&(n.high_water=n.strstart),p=n.bi_valid+42>>3,p=n.pending_buf_size-p>65535?65535:n.pending_buf_size-p,l=p>n.w_size?n.w_size:p,m=n.strstart-n.block_start,(m>=l||(m||o===Ji)&&o!==Hr&&n.strm.avail_in===0&&m<=p)&&(d=m>p?p:m,A=o===Ji&&n.strm.avail_in===0&&d===m?1:0,f1(n,n.block_start,d,A),n.block_start+=d,Li(n.strm)),A?Sl:ci)},Y0=(n,o)=>{let l,d;for(;;){if(n.lookahead<Ta){if(As(n),n.lookahead<Ta&&o===Hr)return ci;if(n.lookahead===0)break}if(l=0,n.lookahead>=St&&(n.ins_h=Zr(n,n.ins_h,n.window[n.strstart+St-1]),l=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),l!==0&&n.strstart-l<=n.w_size-Ta&&(n.match_length=wx(n,l)),n.match_length>=St)if(d=Pr(n,n.strstart-n.match_start,n.match_length-St),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=St){n.match_length--;do n.strstart++,n.ins_h=Zr(n,n.ins_h,n.window[n.strstart+St-1]),l=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Zr(n,n.ins_h,n.window[n.strstart+1]);else d=Pr(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(d&&(zi(n,!1),n.strm.avail_out===0))return ci}return n.insert=n.strstart<St-1?n.strstart:St-1,o===Ji?(zi(n,!0),n.strm.avail_out===0?Sl:vs):n.sym_next&&(zi(n,!1),n.strm.avail_out===0)?ci:Ss},gs=(n,o)=>{let l,d,m;for(;;){if(n.lookahead<Ta){if(As(n),n.lookahead<Ta&&o===Hr)return ci;if(n.lookahead===0)break}if(l=0,n.lookahead>=St&&(n.ins_h=Zr(n,n.ins_h,n.window[n.strstart+St-1]),l=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=St-1,l!==0&&n.prev_length<n.max_lazy_match&&n.strstart-l<=n.w_size-Ta&&(n.match_length=wx(n,l),n.match_length<=5&&(n.strategy===Jw||n.match_length===St&&n.strstart-n.match_start>4096)&&(n.match_length=St-1)),n.prev_length>=St&&n.match_length<=n.prev_length){m=n.strstart+n.lookahead-St,d=Pr(n,n.strstart-1-n.prev_match,n.prev_length-St),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=m&&(n.ins_h=Zr(n,n.ins_h,n.window[n.strstart+St-1]),l=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=St-1,n.strstart++,d&&(zi(n,!1),n.strm.avail_out===0))return ci}else if(n.match_available){if(d=Pr(n,0,n.window[n.strstart-1]),d&&zi(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return ci}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(d=Pr(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<St-1?n.strstart:St-1,o===Ji?(zi(n,!0),n.strm.avail_out===0?Sl:vs):n.sym_next&&(zi(n,!1),n.strm.avail_out===0)?ci:Ss},x_=(n,o)=>{let l,d,m,p;const A=n.window;for(;;){if(n.lookahead<=Fr){if(As(n),n.lookahead<=Fr&&o===Hr)return ci;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=St&&n.strstart>0&&(m=n.strstart-1,d=A[m],d===A[++m]&&d===A[++m]&&d===A[++m])){p=n.strstart+Fr;do;while(d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&m<p);n.match_length=Fr-(p-m),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=St?(l=Pr(n,1,n.match_length-St),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(l=Pr(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),l&&(zi(n,!1),n.strm.avail_out===0))return ci}return n.insert=0,o===Ji?(zi(n,!0),n.strm.avail_out===0?Sl:vs):n.sym_next&&(zi(n,!1),n.strm.avail_out===0)?ci:Ss},p_=(n,o)=>{let l;for(;;){if(n.lookahead===0&&(As(n),n.lookahead===0)){if(o===Hr)return ci;break}if(n.match_length=0,l=Pr(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,l&&(zi(n,!1),n.strm.avail_out===0))return ci}return n.insert=0,o===Ji?(zi(n,!0),n.strm.avail_out===0?Sl:vs):n.sym_next&&(zi(n,!1),n.strm.avail_out===0)?ci:Ss};function ba(n,o,l,d,m){this.good_length=n,this.max_lazy=o,this.nice_length=l,this.max_chain=d,this.func=m}const Ao=[new ba(0,0,0,0,_x),new ba(4,4,8,4,Y0),new ba(4,5,16,8,Y0),new ba(4,6,32,32,Y0),new ba(4,4,16,16,gs),new ba(8,16,32,32,gs),new ba(8,16,128,128,gs),new ba(8,32,128,256,gs),new ba(32,128,258,1024,gs),new ba(32,258,258,4096,gs)],w_=n=>{n.window_size=2*n.w_size,Ur(n.head),n.max_lazy_match=Ao[n.level].max_lazy,n.good_match=Ao[n.level].good_length,n.nice_match=Ao[n.level].nice_length,n.max_chain_length=Ao[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=St-1,n.match_available=0,n.ins_h=0};function __(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Du,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(u_*2),this.dyn_dtree=new Uint16Array((2*o_+1)*2),this.bl_tree=new Uint16Array((2*c_+1)*2),Ur(this.dyn_ltree),Ur(this.dyn_dtree),Ur(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(f_+1),this.heap=new Uint16Array(2*h1+1),Ur(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*h1+1),Ur(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Po=n=>{if(!n)return 1;const o=n.state;return!o||o.strm!==n||o.status!==Es&&o.status!==I1&&o.status!==d1&&o.status!==g1&&o.status!==m1&&o.status!==x1&&o.status!==yl&&o.status!==Eo?1:0},yx=n=>{if(Po(n))return El(n,va);n.total_in=n.total_out=0,n.data_type=n_;const o=n.state;return o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap===2?I1:o.wrap?Es:yl,n.adler=o.wrap===2?0:1,o.last_flush=-2,Vw(o),Kn},Ex=n=>{const o=yx(n);return o===Kn&&w_(n.state),o},y_=(n,o)=>Po(n)||n.state.wrap!==2?va:(n.state.gzhead=o,Kn),Ax=(n,o,l,d,m,p)=>{if(!n)return va;let A=1;if(o===Ww&&(o=6),d<0?(A=0,d=-d):d>15&&(A=2,d-=16),m<1||m>i_||l!==Du||d<8||d>15||o<0||o>9||p<0||p>e_||d===8&&A!==1)return El(n,va);d===8&&(d=9);const b=new __;return n.state=b,b.strm=n,b.status=Es,b.wrap=A,b.gzhead=null,b.w_bits=d,b.w_size=1<<b.w_bits,b.w_mask=b.w_size-1,b.hash_bits=m+7,b.hash_size=1<<b.hash_bits,b.hash_mask=b.hash_size-1,b.hash_shift=~~((b.hash_bits+St-1)/St),b.window=new Uint8Array(b.w_size*2),b.head=new Uint16Array(b.hash_size),b.prev=new Uint16Array(b.w_size),b.lit_bufsize=1<<m+6,b.pending_buf_size=b.lit_bufsize*4,b.pending_buf=new Uint8Array(b.pending_buf_size),b.sym_buf=b.lit_bufsize,b.sym_end=(b.lit_bufsize-1)*3,b.level=o,b.strategy=p,b.method=l,Ex(n)},E_=(n,o)=>Ax(n,o,Du,a_,r_,t_),A_=(n,o)=>{if(Po(n)||o>dg||o<0)return n?El(n,va):va;const l=n.state;if(!n.output||n.avail_in!==0&&!n.input||l.status===Eo&&o!==Ji)return El(n,n.avail_out===0?X0:va);const d=l.last_flush;if(l.last_flush=o,l.pending!==0){if(Li(n),n.avail_out===0)return l.last_flush=-1,Kn}else if(n.avail_in===0&&mg(o)<=mg(d)&&o!==Ji)return El(n,X0);if(l.status===Eo&&n.avail_in!==0)return El(n,X0);if(l.status===Es&&l.wrap===0&&(l.status=yl),l.status===Es){let m=Du+(l.w_bits-8<<4)<<8,p=-1;if(l.strategy>=ru||l.level<2?p=0:l.level<6?p=1:l.level===6?p=2:p=3,m|=p<<6,l.strstart!==0&&(m|=h_),m+=31-m%31,yo(l,m),l.strstart!==0&&(yo(l,n.adler>>>16),yo(l,n.adler&65535)),n.adler=1,l.status=yl,Li(n),l.pending!==0)return l.last_flush=-1,Kn}if(l.status===I1){if(n.adler=0,kt(l,31),kt(l,139),kt(l,8),l.gzhead)kt(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),kt(l,l.gzhead.time&255),kt(l,l.gzhead.time>>8&255),kt(l,l.gzhead.time>>16&255),kt(l,l.gzhead.time>>24&255),kt(l,l.level===9?2:l.strategy>=ru||l.level<2?4:0),kt(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(kt(l,l.gzhead.extra.length&255),kt(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(n.adler=Hn(n.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=d1;else if(kt(l,0),kt(l,0),kt(l,0),kt(l,0),kt(l,0),kt(l,l.level===9?2:l.strategy>=ru||l.level<2?4:0),kt(l,d_),l.status=yl,Li(n),l.pending!==0)return l.last_flush=-1,Kn}if(l.status===d1){if(l.gzhead.extra){let m=l.pending,p=(l.gzhead.extra.length&65535)-l.gzindex;for(;l.pending+p>l.pending_buf_size;){let b=l.pending_buf_size-l.pending;if(l.pending_buf.set(l.gzhead.extra.subarray(l.gzindex,l.gzindex+b),l.pending),l.pending=l.pending_buf_size,l.gzhead.hcrc&&l.pending>m&&(n.adler=Hn(n.adler,l.pending_buf,l.pending-m,m)),l.gzindex+=b,Li(n),l.pending!==0)return l.last_flush=-1,Kn;m=0,p-=b}let A=new Uint8Array(l.gzhead.extra);l.pending_buf.set(A.subarray(l.gzindex,l.gzindex+p),l.pending),l.pending+=p,l.gzhead.hcrc&&l.pending>m&&(n.adler=Hn(n.adler,l.pending_buf,l.pending-m,m)),l.gzindex=0}l.status=g1}if(l.status===g1){if(l.gzhead.name){let m=l.pending,p;do{if(l.pending===l.pending_buf_size){if(l.gzhead.hcrc&&l.pending>m&&(n.adler=Hn(n.adler,l.pending_buf,l.pending-m,m)),Li(n),l.pending!==0)return l.last_flush=-1,Kn;m=0}l.gzindex<l.gzhead.name.length?p=l.gzhead.name.charCodeAt(l.gzindex++)&255:p=0,kt(l,p)}while(p!==0);l.gzhead.hcrc&&l.pending>m&&(n.adler=Hn(n.adler,l.pending_buf,l.pending-m,m)),l.gzindex=0}l.status=m1}if(l.status===m1){if(l.gzhead.comment){let m=l.pending,p;do{if(l.pending===l.pending_buf_size){if(l.gzhead.hcrc&&l.pending>m&&(n.adler=Hn(n.adler,l.pending_buf,l.pending-m,m)),Li(n),l.pending!==0)return l.last_flush=-1,Kn;m=0}l.gzindex<l.gzhead.comment.length?p=l.gzhead.comment.charCodeAt(l.gzindex++)&255:p=0,kt(l,p)}while(p!==0);l.gzhead.hcrc&&l.pending>m&&(n.adler=Hn(n.adler,l.pending_buf,l.pending-m,m))}l.status=x1}if(l.status===x1){if(l.gzhead.hcrc){if(l.pending+2>l.pending_buf_size&&(Li(n),l.pending!==0))return l.last_flush=-1,Kn;kt(l,n.adler&255),kt(l,n.adler>>8&255),n.adler=0}if(l.status=yl,Li(n),l.pending!==0)return l.last_flush=-1,Kn}if(n.avail_in!==0||l.lookahead!==0||o!==Hr&&l.status!==Eo){let m=l.level===0?_x(l,o):l.strategy===ru?p_(l,o):l.strategy===$w?x_(l,o):Ao[l.level].func(l,o);if((m===Sl||m===vs)&&(l.status=Eo),m===ci||m===Sl)return n.avail_out===0&&(l.last_flush=-1),Kn;if(m===Ss&&(o===qw?Yw(l):o!==dg&&(f1(l,0,0,!1),o===Kw&&(Ur(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),Li(n),n.avail_out===0))return l.last_flush=-1,Kn}return o!==Ji?Kn:l.wrap<=0?gg:(l.wrap===2?(kt(l,n.adler&255),kt(l,n.adler>>8&255),kt(l,n.adler>>16&255),kt(l,n.adler>>24&255),kt(l,n.total_in&255),kt(l,n.total_in>>8&255),kt(l,n.total_in>>16&255),kt(l,n.total_in>>24&255)):(yo(l,n.adler>>>16),yo(l,n.adler&65535)),Li(n),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?Kn:gg)},b_=n=>{if(Po(n))return va;const o=n.state.status;return n.state=null,o===yl?El(n,Qw):Kn},C_=(n,o)=>{let l=o.length;if(Po(n))return va;const d=n.state,m=d.wrap;if(m===2||m===1&&d.status!==Es||d.lookahead)return va;if(m===1&&(n.adler=Do(n.adler,o,l,0)),d.wrap=0,l>=d.w_size){m===0&&(Ur(d.head),d.strstart=0,d.block_start=0,d.insert=0);let S=new Uint8Array(d.w_size);S.set(o.subarray(l-d.w_size,l),0),o=S,l=d.w_size}const p=n.avail_in,A=n.next_in,b=n.input;for(n.avail_in=l,n.next_in=0,n.input=o,As(d);d.lookahead>=St;){let S=d.strstart,y=d.lookahead-(St-1);do d.ins_h=Zr(d,d.ins_h,d.window[S+St-1]),d.prev[S&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=S,S++;while(--y);d.strstart=S,d.lookahead=St-1,As(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=St-1,d.match_available=0,n.next_in=A,n.input=b,n.avail_in=p,d.wrap=m,Kn};var S_=E_,v_=Ax,T_=Ex,N_=yx,O_=y_,R_=A_,I_=b_,D_=C_,M_="pako deflate (from Nodeca project)",vo={deflateInit:S_,deflateInit2:v_,deflateReset:T_,deflateResetKeep:N_,deflateSetHeader:O_,deflate:R_,deflateEnd:I_,deflateSetDictionary:D_,deflateInfo:M_};const B_=(n,o)=>Object.prototype.hasOwnProperty.call(n,o);var k_=function(n){const o=Array.prototype.slice.call(arguments,1);for(;o.length;){const l=o.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(const d in l)B_(l,d)&&(n[d]=l[d])}}return n},L_=n=>{let o=0;for(let d=0,m=n.length;d<m;d++)o+=n[d].length;const l=new Uint8Array(o);for(let d=0,m=0,p=n.length;d<p;d++){let A=n[d];l.set(A,m),m+=A.length}return l},Mu={assign:k_,flattenChunks:L_};let bx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bx=!1}const Mo=new Uint8Array(256);for(let n=0;n<256;n++)Mo[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Mo[254]=Mo[254]=1;var z_=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let o,l,d,m,p,A=n.length,b=0;for(m=0;m<A;m++)l=n.charCodeAt(m),(l&64512)===55296&&m+1<A&&(d=n.charCodeAt(m+1),(d&64512)===56320&&(l=65536+(l-55296<<10)+(d-56320),m++)),b+=l<128?1:l<2048?2:l<65536?3:4;for(o=new Uint8Array(b),p=0,m=0;p<b;m++)l=n.charCodeAt(m),(l&64512)===55296&&m+1<A&&(d=n.charCodeAt(m+1),(d&64512)===56320&&(l=65536+(l-55296<<10)+(d-56320),m++)),l<128?o[p++]=l:l<2048?(o[p++]=192|l>>>6,o[p++]=128|l&63):l<65536?(o[p++]=224|l>>>12,o[p++]=128|l>>>6&63,o[p++]=128|l&63):(o[p++]=240|l>>>18,o[p++]=128|l>>>12&63,o[p++]=128|l>>>6&63,o[p++]=128|l&63);return o};const U_=(n,o)=>{if(o<65534&&n.subarray&&bx)return String.fromCharCode.apply(null,n.length===o?n:n.subarray(0,o));let l="";for(let d=0;d<o;d++)l+=String.fromCharCode(n[d]);return l};var F_=(n,o)=>{const l=o||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,o));let d,m;const p=new Array(l*2);for(m=0,d=0;d<l;){let A=n[d++];if(A<128){p[m++]=A;continue}let b=Mo[A];if(b>4){p[m++]=65533,d+=b-1;continue}for(A&=b===2?31:b===3?15:7;b>1&&d<l;)A=A<<6|n[d++]&63,b--;if(b>1){p[m++]=65533;continue}A<65536?p[m++]=A:(A-=65536,p[m++]=55296|A>>10&1023,p[m++]=56320|A&1023)}return U_(p,m)},P_=(n,o)=>{o=o||n.length,o>n.length&&(o=n.length);let l=o-1;for(;l>=0&&(n[l]&192)===128;)l--;return l<0||l===0?o:l+Mo[n[l]]>o?l:o},Bo={string2buf:z_,buf2string:F_,utf8border:P_};function H_(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Cx=H_;const Sx=Object.prototype.toString,{Z_NO_FLUSH:Z_,Z_SYNC_FLUSH:j_,Z_FULL_FLUSH:G_,Z_FINISH:V_,Z_OK:yu,Z_STREAM_END:X_,Z_DEFAULT_COMPRESSION:Y_,Z_DEFAULT_STRATEGY:q_,Z_DEFLATED:K_}=Iu;function Bu(n){this.options=Mu.assign({level:Y_,method:K_,chunkSize:16384,windowBits:15,memLevel:8,strategy:q_},n||{});let o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cx,this.strm.avail_out=0;let l=vo.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(l!==yu)throw new Error(Cl[l]);if(o.header&&vo.deflateSetHeader(this.strm,o.header),o.dictionary){let d;if(typeof o.dictionary=="string"?d=Bo.string2buf(o.dictionary):Sx.call(o.dictionary)==="[object ArrayBuffer]"?d=new Uint8Array(o.dictionary):d=o.dictionary,l=vo.deflateSetDictionary(this.strm,d),l!==yu)throw new Error(Cl[l]);this._dict_set=!0}}Bu.prototype.push=function(n,o){const l=this.strm,d=this.options.chunkSize;let m,p;if(this.ended)return!1;for(o===~~o?p=o:p=o===!0?V_:Z_,typeof n=="string"?l.input=Bo.string2buf(n):Sx.call(n)==="[object ArrayBuffer]"?l.input=new Uint8Array(n):l.input=n,l.next_in=0,l.avail_in=l.input.length;;){if(l.avail_out===0&&(l.output=new Uint8Array(d),l.next_out=0,l.avail_out=d),(p===j_||p===G_)&&l.avail_out<=6){this.onData(l.output.subarray(0,l.next_out)),l.avail_out=0;continue}if(m=vo.deflate(l,p),m===X_)return l.next_out>0&&this.onData(l.output.subarray(0,l.next_out)),m=vo.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===yu;if(l.avail_out===0){this.onData(l.output);continue}if(p>0&&l.next_out>0){this.onData(l.output.subarray(0,l.next_out)),l.avail_out=0;continue}if(l.avail_in===0)break}return!0};Bu.prototype.onData=function(n){this.chunks.push(n)};Bu.prototype.onEnd=function(n){n===yu&&(this.result=Mu.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Q_(n,o){const l=new Bu(o);if(l.push(n,!0),l.err)throw l.msg||Cl[l.err];return l.result}function W_(n,o){return o=o||{},o.gzip=!0,Q_(n,o)}var J_=W_,$_={gzip:J_};const lu=16209,ey=16191;var ty=function(o,l){let d,m,p,A,b,S,y,v,I,k,L,G,re,ue,be,me,X,q,Se,Ee,Z,we,te,Oe;const Te=o.state;d=o.next_in,te=o.input,m=d+(o.avail_in-5),p=o.next_out,Oe=o.output,A=p-(l-o.avail_out),b=p+(o.avail_out-257),S=Te.dmax,y=Te.wsize,v=Te.whave,I=Te.wnext,k=Te.window,L=Te.hold,G=Te.bits,re=Te.lencode,ue=Te.distcode,be=(1<<Te.lenbits)-1,me=(1<<Te.distbits)-1;e:do{G<15&&(L+=te[d++]<<G,G+=8,L+=te[d++]<<G,G+=8),X=re[L&be];t:for(;;){if(q=X>>>24,L>>>=q,G-=q,q=X>>>16&255,q===0)Oe[p++]=X&65535;else if(q&16){Se=X&65535,q&=15,q&&(G<q&&(L+=te[d++]<<G,G+=8),Se+=L&(1<<q)-1,L>>>=q,G-=q),G<15&&(L+=te[d++]<<G,G+=8,L+=te[d++]<<G,G+=8),X=ue[L&me];n:for(;;){if(q=X>>>24,L>>>=q,G-=q,q=X>>>16&255,q&16){if(Ee=X&65535,q&=15,G<q&&(L+=te[d++]<<G,G+=8,G<q&&(L+=te[d++]<<G,G+=8)),Ee+=L&(1<<q)-1,Ee>S){o.msg="invalid distance too far back",Te.mode=lu;break e}if(L>>>=q,G-=q,q=p-A,Ee>q){if(q=Ee-q,q>v&&Te.sane){o.msg="invalid distance too far back",Te.mode=lu;break e}if(Z=0,we=k,I===0){if(Z+=y-q,q<Se){Se-=q;do Oe[p++]=k[Z++];while(--q);Z=p-Ee,we=Oe}}else if(I<q){if(Z+=y+I-q,q-=I,q<Se){Se-=q;do Oe[p++]=k[Z++];while(--q);if(Z=0,I<Se){q=I,Se-=q;do Oe[p++]=k[Z++];while(--q);Z=p-Ee,we=Oe}}}else if(Z+=I-q,q<Se){Se-=q;do Oe[p++]=k[Z++];while(--q);Z=p-Ee,we=Oe}for(;Se>2;)Oe[p++]=we[Z++],Oe[p++]=we[Z++],Oe[p++]=we[Z++],Se-=3;Se&&(Oe[p++]=we[Z++],Se>1&&(Oe[p++]=we[Z++]))}else{Z=p-Ee;do Oe[p++]=Oe[Z++],Oe[p++]=Oe[Z++],Oe[p++]=Oe[Z++],Se-=3;while(Se>2);Se&&(Oe[p++]=Oe[Z++],Se>1&&(Oe[p++]=Oe[Z++]))}}else if((q&64)===0){X=ue[(X&65535)+(L&(1<<q)-1)];continue n}else{o.msg="invalid distance code",Te.mode=lu;break e}break}}else if((q&64)===0){X=re[(X&65535)+(L&(1<<q)-1)];continue t}else if(q&32){Te.mode=ey;break e}else{o.msg="invalid literal/length code",Te.mode=lu;break e}break}}while(d<m&&p<b);Se=G>>3,d-=Se,G-=Se<<3,L&=(1<<G)-1,o.next_in=d,o.next_out=p,o.avail_in=d<m?5+(m-d):5-(d-m),o.avail_out=p<b?257+(b-p):257-(p-b),Te.hold=L,Te.bits=G};const ms=15,xg=852,pg=592,wg=0,q0=1,_g=2,ny=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),iy=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ay=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ry=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ly=(n,o,l,d,m,p,A,b)=>{const S=b.bits;let y=0,v=0,I=0,k=0,L=0,G=0,re=0,ue=0,be=0,me=0,X,q,Se,Ee,Z,we=null,te;const Oe=new Uint16Array(ms+1),Te=new Uint16Array(ms+1);let Ne=null,Qe,Je,Q;for(y=0;y<=ms;y++)Oe[y]=0;for(v=0;v<d;v++)Oe[o[l+v]]++;for(L=S,k=ms;k>=1&&Oe[k]===0;k--);if(L>k&&(L=k),k===0)return m[p++]=1<<24|64<<16|0,m[p++]=1<<24|64<<16|0,b.bits=1,0;for(I=1;I<k&&Oe[I]===0;I++);for(L<I&&(L=I),ue=1,y=1;y<=ms;y++)if(ue<<=1,ue-=Oe[y],ue<0)return-1;if(ue>0&&(n===wg||k!==1))return-1;for(Te[1]=0,y=1;y<ms;y++)Te[y+1]=Te[y]+Oe[y];for(v=0;v<d;v++)o[l+v]!==0&&(A[Te[o[l+v]]++]=v);if(n===wg?(we=Ne=A,te=20):n===q0?(we=ny,Ne=iy,te=257):(we=ay,Ne=ry,te=0),me=0,v=0,y=I,Z=p,G=L,re=0,Se=-1,be=1<<L,Ee=be-1,n===q0&&be>xg||n===_g&&be>pg)return 1;for(;;){Qe=y-re,A[v]+1<te?(Je=0,Q=A[v]):A[v]>=te?(Je=Ne[A[v]-te],Q=we[A[v]-te]):(Je=96,Q=0),X=1<<y-re,q=1<<G,I=q;do q-=X,m[Z+(me>>re)+q]=Qe<<24|Je<<16|Q|0;while(q!==0);for(X=1<<y-1;me&X;)X>>=1;if(X!==0?(me&=X-1,me+=X):me=0,v++,--Oe[y]===0){if(y===k)break;y=o[l+A[v]]}if(y>L&&(me&Ee)!==Se){for(re===0&&(re=L),Z+=I,G=y-re,ue=1<<G;G+re<k&&(ue-=Oe[G+re],!(ue<=0));)G++,ue<<=1;if(be+=1<<G,n===q0&&be>xg||n===_g&&be>pg)return 1;Se=me&Ee,m[Se]=L<<24|G<<16|Z-p|0}}return me!==0&&(m[Z+me]=y-re<<24|64<<16|0),b.bits=L,0};var To=ly;const sy=0,vx=1,Tx=2,{Z_FINISH:yg,Z_BLOCK:oy,Z_TREES:su,Z_OK:vl,Z_STREAM_END:cy,Z_NEED_DICT:uy,Z_STREAM_ERROR:ea,Z_DATA_ERROR:Nx,Z_MEM_ERROR:Ox,Z_BUF_ERROR:fy,Z_DEFLATED:Eg}=Iu,ku=16180,Ag=16181,bg=16182,Cg=16183,Sg=16184,vg=16185,Tg=16186,Ng=16187,Og=16188,Rg=16189,Eu=16190,Wa=16191,K0=16192,Ig=16193,Q0=16194,Dg=16195,Mg=16196,Bg=16197,kg=16198,ou=16199,cu=16200,Lg=16201,zg=16202,Ug=16203,Fg=16204,Pg=16205,W0=16206,Hg=16207,Zg=16208,rn=16209,Rx=16210,Ix=16211,hy=852,dy=592,gy=15,my=gy,jg=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function xy(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ol=n=>{if(!n)return 1;const o=n.state;return!o||o.strm!==n||o.mode<ku||o.mode>Ix?1:0},Dx=n=>{if(Ol(n))return ea;const o=n.state;return n.total_in=n.total_out=o.total=0,n.msg="",o.wrap&&(n.adler=o.wrap&1),o.mode=ku,o.last=0,o.havedict=0,o.flags=-1,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Int32Array(hy),o.distcode=o.distdyn=new Int32Array(dy),o.sane=1,o.back=-1,vl},Mx=n=>{if(Ol(n))return ea;const o=n.state;return o.wsize=0,o.whave=0,o.wnext=0,Dx(n)},Bx=(n,o)=>{let l;if(Ol(n))return ea;const d=n.state;return o<0?(l=0,o=-o):(l=(o>>4)+5,o<48&&(o&=15)),o&&(o<8||o>15)?ea:(d.window!==null&&d.wbits!==o&&(d.window=null),d.wrap=l,d.wbits=o,Mx(n))},kx=(n,o)=>{if(!n)return ea;const l=new xy;n.state=l,l.strm=n,l.window=null,l.mode=ku;const d=Bx(n,o);return d!==vl&&(n.state=null),d},py=n=>kx(n,my);let Gg=!0,J0,$0;const wy=n=>{if(Gg){J0=new Int32Array(512),$0=new Int32Array(32);let o=0;for(;o<144;)n.lens[o++]=8;for(;o<256;)n.lens[o++]=9;for(;o<280;)n.lens[o++]=7;for(;o<288;)n.lens[o++]=8;for(To(vx,n.lens,0,288,J0,0,n.work,{bits:9}),o=0;o<32;)n.lens[o++]=5;To(Tx,n.lens,0,32,$0,0,n.work,{bits:5}),Gg=!1}n.lencode=J0,n.lenbits=9,n.distcode=$0,n.distbits=5},Lx=(n,o,l,d)=>{let m;const p=n.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new Uint8Array(p.wsize)),d>=p.wsize?(p.window.set(o.subarray(l-p.wsize,l),0),p.wnext=0,p.whave=p.wsize):(m=p.wsize-p.wnext,m>d&&(m=d),p.window.set(o.subarray(l-d,l-d+m),p.wnext),d-=m,d?(p.window.set(o.subarray(l-d,l),0),p.wnext=d,p.whave=p.wsize):(p.wnext+=m,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=m))),0},_y=(n,o)=>{let l,d,m,p,A,b,S,y,v,I,k,L,G,re,ue=0,be,me,X,q,Se,Ee,Z,we;const te=new Uint8Array(4);let Oe,Te;const Ne=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ol(n)||!n.output||!n.input&&n.avail_in!==0)return ea;l=n.state,l.mode===Wa&&(l.mode=K0),A=n.next_out,m=n.output,S=n.avail_out,p=n.next_in,d=n.input,b=n.avail_in,y=l.hold,v=l.bits,I=b,k=S,we=vl;e:for(;;)switch(l.mode){case ku:if(l.wrap===0){l.mode=K0;break}for(;v<16;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if(l.wrap&2&&y===35615){l.wbits===0&&(l.wbits=15),l.check=0,te[0]=y&255,te[1]=y>>>8&255,l.check=Hn(l.check,te,2,0),y=0,v=0,l.mode=Ag;break}if(l.head&&(l.head.done=!1),!(l.wrap&1)||(((y&255)<<8)+(y>>8))%31){n.msg="incorrect header check",l.mode=rn;break}if((y&15)!==Eg){n.msg="unknown compression method",l.mode=rn;break}if(y>>>=4,v-=4,Z=(y&15)+8,l.wbits===0&&(l.wbits=Z),Z>15||Z>l.wbits){n.msg="invalid window size",l.mode=rn;break}l.dmax=1<<l.wbits,l.flags=0,n.adler=l.check=1,l.mode=y&512?Rg:Wa,y=0,v=0;break;case Ag:for(;v<16;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if(l.flags=y,(l.flags&255)!==Eg){n.msg="unknown compression method",l.mode=rn;break}if(l.flags&57344){n.msg="unknown header flags set",l.mode=rn;break}l.head&&(l.head.text=y>>8&1),l.flags&512&&l.wrap&4&&(te[0]=y&255,te[1]=y>>>8&255,l.check=Hn(l.check,te,2,0)),y=0,v=0,l.mode=bg;case bg:for(;v<32;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}l.head&&(l.head.time=y),l.flags&512&&l.wrap&4&&(te[0]=y&255,te[1]=y>>>8&255,te[2]=y>>>16&255,te[3]=y>>>24&255,l.check=Hn(l.check,te,4,0)),y=0,v=0,l.mode=Cg;case Cg:for(;v<16;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}l.head&&(l.head.xflags=y&255,l.head.os=y>>8),l.flags&512&&l.wrap&4&&(te[0]=y&255,te[1]=y>>>8&255,l.check=Hn(l.check,te,2,0)),y=0,v=0,l.mode=Sg;case Sg:if(l.flags&1024){for(;v<16;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}l.length=y,l.head&&(l.head.extra_len=y),l.flags&512&&l.wrap&4&&(te[0]=y&255,te[1]=y>>>8&255,l.check=Hn(l.check,te,2,0)),y=0,v=0}else l.head&&(l.head.extra=null);l.mode=vg;case vg:if(l.flags&1024&&(L=l.length,L>b&&(L=b),L&&(l.head&&(Z=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Uint8Array(l.head.extra_len)),l.head.extra.set(d.subarray(p,p+L),Z)),l.flags&512&&l.wrap&4&&(l.check=Hn(l.check,d,L,p)),b-=L,p+=L,l.length-=L),l.length))break e;l.length=0,l.mode=Tg;case Tg:if(l.flags&2048){if(b===0)break e;L=0;do Z=d[p+L++],l.head&&Z&&l.length<65536&&(l.head.name+=String.fromCharCode(Z));while(Z&&L<b);if(l.flags&512&&l.wrap&4&&(l.check=Hn(l.check,d,L,p)),b-=L,p+=L,Z)break e}else l.head&&(l.head.name=null);l.length=0,l.mode=Ng;case Ng:if(l.flags&4096){if(b===0)break e;L=0;do Z=d[p+L++],l.head&&Z&&l.length<65536&&(l.head.comment+=String.fromCharCode(Z));while(Z&&L<b);if(l.flags&512&&l.wrap&4&&(l.check=Hn(l.check,d,L,p)),b-=L,p+=L,Z)break e}else l.head&&(l.head.comment=null);l.mode=Og;case Og:if(l.flags&512){for(;v<16;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if(l.wrap&4&&y!==(l.check&65535)){n.msg="header crc mismatch",l.mode=rn;break}y=0,v=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),n.adler=l.check=0,l.mode=Wa;break;case Rg:for(;v<32;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}n.adler=l.check=jg(y),y=0,v=0,l.mode=Eu;case Eu:if(l.havedict===0)return n.next_out=A,n.avail_out=S,n.next_in=p,n.avail_in=b,l.hold=y,l.bits=v,uy;n.adler=l.check=1,l.mode=Wa;case Wa:if(o===oy||o===su)break e;case K0:if(l.last){y>>>=v&7,v-=v&7,l.mode=W0;break}for(;v<3;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}switch(l.last=y&1,y>>>=1,v-=1,y&3){case 0:l.mode=Ig;break;case 1:if(wy(l),l.mode=ou,o===su){y>>>=2,v-=2;break e}break;case 2:l.mode=Mg;break;case 3:n.msg="invalid block type",l.mode=rn}y>>>=2,v-=2;break;case Ig:for(y>>>=v&7,v-=v&7;v<32;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if((y&65535)!==(y>>>16^65535)){n.msg="invalid stored block lengths",l.mode=rn;break}if(l.length=y&65535,y=0,v=0,l.mode=Q0,o===su)break e;case Q0:l.mode=Dg;case Dg:if(L=l.length,L){if(L>b&&(L=b),L>S&&(L=S),L===0)break e;m.set(d.subarray(p,p+L),A),b-=L,p+=L,S-=L,A+=L,l.length-=L;break}l.mode=Wa;break;case Mg:for(;v<14;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if(l.nlen=(y&31)+257,y>>>=5,v-=5,l.ndist=(y&31)+1,y>>>=5,v-=5,l.ncode=(y&15)+4,y>>>=4,v-=4,l.nlen>286||l.ndist>30){n.msg="too many length or distance symbols",l.mode=rn;break}l.have=0,l.mode=Bg;case Bg:for(;l.have<l.ncode;){for(;v<3;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}l.lens[Ne[l.have++]]=y&7,y>>>=3,v-=3}for(;l.have<19;)l.lens[Ne[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,Oe={bits:l.lenbits},we=To(sy,l.lens,0,19,l.lencode,0,l.work,Oe),l.lenbits=Oe.bits,we){n.msg="invalid code lengths set",l.mode=rn;break}l.have=0,l.mode=kg;case kg:for(;l.have<l.nlen+l.ndist;){for(;ue=l.lencode[y&(1<<l.lenbits)-1],be=ue>>>24,me=ue>>>16&255,X=ue&65535,!(be<=v);){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if(X<16)y>>>=be,v-=be,l.lens[l.have++]=X;else{if(X===16){for(Te=be+2;v<Te;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if(y>>>=be,v-=be,l.have===0){n.msg="invalid bit length repeat",l.mode=rn;break}Z=l.lens[l.have-1],L=3+(y&3),y>>>=2,v-=2}else if(X===17){for(Te=be+3;v<Te;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}y>>>=be,v-=be,Z=0,L=3+(y&7),y>>>=3,v-=3}else{for(Te=be+7;v<Te;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}y>>>=be,v-=be,Z=0,L=11+(y&127),y>>>=7,v-=7}if(l.have+L>l.nlen+l.ndist){n.msg="invalid bit length repeat",l.mode=rn;break}for(;L--;)l.lens[l.have++]=Z}}if(l.mode===rn)break;if(l.lens[256]===0){n.msg="invalid code -- missing end-of-block",l.mode=rn;break}if(l.lenbits=9,Oe={bits:l.lenbits},we=To(vx,l.lens,0,l.nlen,l.lencode,0,l.work,Oe),l.lenbits=Oe.bits,we){n.msg="invalid literal/lengths set",l.mode=rn;break}if(l.distbits=6,l.distcode=l.distdyn,Oe={bits:l.distbits},we=To(Tx,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,Oe),l.distbits=Oe.bits,we){n.msg="invalid distances set",l.mode=rn;break}if(l.mode=ou,o===su)break e;case ou:l.mode=cu;case cu:if(b>=6&&S>=258){n.next_out=A,n.avail_out=S,n.next_in=p,n.avail_in=b,l.hold=y,l.bits=v,ty(n,k),A=n.next_out,m=n.output,S=n.avail_out,p=n.next_in,d=n.input,b=n.avail_in,y=l.hold,v=l.bits,l.mode===Wa&&(l.back=-1);break}for(l.back=0;ue=l.lencode[y&(1<<l.lenbits)-1],be=ue>>>24,me=ue>>>16&255,X=ue&65535,!(be<=v);){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if(me&&(me&240)===0){for(q=be,Se=me,Ee=X;ue=l.lencode[Ee+((y&(1<<q+Se)-1)>>q)],be=ue>>>24,me=ue>>>16&255,X=ue&65535,!(q+be<=v);){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}y>>>=q,v-=q,l.back+=q}if(y>>>=be,v-=be,l.back+=be,l.length=X,me===0){l.mode=Pg;break}if(me&32){l.back=-1,l.mode=Wa;break}if(me&64){n.msg="invalid literal/length code",l.mode=rn;break}l.extra=me&15,l.mode=Lg;case Lg:if(l.extra){for(Te=l.extra;v<Te;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}l.length+=y&(1<<l.extra)-1,y>>>=l.extra,v-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=zg;case zg:for(;ue=l.distcode[y&(1<<l.distbits)-1],be=ue>>>24,me=ue>>>16&255,X=ue&65535,!(be<=v);){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if((me&240)===0){for(q=be,Se=me,Ee=X;ue=l.distcode[Ee+((y&(1<<q+Se)-1)>>q)],be=ue>>>24,me=ue>>>16&255,X=ue&65535,!(q+be<=v);){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}y>>>=q,v-=q,l.back+=q}if(y>>>=be,v-=be,l.back+=be,me&64){n.msg="invalid distance code",l.mode=rn;break}l.offset=X,l.extra=me&15,l.mode=Ug;case Ug:if(l.extra){for(Te=l.extra;v<Te;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}l.offset+=y&(1<<l.extra)-1,y>>>=l.extra,v-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){n.msg="invalid distance too far back",l.mode=rn;break}l.mode=Fg;case Fg:if(S===0)break e;if(L=k-S,l.offset>L){if(L=l.offset-L,L>l.whave&&l.sane){n.msg="invalid distance too far back",l.mode=rn;break}L>l.wnext?(L-=l.wnext,G=l.wsize-L):G=l.wnext-L,L>l.length&&(L=l.length),re=l.window}else re=m,G=A-l.offset,L=l.length;L>S&&(L=S),S-=L,l.length-=L;do m[A++]=re[G++];while(--L);l.length===0&&(l.mode=cu);break;case Pg:if(S===0)break e;m[A++]=l.length,S--,l.mode=cu;break;case W0:if(l.wrap){for(;v<32;){if(b===0)break e;b--,y|=d[p++]<<v,v+=8}if(k-=S,n.total_out+=k,l.total+=k,l.wrap&4&&k&&(n.adler=l.check=l.flags?Hn(l.check,m,k,A-k):Do(l.check,m,k,A-k)),k=S,l.wrap&4&&(l.flags?y:jg(y))!==l.check){n.msg="incorrect data check",l.mode=rn;break}y=0,v=0}l.mode=Hg;case Hg:if(l.wrap&&l.flags){for(;v<32;){if(b===0)break e;b--,y+=d[p++]<<v,v+=8}if(l.wrap&4&&y!==(l.total&4294967295)){n.msg="incorrect length check",l.mode=rn;break}y=0,v=0}l.mode=Zg;case Zg:we=cy;break e;case rn:we=Nx;break e;case Rx:return Ox;case Ix:default:return ea}return n.next_out=A,n.avail_out=S,n.next_in=p,n.avail_in=b,l.hold=y,l.bits=v,(l.wsize||k!==n.avail_out&&l.mode<rn&&(l.mode<W0||o!==yg))&&Lx(n,n.output,n.next_out,k-n.avail_out),I-=n.avail_in,k-=n.avail_out,n.total_in+=I,n.total_out+=k,l.total+=k,l.wrap&4&&k&&(n.adler=l.check=l.flags?Hn(l.check,m,k,n.next_out-k):Do(l.check,m,k,n.next_out-k)),n.data_type=l.bits+(l.last?64:0)+(l.mode===Wa?128:0)+(l.mode===ou||l.mode===Q0?256:0),(I===0&&k===0||o===yg)&&we===vl&&(we=fy),we},yy=n=>{if(Ol(n))return ea;let o=n.state;return o.window&&(o.window=null),n.state=null,vl},Ey=(n,o)=>{if(Ol(n))return ea;const l=n.state;return(l.wrap&2)===0?ea:(l.head=o,o.done=!1,vl)},Ay=(n,o)=>{const l=o.length;let d,m,p;return Ol(n)||(d=n.state,d.wrap!==0&&d.mode!==Eu)?ea:d.mode===Eu&&(m=1,m=Do(m,o,l,0),m!==d.check)?Nx:(p=Lx(n,o,l,l),p?(d.mode=Rx,Ox):(d.havedict=1,vl))};var by=Mx,Cy=Bx,Sy=Dx,vy=py,Ty=kx,Ny=_y,Oy=yy,Ry=Ey,Iy=Ay,Dy="pako inflate (from Nodeca project)",er={inflateReset:by,inflateReset2:Cy,inflateResetKeep:Sy,inflateInit:vy,inflateInit2:Ty,inflate:Ny,inflateEnd:Oy,inflateGetHeader:Ry,inflateSetDictionary:Iy,inflateInfo:Dy};function My(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var By=My;const zx=Object.prototype.toString,{Z_NO_FLUSH:ky,Z_FINISH:Ly,Z_OK:ko,Z_STREAM_END:e1,Z_NEED_DICT:t1,Z_STREAM_ERROR:zy,Z_DATA_ERROR:Vg,Z_MEM_ERROR:Uy}=Iu;function Lu(n){this.options=Mu.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(n&&n.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15)===0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cx,this.strm.avail_out=0;let l=er.inflateInit2(this.strm,o.windowBits);if(l!==ko)throw new Error(Cl[l]);if(this.header=new By,er.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=Bo.string2buf(o.dictionary):zx.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(l=er.inflateSetDictionary(this.strm,o.dictionary),l!==ko)))throw new Error(Cl[l])}Lu.prototype.push=function(n,o){const l=this.strm,d=this.options.chunkSize,m=this.options.dictionary;let p,A,b;if(this.ended)return!1;for(o===~~o?A=o:A=o===!0?Ly:ky,zx.call(n)==="[object ArrayBuffer]"?l.input=new Uint8Array(n):l.input=n,l.next_in=0,l.avail_in=l.input.length;;){for(l.avail_out===0&&(l.output=new Uint8Array(d),l.next_out=0,l.avail_out=d),p=er.inflate(l,A),p===t1&&m&&(p=er.inflateSetDictionary(l,m),p===ko?p=er.inflate(l,A):p===Vg&&(p=t1));l.avail_in>0&&p===e1&&l.state.wrap>0&&n[l.next_in]!==0;)er.inflateReset(l),p=er.inflate(l,A);switch(p){case zy:case Vg:case t1:case Uy:return this.onEnd(p),this.ended=!0,!1}if(b=l.avail_out,l.next_out&&(l.avail_out===0||p===e1))if(this.options.to==="string"){let S=Bo.utf8border(l.output,l.next_out),y=l.next_out-S,v=Bo.buf2string(l.output,S);l.next_out=y,l.avail_out=d-y,y&&l.output.set(l.output.subarray(S,S+y),0),this.onData(v)}else this.onData(l.output.length===l.next_out?l.output:l.output.subarray(0,l.next_out));if(!(p===ko&&b===0)){if(p===e1)return p=er.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,!0;if(l.avail_in===0)break}}return!0};Lu.prototype.onData=function(n){this.chunks.push(n)};Lu.prototype.onEnd=function(n){n===ko&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mu.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function Fy(n,o){const l=new Lu(o);if(l.push(n),l.err)throw l.msg||Cl[l.err];return l.result}var Py=Fy,Hy={ungzip:Py};const{gzip:Zy}=$_,{ungzip:jy}=Hy;var Gy=Zy,Vy=jy;function he(n,o,l){function d(b,S){if(b._zod||Object.defineProperty(b,"_zod",{value:{def:S,constr:A,traits:new Set},enumerable:!1}),b._zod.traits.has(n))return;b._zod.traits.add(n),o(b,S);const y=A.prototype,v=Object.keys(y);for(let I=0;I<v.length;I++){const k=v[I];k in b||(b[k]=y[k].bind(b))}}const m=l?.Parent??Object;class p extends m{}Object.defineProperty(p,"name",{value:n});function A(b){var S;const y=l?.Parent?new p:this;d(y,b),(S=y._zod).deferred??(S.deferred=[]);for(const v of y._zod.deferred)v();return y}return Object.defineProperty(A,"init",{value:d}),Object.defineProperty(A,Symbol.hasInstance,{value:b=>l?.Parent&&b instanceof l.Parent?!0:b?._zod?.traits?.has(n)}),Object.defineProperty(A,"name",{value:n}),A}class ys extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ux extends Error{constructor(o){super(`Encountered unidirectional transform during encode: ${o}`),this.name="ZodEncodeError"}}const Fx={};function Tl(n){return Fx}function Px(n){const o=Object.values(n).filter(d=>typeof d=="number");return Object.entries(n).filter(([d,m])=>o.indexOf(+d)===-1).map(([d,m])=>m)}function w1(n,o){return typeof o=="bigint"?o.toString():o}function D1(n){return{get value(){{const o=n();return Object.defineProperty(this,"value",{value:o}),o}}}}function M1(n){return n==null}function B1(n){const o=n.startsWith("^")?1:0,l=n.endsWith("$")?n.length-1:n.length;return n.slice(o,l)}function Xy(n,o){const l=(n.toString().split(".")[1]||"").length,d=o.toString();let m=(d.split(".")[1]||"").length;if(m===0&&/\d?e-\d?/.test(d)){const S=d.match(/\d?e-(\d?)/);S?.[1]&&(m=Number.parseInt(S[1]))}const p=l>m?l:m,A=Number.parseInt(n.toFixed(p).replace(".","")),b=Number.parseInt(o.toFixed(p).replace(".",""));return A%b/10**p}const Xg=Symbol("evaluating");function Zt(n,o,l){let d;Object.defineProperty(n,o,{get(){if(d!==Xg)return d===void 0&&(d=Xg,d=l()),d},set(m){Object.defineProperty(n,o,{value:m})},configurable:!0})}function Rl(n,o,l){Object.defineProperty(n,o,{value:l,writable:!0,enumerable:!0,configurable:!0})}function jr(...n){const o={};for(const l of n){const d=Object.getOwnPropertyDescriptors(l);Object.assign(o,d)}return Object.defineProperties({},o)}function Yg(n){return JSON.stringify(n)}function Yy(n){return n.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Hx="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Au(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const qy=D1(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Lo(n){if(Au(n)===!1)return!1;const o=n.constructor;if(o===void 0||typeof o!="function")return!0;const l=o.prototype;return!(Au(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function Zx(n){return Lo(n)?{...n}:Array.isArray(n)?[...n]:n}const Ky=new Set(["string","number","symbol"]);function bs(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gr(n,o,l){const d=new n._zod.constr(o??n._zod.def);return(!o||l?.parent)&&(d._zod.parent=n),d}function Ge(n){const o=n;if(!o)return{};if(typeof o=="string")return{error:()=>o};if(o?.message!==void 0){if(o?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");o.error=o.message}return delete o.message,typeof o.error=="string"?{...o,error:()=>o.error}:o}function Qy(n){return Object.keys(n).filter(o=>n[o]._zod.optin==="optional"&&n[o]._zod.optout==="optional")}const Wy={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Jy(n,o){const l=n._zod.def,d=l.checks;if(d&&d.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const p=jr(n._zod.def,{get shape(){const A={};for(const b in o){if(!(b in l.shape))throw new Error(`Unrecognized key: "${b}"`);o[b]&&(A[b]=l.shape[b])}return Rl(this,"shape",A),A},checks:[]});return Gr(n,p)}function $y(n,o){const l=n._zod.def,d=l.checks;if(d&&d.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const p=jr(n._zod.def,{get shape(){const A={...n._zod.def.shape};for(const b in o){if(!(b in l.shape))throw new Error(`Unrecognized key: "${b}"`);o[b]&&delete A[b]}return Rl(this,"shape",A),A},checks:[]});return Gr(n,p)}function eE(n,o){if(!Lo(o))throw new Error("Invalid input to extend: expected a plain object");const l=n._zod.def.checks;if(l&&l.length>0){const p=n._zod.def.shape;for(const A in o)if(Object.getOwnPropertyDescriptor(p,A)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const m=jr(n._zod.def,{get shape(){const p={...n._zod.def.shape,...o};return Rl(this,"shape",p),p}});return Gr(n,m)}function tE(n,o){if(!Lo(o))throw new Error("Invalid input to safeExtend: expected a plain object");const l=jr(n._zod.def,{get shape(){const d={...n._zod.def.shape,...o};return Rl(this,"shape",d),d}});return Gr(n,l)}function nE(n,o){const l=jr(n._zod.def,{get shape(){const d={...n._zod.def.shape,...o._zod.def.shape};return Rl(this,"shape",d),d},get catchall(){return o._zod.def.catchall},checks:[]});return Gr(n,l)}function iE(n,o,l){const m=o._zod.def.checks;if(m&&m.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const A=jr(o._zod.def,{get shape(){const b=o._zod.def.shape,S={...b};if(l)for(const y in l){if(!(y in b))throw new Error(`Unrecognized key: "${y}"`);l[y]&&(S[y]=n?new n({type:"optional",innerType:b[y]}):b[y])}else for(const y in b)S[y]=n?new n({type:"optional",innerType:b[y]}):b[y];return Rl(this,"shape",S),S},checks:[]});return Gr(o,A)}function aE(n,o,l){const d=jr(o._zod.def,{get shape(){const m=o._zod.def.shape,p={...m};if(l)for(const A in l){if(!(A in p))throw new Error(`Unrecognized key: "${A}"`);l[A]&&(p[A]=new n({type:"nonoptional",innerType:m[A]}))}else for(const A in m)p[A]=new n({type:"nonoptional",innerType:m[A]});return Rl(this,"shape",p),p}});return Gr(o,d)}function ps(n,o=0){if(n.aborted===!0)return!0;for(let l=o;l<n.issues.length;l++)if(n.issues[l]?.continue!==!0)return!0;return!1}function jx(n,o){return o.map(l=>{var d;return(d=l).path??(d.path=[]),l.path.unshift(n),l})}function uu(n){return typeof n=="string"?n:n?.message}function Nl(n,o,l){const d={...n,path:n.path??[]};if(!n.message){const m=uu(n.inst?._zod.def?.error?.(n))??uu(o?.error?.(n))??uu(l.customError?.(n))??uu(l.localeError?.(n))??"Invalid input";d.message=m}return delete d.inst,delete d.continue,o?.reportInput||delete d.input,d}function k1(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function zo(...n){const[o,l,d]=n;return typeof o=="string"?{message:o,code:"custom",input:l,inst:d}:{...o}}const Gx=(n,o)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:o,enumerable:!1}),n.message=JSON.stringify(o,w1,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},Vx=he("$ZodError",Gx),Xx=he("$ZodError",Gx,{Parent:Error});function rE(n,o=l=>l.message){const l={},d=[];for(const m of n.issues)m.path.length>0?(l[m.path[0]]=l[m.path[0]]||[],l[m.path[0]].push(o(m))):d.push(o(m));return{formErrors:d,fieldErrors:l}}function lE(n,o=l=>l.message){const l={_errors:[]},d=m=>{for(const p of m.issues)if(p.code==="invalid_union"&&p.errors.length)p.errors.map(A=>d({issues:A}));else if(p.code==="invalid_key")d({issues:p.issues});else if(p.code==="invalid_element")d({issues:p.issues});else if(p.path.length===0)l._errors.push(o(p));else{let A=l,b=0;for(;b<p.path.length;){const S=p.path[b];b===p.path.length-1?(A[S]=A[S]||{_errors:[]},A[S]._errors.push(o(p))):A[S]=A[S]||{_errors:[]},A=A[S],b++}}};return d(n),l}const L1=n=>(o,l,d,m)=>{const p=d?Object.assign(d,{async:!1}):{async:!1},A=o._zod.run({value:l,issues:[]},p);if(A instanceof Promise)throw new ys;if(A.issues.length){const b=new(m?.Err??n)(A.issues.map(S=>Nl(S,p,Tl())));throw Hx(b,m?.callee),b}return A.value},z1=n=>async(o,l,d,m)=>{const p=d?Object.assign(d,{async:!0}):{async:!0};let A=o._zod.run({value:l,issues:[]},p);if(A instanceof Promise&&(A=await A),A.issues.length){const b=new(m?.Err??n)(A.issues.map(S=>Nl(S,p,Tl())));throw Hx(b,m?.callee),b}return A.value},zu=n=>(o,l,d)=>{const m=d?{...d,async:!1}:{async:!1},p=o._zod.run({value:l,issues:[]},m);if(p instanceof Promise)throw new ys;return p.issues.length?{success:!1,error:new(n??Vx)(p.issues.map(A=>Nl(A,m,Tl())))}:{success:!0,data:p.value}},sE=zu(Xx),Uu=n=>async(o,l,d)=>{const m=d?Object.assign(d,{async:!0}):{async:!0};let p=o._zod.run({value:l,issues:[]},m);return p instanceof Promise&&(p=await p),p.issues.length?{success:!1,error:new n(p.issues.map(A=>Nl(A,m,Tl())))}:{success:!0,data:p.value}},oE=Uu(Xx),cE=n=>(o,l,d)=>{const m=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return L1(n)(o,l,m)},uE=n=>(o,l,d)=>L1(n)(o,l,d),fE=n=>async(o,l,d)=>{const m=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return z1(n)(o,l,m)},hE=n=>async(o,l,d)=>z1(n)(o,l,d),dE=n=>(o,l,d)=>{const m=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return zu(n)(o,l,m)},gE=n=>(o,l,d)=>zu(n)(o,l,d),mE=n=>async(o,l,d)=>{const m=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return Uu(n)(o,l,m)},xE=n=>async(o,l,d)=>Uu(n)(o,l,d),pE=/^[cC][^\s-]{8,}$/,wE=/^[0-9a-z]+$/,_E=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,yE=/^[0-9a-vA-V]{20}$/,EE=/^[A-Za-z0-9]{27}$/,AE=/^[a-zA-Z0-9_-]{21}$/,bE=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,CE=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,qg=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,SE=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,vE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function TE(){return new RegExp(vE,"u")}const NE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,RE=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,IE=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,DE=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Yx=/^[A-Za-z0-9_-]*$/,ME=/^\+[1-9]\d{6,14}$/,qx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",BE=new RegExp(`^${qx}$`);function Kx(n){const o="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${o}`:n.precision===0?`${o}:[0-5]\\d`:`${o}:[0-5]\\d\\.\\d{${n.precision}}`:`${o}(?::[0-5]\\d(?:\\.\\d+)?)?`}function kE(n){return new RegExp(`^${Kx(n)}$`)}function LE(n){const o=Kx({precision:n.precision}),l=["Z"];n.local&&l.push(""),n.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const d=`${o}(?:${l.join("|")})`;return new RegExp(`^${qx}T(?:${d})$`)}const zE=n=>{const o=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${o}$`)},UE=/^-?\d+$/,FE=/^-?\d+(?:\.\d+)?$/,PE=/^[^A-Z]*$/,HE=/^[^a-z]*$/,Ei=he("$ZodCheck",(n,o)=>{var l;n._zod??(n._zod={}),n._zod.def=o,(l=n._zod).onattach??(l.onattach=[])}),Qx={number:"number",bigint:"bigint",object:"date"},Wx=he("$ZodCheckLessThan",(n,o)=>{Ei.init(n,o);const l=Qx[typeof o.value];n._zod.onattach.push(d=>{const m=d._zod.bag,p=(o.inclusive?m.maximum:m.exclusiveMaximum)??Number.POSITIVE_INFINITY;o.value<p&&(o.inclusive?m.maximum=o.value:m.exclusiveMaximum=o.value)}),n._zod.check=d=>{(o.inclusive?d.value<=o.value:d.value<o.value)||d.issues.push({origin:l,code:"too_big",maximum:typeof o.value=="object"?o.value.getTime():o.value,input:d.value,inclusive:o.inclusive,inst:n,continue:!o.abort})}}),Jx=he("$ZodCheckGreaterThan",(n,o)=>{Ei.init(n,o);const l=Qx[typeof o.value];n._zod.onattach.push(d=>{const m=d._zod.bag,p=(o.inclusive?m.minimum:m.exclusiveMinimum)??Number.NEGATIVE_INFINITY;o.value>p&&(o.inclusive?m.minimum=o.value:m.exclusiveMinimum=o.value)}),n._zod.check=d=>{(o.inclusive?d.value>=o.value:d.value>o.value)||d.issues.push({origin:l,code:"too_small",minimum:typeof o.value=="object"?o.value.getTime():o.value,input:d.value,inclusive:o.inclusive,inst:n,continue:!o.abort})}}),ZE=he("$ZodCheckMultipleOf",(n,o)=>{Ei.init(n,o),n._zod.onattach.push(l=>{var d;(d=l._zod.bag).multipleOf??(d.multipleOf=o.value)}),n._zod.check=l=>{if(typeof l.value!=typeof o.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%o.value===BigInt(0):Xy(l.value,o.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:o.value,input:l.value,inst:n,continue:!o.abort})}}),jE=he("$ZodCheckNumberFormat",(n,o)=>{Ei.init(n,o),o.format=o.format||"float64";const l=o.format?.includes("int"),d=l?"int":"number",[m,p]=Wy[o.format];n._zod.onattach.push(A=>{const b=A._zod.bag;b.format=o.format,b.minimum=m,b.maximum=p,l&&(b.pattern=UE)}),n._zod.check=A=>{const b=A.value;if(l){if(!Number.isInteger(b)){A.issues.push({expected:d,format:o.format,code:"invalid_type",continue:!1,input:b,inst:n});return}if(!Number.isSafeInteger(b)){b>0?A.issues.push({input:b,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:d,inclusive:!0,continue:!o.abort}):A.issues.push({input:b,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:d,inclusive:!0,continue:!o.abort});return}}b<m&&A.issues.push({origin:"number",input:b,code:"too_small",minimum:m,inclusive:!0,inst:n,continue:!o.abort}),b>p&&A.issues.push({origin:"number",input:b,code:"too_big",maximum:p,inclusive:!0,inst:n,continue:!o.abort})}}),GE=he("$ZodCheckMaxLength",(n,o)=>{var l;Ei.init(n,o),(l=n._zod.def).when??(l.when=d=>{const m=d.value;return!M1(m)&&m.length!==void 0}),n._zod.onattach.push(d=>{const m=d._zod.bag.maximum??Number.POSITIVE_INFINITY;o.maximum<m&&(d._zod.bag.maximum=o.maximum)}),n._zod.check=d=>{const m=d.value;if(m.length<=o.maximum)return;const A=k1(m);d.issues.push({origin:A,code:"too_big",maximum:o.maximum,inclusive:!0,input:m,inst:n,continue:!o.abort})}}),VE=he("$ZodCheckMinLength",(n,o)=>{var l;Ei.init(n,o),(l=n._zod.def).when??(l.when=d=>{const m=d.value;return!M1(m)&&m.length!==void 0}),n._zod.onattach.push(d=>{const m=d._zod.bag.minimum??Number.NEGATIVE_INFINITY;o.minimum>m&&(d._zod.bag.minimum=o.minimum)}),n._zod.check=d=>{const m=d.value;if(m.length>=o.minimum)return;const A=k1(m);d.issues.push({origin:A,code:"too_small",minimum:o.minimum,inclusive:!0,input:m,inst:n,continue:!o.abort})}}),XE=he("$ZodCheckLengthEquals",(n,o)=>{var l;Ei.init(n,o),(l=n._zod.def).when??(l.when=d=>{const m=d.value;return!M1(m)&&m.length!==void 0}),n._zod.onattach.push(d=>{const m=d._zod.bag;m.minimum=o.length,m.maximum=o.length,m.length=o.length}),n._zod.check=d=>{const m=d.value,p=m.length;if(p===o.length)return;const A=k1(m),b=p>o.length;d.issues.push({origin:A,...b?{code:"too_big",maximum:o.length}:{code:"too_small",minimum:o.length},inclusive:!0,exact:!0,input:d.value,inst:n,continue:!o.abort})}}),Fu=he("$ZodCheckStringFormat",(n,o)=>{var l,d;Ei.init(n,o),n._zod.onattach.push(m=>{const p=m._zod.bag;p.format=o.format,o.pattern&&(p.patterns??(p.patterns=new Set),p.patterns.add(o.pattern))}),o.pattern?(l=n._zod).check??(l.check=m=>{o.pattern.lastIndex=0,!o.pattern.test(m.value)&&m.issues.push({origin:"string",code:"invalid_format",format:o.format,input:m.value,...o.pattern?{pattern:o.pattern.toString()}:{},inst:n,continue:!o.abort})}):(d=n._zod).check??(d.check=()=>{})}),YE=he("$ZodCheckRegex",(n,o)=>{Fu.init(n,o),n._zod.check=l=>{o.pattern.lastIndex=0,!o.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:o.pattern.toString(),inst:n,continue:!o.abort})}}),qE=he("$ZodCheckLowerCase",(n,o)=>{o.pattern??(o.pattern=PE),Fu.init(n,o)}),KE=he("$ZodCheckUpperCase",(n,o)=>{o.pattern??(o.pattern=HE),Fu.init(n,o)}),QE=he("$ZodCheckIncludes",(n,o)=>{Ei.init(n,o);const l=bs(o.includes),d=new RegExp(typeof o.position=="number"?`^.{${o.position}}${l}`:l);o.pattern=d,n._zod.onattach.push(m=>{const p=m._zod.bag;p.patterns??(p.patterns=new Set),p.patterns.add(d)}),n._zod.check=m=>{m.value.includes(o.includes,o.position)||m.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:o.includes,input:m.value,inst:n,continue:!o.abort})}}),WE=he("$ZodCheckStartsWith",(n,o)=>{Ei.init(n,o);const l=new RegExp(`^${bs(o.prefix)}.*`);o.pattern??(o.pattern=l),n._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(l)}),n._zod.check=d=>{d.value.startsWith(o.prefix)||d.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:o.prefix,input:d.value,inst:n,continue:!o.abort})}}),JE=he("$ZodCheckEndsWith",(n,o)=>{Ei.init(n,o);const l=new RegExp(`.*${bs(o.suffix)}$`);o.pattern??(o.pattern=l),n._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(l)}),n._zod.check=d=>{d.value.endsWith(o.suffix)||d.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:o.suffix,input:d.value,inst:n,continue:!o.abort})}}),$E=he("$ZodCheckOverwrite",(n,o)=>{Ei.init(n,o),n._zod.check=l=>{l.value=o.tx(l.value)}});class eA{constructor(o=[]){this.content=[],this.indent=0,this&&(this.args=o)}indented(o){this.indent+=1,o(this),this.indent-=1}write(o){if(typeof o=="function"){o(this,{execution:"sync"}),o(this,{execution:"async"});return}const d=o.split(`
`).filter(A=>A),m=Math.min(...d.map(A=>A.length-A.trimStart().length)),p=d.map(A=>A.slice(m)).map(A=>" ".repeat(this.indent*2)+A);for(const A of p)this.content.push(A)}compile(){const o=Function,l=this?.args,m=[...(this?.content??[""]).map(p=>`  ${p}`)];return new o(...l,m.join(`
`))}}const tA={major:4,minor:3,patch:6},An=he("$ZodType",(n,o)=>{var l;n??(n={}),n._zod.def=o,n._zod.bag=n._zod.bag||{},n._zod.version=tA;const d=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&d.unshift(n);for(const m of d)for(const p of m._zod.onattach)p(n);if(d.length===0)(l=n._zod).deferred??(l.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const m=(A,b,S)=>{let y=ps(A),v;for(const I of b){if(I._zod.def.when){if(!I._zod.def.when(A))continue}else if(y)continue;const k=A.issues.length,L=I._zod.check(A);if(L instanceof Promise&&S?.async===!1)throw new ys;if(v||L instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await L,A.issues.length!==k&&(y||(y=ps(A,k)))});else{if(A.issues.length===k)continue;y||(y=ps(A,k))}}return v?v.then(()=>A):A},p=(A,b,S)=>{if(ps(A))return A.aborted=!0,A;const y=m(b,d,S);if(y instanceof Promise){if(S.async===!1)throw new ys;return y.then(v=>n._zod.parse(v,S))}return n._zod.parse(y,S)};n._zod.run=(A,b)=>{if(b.skipChecks)return n._zod.parse(A,b);if(b.direction==="backward"){const y=n._zod.parse({value:A.value,issues:[]},{...b,skipChecks:!0});return y instanceof Promise?y.then(v=>p(v,A,b)):p(y,A,b)}const S=n._zod.parse(A,b);if(S instanceof Promise){if(b.async===!1)throw new ys;return S.then(y=>m(y,d,b))}return m(S,d,b)}}Zt(n,"~standard",()=>({validate:m=>{try{const p=sE(n,m);return p.success?{value:p.data}:{issues:p.error?.issues}}catch{return oE(n,m).then(A=>A.success?{value:A.data}:{issues:A.error?.issues})}},vendor:"zod",version:1}))}),U1=he("$ZodString",(n,o)=>{An.init(n,o),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??zE(n._zod.bag),n._zod.parse=(l,d)=>{if(o.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:n}),l}}),ln=he("$ZodStringFormat",(n,o)=>{Fu.init(n,o),U1.init(n,o)}),nA=he("$ZodGUID",(n,o)=>{o.pattern??(o.pattern=CE),ln.init(n,o)}),iA=he("$ZodUUID",(n,o)=>{if(o.version){const d={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[o.version];if(d===void 0)throw new Error(`Invalid UUID version: "${o.version}"`);o.pattern??(o.pattern=qg(d))}else o.pattern??(o.pattern=qg());ln.init(n,o)}),aA=he("$ZodEmail",(n,o)=>{o.pattern??(o.pattern=SE),ln.init(n,o)}),rA=he("$ZodURL",(n,o)=>{ln.init(n,o),n._zod.check=l=>{try{const d=l.value.trim(),m=new URL(d);o.hostname&&(o.hostname.lastIndex=0,o.hostname.test(m.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:o.hostname.source,input:l.value,inst:n,continue:!o.abort})),o.protocol&&(o.protocol.lastIndex=0,o.protocol.test(m.protocol.endsWith(":")?m.protocol.slice(0,-1):m.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:o.protocol.source,input:l.value,inst:n,continue:!o.abort})),o.normalize?l.value=m.href:l.value=d;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:n,continue:!o.abort})}}}),lA=he("$ZodEmoji",(n,o)=>{o.pattern??(o.pattern=TE()),ln.init(n,o)}),sA=he("$ZodNanoID",(n,o)=>{o.pattern??(o.pattern=AE),ln.init(n,o)}),oA=he("$ZodCUID",(n,o)=>{o.pattern??(o.pattern=pE),ln.init(n,o)}),cA=he("$ZodCUID2",(n,o)=>{o.pattern??(o.pattern=wE),ln.init(n,o)}),uA=he("$ZodULID",(n,o)=>{o.pattern??(o.pattern=_E),ln.init(n,o)}),fA=he("$ZodXID",(n,o)=>{o.pattern??(o.pattern=yE),ln.init(n,o)}),hA=he("$ZodKSUID",(n,o)=>{o.pattern??(o.pattern=EE),ln.init(n,o)}),dA=he("$ZodISODateTime",(n,o)=>{o.pattern??(o.pattern=LE(o)),ln.init(n,o)}),gA=he("$ZodISODate",(n,o)=>{o.pattern??(o.pattern=BE),ln.init(n,o)}),mA=he("$ZodISOTime",(n,o)=>{o.pattern??(o.pattern=kE(o)),ln.init(n,o)}),xA=he("$ZodISODuration",(n,o)=>{o.pattern??(o.pattern=bE),ln.init(n,o)}),pA=he("$ZodIPv4",(n,o)=>{o.pattern??(o.pattern=NE),ln.init(n,o),n._zod.bag.format="ipv4"}),wA=he("$ZodIPv6",(n,o)=>{o.pattern??(o.pattern=OE),ln.init(n,o),n._zod.bag.format="ipv6",n._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:n,continue:!o.abort})}}}),_A=he("$ZodCIDRv4",(n,o)=>{o.pattern??(o.pattern=RE),ln.init(n,o)}),yA=he("$ZodCIDRv6",(n,o)=>{o.pattern??(o.pattern=IE),ln.init(n,o),n._zod.check=l=>{const d=l.value.split("/");try{if(d.length!==2)throw new Error;const[m,p]=d;if(!p)throw new Error;const A=Number(p);if(`${A}`!==p)throw new Error;if(A<0||A>128)throw new Error;new URL(`http://[${m}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:n,continue:!o.abort})}}});function $x(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const EA=he("$ZodBase64",(n,o)=>{o.pattern??(o.pattern=DE),ln.init(n,o),n._zod.bag.contentEncoding="base64",n._zod.check=l=>{$x(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:n,continue:!o.abort})}});function AA(n){if(!Yx.test(n))return!1;const o=n.replace(/[-_]/g,d=>d==="-"?"+":"/"),l=o.padEnd(Math.ceil(o.length/4)*4,"=");return $x(l)}const bA=he("$ZodBase64URL",(n,o)=>{o.pattern??(o.pattern=Yx),ln.init(n,o),n._zod.bag.contentEncoding="base64url",n._zod.check=l=>{AA(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:n,continue:!o.abort})}}),CA=he("$ZodE164",(n,o)=>{o.pattern??(o.pattern=ME),ln.init(n,o)});function SA(n,o=null){try{const l=n.split(".");if(l.length!==3)return!1;const[d]=l;if(!d)return!1;const m=JSON.parse(atob(d));return!("typ"in m&&m?.typ!=="JWT"||!m.alg||o&&(!("alg"in m)||m.alg!==o))}catch{return!1}}const vA=he("$ZodJWT",(n,o)=>{ln.init(n,o),n._zod.check=l=>{SA(l.value,o.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:n,continue:!o.abort})}}),ep=he("$ZodNumber",(n,o)=>{An.init(n,o),n._zod.pattern=n._zod.bag.pattern??FE,n._zod.parse=(l,d)=>{if(o.coerce)try{l.value=Number(l.value)}catch{}const m=l.value;if(typeof m=="number"&&!Number.isNaN(m)&&Number.isFinite(m))return l;const p=typeof m=="number"?Number.isNaN(m)?"NaN":Number.isFinite(m)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:m,inst:n,...p?{received:p}:{}}),l}}),TA=he("$ZodNumberFormat",(n,o)=>{jE.init(n,o),ep.init(n,o)}),NA=he("$ZodUnknown",(n,o)=>{An.init(n,o),n._zod.parse=l=>l}),OA=he("$ZodNever",(n,o)=>{An.init(n,o),n._zod.parse=(l,d)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:n}),l)});function Kg(n,o,l){n.issues.length&&o.issues.push(...jx(l,n.issues)),o.value[l]=n.value}const RA=he("$ZodArray",(n,o)=>{An.init(n,o),n._zod.parse=(l,d)=>{const m=l.value;if(!Array.isArray(m))return l.issues.push({expected:"array",code:"invalid_type",input:m,inst:n}),l;l.value=Array(m.length);const p=[];for(let A=0;A<m.length;A++){const b=m[A],S=o.element._zod.run({value:b,issues:[]},d);S instanceof Promise?p.push(S.then(y=>Kg(y,l,A))):Kg(S,l,A)}return p.length?Promise.all(p).then(()=>l):l}});function bu(n,o,l,d,m){if(n.issues.length){if(m&&!(l in d))return;o.issues.push(...jx(l,n.issues))}n.value===void 0?l in d&&(o.value[l]=void 0):o.value[l]=n.value}function tp(n){const o=Object.keys(n.shape);for(const d of o)if(!n.shape?.[d]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const l=Qy(n.shape);return{...n,keys:o,keySet:new Set(o),numKeys:o.length,optionalKeys:new Set(l)}}function np(n,o,l,d,m,p){const A=[],b=m.keySet,S=m.catchall._zod,y=S.def.type,v=S.optout==="optional";for(const I in o){if(b.has(I))continue;if(y==="never"){A.push(I);continue}const k=S.run({value:o[I],issues:[]},d);k instanceof Promise?n.push(k.then(L=>bu(L,l,I,o,v))):bu(k,l,I,o,v)}return A.length&&l.issues.push({code:"unrecognized_keys",keys:A,input:o,inst:p}),n.length?Promise.all(n).then(()=>l):l}const IA=he("$ZodObject",(n,o)=>{if(An.init(n,o),!Object.getOwnPropertyDescriptor(o,"shape")?.get){const b=o.shape;Object.defineProperty(o,"shape",{get:()=>{const S={...b};return Object.defineProperty(o,"shape",{value:S}),S}})}const d=D1(()=>tp(o));Zt(n._zod,"propValues",()=>{const b=o.shape,S={};for(const y in b){const v=b[y]._zod;if(v.values){S[y]??(S[y]=new Set);for(const I of v.values)S[y].add(I)}}return S});const m=Au,p=o.catchall;let A;n._zod.parse=(b,S)=>{A??(A=d.value);const y=b.value;if(!m(y))return b.issues.push({expected:"object",code:"invalid_type",input:y,inst:n}),b;b.value={};const v=[],I=A.shape;for(const k of A.keys){const L=I[k],G=L._zod.optout==="optional",re=L._zod.run({value:y[k],issues:[]},S);re instanceof Promise?v.push(re.then(ue=>bu(ue,b,k,y,G))):bu(re,b,k,y,G)}return p?np(v,y,b,S,d.value,n):v.length?Promise.all(v).then(()=>b):b}}),DA=he("$ZodObjectJIT",(n,o)=>{IA.init(n,o);const l=n._zod.parse,d=D1(()=>tp(o)),m=k=>{const L=new eA(["shape","payload","ctx"]),G=d.value,re=X=>{const q=Yg(X);return`shape[${q}]._zod.run({ value: input[${q}], issues: [] }, ctx)`};L.write("const input = payload.value;");const ue=Object.create(null);let be=0;for(const X of G.keys)ue[X]=`key_${be++}`;L.write("const newResult = {};");for(const X of G.keys){const q=ue[X],Se=Yg(X),Z=k[X]?._zod?.optout==="optional";L.write(`const ${q} = ${re(X)};`),Z?L.write(`
        if (${q}.issues.length) {
          if (${Se} in input) {
            payload.issues = payload.issues.concat(${q}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Se}, ...iss.path] : [${Se}]
            })));
          }
        }
        
        if (${q}.value === undefined) {
          if (${Se} in input) {
            newResult[${Se}] = undefined;
          }
        } else {
          newResult[${Se}] = ${q}.value;
        }
        
      `):L.write(`
        if (${q}.issues.length) {
          payload.issues = payload.issues.concat(${q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Se}, ...iss.path] : [${Se}]
          })));
        }
        
        if (${q}.value === undefined) {
          if (${Se} in input) {
            newResult[${Se}] = undefined;
          }
        } else {
          newResult[${Se}] = ${q}.value;
        }
        
      `)}L.write("payload.value = newResult;"),L.write("return payload;");const me=L.compile();return(X,q)=>me(k,X,q)};let p;const A=Au,b=!Fx.jitless,y=b&&qy.value,v=o.catchall;let I;n._zod.parse=(k,L)=>{I??(I=d.value);const G=k.value;return A(G)?b&&y&&L?.async===!1&&L.jitless!==!0?(p||(p=m(o.shape)),k=p(k,L),v?np([],G,k,L,I,n):k):l(k,L):(k.issues.push({expected:"object",code:"invalid_type",input:G,inst:n}),k)}});function Qg(n,o,l,d){for(const p of n)if(p.issues.length===0)return o.value=p.value,o;const m=n.filter(p=>!ps(p));return m.length===1?(o.value=m[0].value,m[0]):(o.issues.push({code:"invalid_union",input:o.value,inst:l,errors:n.map(p=>p.issues.map(A=>Nl(A,d,Tl())))}),o)}const MA=he("$ZodUnion",(n,o)=>{An.init(n,o),Zt(n._zod,"optin",()=>o.options.some(m=>m._zod.optin==="optional")?"optional":void 0),Zt(n._zod,"optout",()=>o.options.some(m=>m._zod.optout==="optional")?"optional":void 0),Zt(n._zod,"values",()=>{if(o.options.every(m=>m._zod.values))return new Set(o.options.flatMap(m=>Array.from(m._zod.values)))}),Zt(n._zod,"pattern",()=>{if(o.options.every(m=>m._zod.pattern)){const m=o.options.map(p=>p._zod.pattern);return new RegExp(`^(${m.map(p=>B1(p.source)).join("|")})$`)}});const l=o.options.length===1,d=o.options[0]._zod.run;n._zod.parse=(m,p)=>{if(l)return d(m,p);let A=!1;const b=[];for(const S of o.options){const y=S._zod.run({value:m.value,issues:[]},p);if(y instanceof Promise)b.push(y),A=!0;else{if(y.issues.length===0)return y;b.push(y)}}return A?Promise.all(b).then(S=>Qg(S,m,n,p)):Qg(b,m,n,p)}}),BA=he("$ZodIntersection",(n,o)=>{An.init(n,o),n._zod.parse=(l,d)=>{const m=l.value,p=o.left._zod.run({value:m,issues:[]},d),A=o.right._zod.run({value:m,issues:[]},d);return p instanceof Promise||A instanceof Promise?Promise.all([p,A]).then(([S,y])=>Wg(l,S,y)):Wg(l,p,A)}});function _1(n,o){if(n===o)return{valid:!0,data:n};if(n instanceof Date&&o instanceof Date&&+n==+o)return{valid:!0,data:n};if(Lo(n)&&Lo(o)){const l=Object.keys(o),d=Object.keys(n).filter(p=>l.indexOf(p)!==-1),m={...n,...o};for(const p of d){const A=_1(n[p],o[p]);if(!A.valid)return{valid:!1,mergeErrorPath:[p,...A.mergeErrorPath]};m[p]=A.data}return{valid:!0,data:m}}if(Array.isArray(n)&&Array.isArray(o)){if(n.length!==o.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let d=0;d<n.length;d++){const m=n[d],p=o[d],A=_1(m,p);if(!A.valid)return{valid:!1,mergeErrorPath:[d,...A.mergeErrorPath]};l.push(A.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function Wg(n,o,l){const d=new Map;let m;for(const b of o.issues)if(b.code==="unrecognized_keys"){m??(m=b);for(const S of b.keys)d.has(S)||d.set(S,{}),d.get(S).l=!0}else n.issues.push(b);for(const b of l.issues)if(b.code==="unrecognized_keys")for(const S of b.keys)d.has(S)||d.set(S,{}),d.get(S).r=!0;else n.issues.push(b);const p=[...d].filter(([,b])=>b.l&&b.r).map(([b])=>b);if(p.length&&m&&n.issues.push({...m,keys:p}),ps(n))return n;const A=_1(o.value,l.value);if(!A.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(A.mergeErrorPath)}`);return n.value=A.data,n}const kA=he("$ZodEnum",(n,o)=>{An.init(n,o);const l=Px(o.entries),d=new Set(l);n._zod.values=d,n._zod.pattern=new RegExp(`^(${l.filter(m=>Ky.has(typeof m)).map(m=>typeof m=="string"?bs(m):m.toString()).join("|")})$`),n._zod.parse=(m,p)=>{const A=m.value;return d.has(A)||m.issues.push({code:"invalid_value",values:l,input:A,inst:n}),m}}),LA=he("$ZodLiteral",(n,o)=>{if(An.init(n,o),o.values.length===0)throw new Error("Cannot create literal schema with no valid values");const l=new Set(o.values);n._zod.values=l,n._zod.pattern=new RegExp(`^(${o.values.map(d=>typeof d=="string"?bs(d):d?bs(d.toString()):String(d)).join("|")})$`),n._zod.parse=(d,m)=>{const p=d.value;return l.has(p)||d.issues.push({code:"invalid_value",values:o.values,input:p,inst:n}),d}}),zA=he("$ZodTransform",(n,o)=>{An.init(n,o),n._zod.parse=(l,d)=>{if(d.direction==="backward")throw new Ux(n.constructor.name);const m=o.transform(l.value,l);if(d.async)return(m instanceof Promise?m:Promise.resolve(m)).then(A=>(l.value=A,l));if(m instanceof Promise)throw new ys;return l.value=m,l}});function Jg(n,o){return n.issues.length&&o===void 0?{issues:[],value:void 0}:n}const ip=he("$ZodOptional",(n,o)=>{An.init(n,o),n._zod.optin="optional",n._zod.optout="optional",Zt(n._zod,"values",()=>o.innerType._zod.values?new Set([...o.innerType._zod.values,void 0]):void 0),Zt(n._zod,"pattern",()=>{const l=o.innerType._zod.pattern;return l?new RegExp(`^(${B1(l.source)})?$`):void 0}),n._zod.parse=(l,d)=>{if(o.innerType._zod.optin==="optional"){const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(p=>Jg(p,l.value)):Jg(m,l.value)}return l.value===void 0?l:o.innerType._zod.run(l,d)}}),UA=he("$ZodExactOptional",(n,o)=>{ip.init(n,o),Zt(n._zod,"values",()=>o.innerType._zod.values),Zt(n._zod,"pattern",()=>o.innerType._zod.pattern),n._zod.parse=(l,d)=>o.innerType._zod.run(l,d)}),FA=he("$ZodNullable",(n,o)=>{An.init(n,o),Zt(n._zod,"optin",()=>o.innerType._zod.optin),Zt(n._zod,"optout",()=>o.innerType._zod.optout),Zt(n._zod,"pattern",()=>{const l=o.innerType._zod.pattern;return l?new RegExp(`^(${B1(l.source)}|null)$`):void 0}),Zt(n._zod,"values",()=>o.innerType._zod.values?new Set([...o.innerType._zod.values,null]):void 0),n._zod.parse=(l,d)=>l.value===null?l:o.innerType._zod.run(l,d)}),PA=he("$ZodDefault",(n,o)=>{An.init(n,o),n._zod.optin="optional",Zt(n._zod,"values",()=>o.innerType._zod.values),n._zod.parse=(l,d)=>{if(d.direction==="backward")return o.innerType._zod.run(l,d);if(l.value===void 0)return l.value=o.defaultValue,l;const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(p=>$g(p,o)):$g(m,o)}});function $g(n,o){return n.value===void 0&&(n.value=o.defaultValue),n}const HA=he("$ZodPrefault",(n,o)=>{An.init(n,o),n._zod.optin="optional",Zt(n._zod,"values",()=>o.innerType._zod.values),n._zod.parse=(l,d)=>(d.direction==="backward"||l.value===void 0&&(l.value=o.defaultValue),o.innerType._zod.run(l,d))}),ZA=he("$ZodNonOptional",(n,o)=>{An.init(n,o),Zt(n._zod,"values",()=>{const l=o.innerType._zod.values;return l?new Set([...l].filter(d=>d!==void 0)):void 0}),n._zod.parse=(l,d)=>{const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(p=>em(p,n)):em(m,n)}});function em(n,o){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:o}),n}const jA=he("$ZodCatch",(n,o)=>{An.init(n,o),Zt(n._zod,"optin",()=>o.innerType._zod.optin),Zt(n._zod,"optout",()=>o.innerType._zod.optout),Zt(n._zod,"values",()=>o.innerType._zod.values),n._zod.parse=(l,d)=>{if(d.direction==="backward")return o.innerType._zod.run(l,d);const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(p=>(l.value=p.value,p.issues.length&&(l.value=o.catchValue({...l,error:{issues:p.issues.map(A=>Nl(A,d,Tl()))},input:l.value}),l.issues=[]),l)):(l.value=m.value,m.issues.length&&(l.value=o.catchValue({...l,error:{issues:m.issues.map(p=>Nl(p,d,Tl()))},input:l.value}),l.issues=[]),l)}}),GA=he("$ZodPipe",(n,o)=>{An.init(n,o),Zt(n._zod,"values",()=>o.in._zod.values),Zt(n._zod,"optin",()=>o.in._zod.optin),Zt(n._zod,"optout",()=>o.out._zod.optout),Zt(n._zod,"propValues",()=>o.in._zod.propValues),n._zod.parse=(l,d)=>{if(d.direction==="backward"){const p=o.out._zod.run(l,d);return p instanceof Promise?p.then(A=>fu(A,o.in,d)):fu(p,o.in,d)}const m=o.in._zod.run(l,d);return m instanceof Promise?m.then(p=>fu(p,o.out,d)):fu(m,o.out,d)}});function fu(n,o,l){return n.issues.length?(n.aborted=!0,n):o._zod.run({value:n.value,issues:n.issues},l)}const VA=he("$ZodReadonly",(n,o)=>{An.init(n,o),Zt(n._zod,"propValues",()=>o.innerType._zod.propValues),Zt(n._zod,"values",()=>o.innerType._zod.values),Zt(n._zod,"optin",()=>o.innerType?._zod?.optin),Zt(n._zod,"optout",()=>o.innerType?._zod?.optout),n._zod.parse=(l,d)=>{if(d.direction==="backward")return o.innerType._zod.run(l,d);const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(tm):tm(m)}});function tm(n){return n.value=Object.freeze(n.value),n}const XA=he("$ZodCustom",(n,o)=>{Ei.init(n,o),An.init(n,o),n._zod.parse=(l,d)=>l,n._zod.check=l=>{const d=l.value,m=o.fn(d);if(m instanceof Promise)return m.then(p=>nm(p,l,d,n));nm(m,l,d,n)}});function nm(n,o,l,d){if(!n){const m={code:"custom",input:l,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(m.params=d._zod.def.params),o.issues.push(zo(m))}}var im;class YA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(o,...l){const d=l[0];return this._map.set(o,d),d&&typeof d=="object"&&"id"in d&&this._idmap.set(d.id,o),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(o){const l=this._map.get(o);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(o),this}get(o){const l=o._zod.parent;if(l){const d={...this.get(l)??{}};delete d.id;const m={...d,...this._map.get(o)};return Object.keys(m).length?m:void 0}return this._map.get(o)}has(o){return this._map.has(o)}}function qA(){return new YA}(im=globalThis).__zod_globalRegistry??(im.__zod_globalRegistry=qA());const bo=globalThis.__zod_globalRegistry;function KA(n,o){return new n({type:"string",...Ge(o)})}function QA(n,o){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Ge(o)})}function am(n,o){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Ge(o)})}function WA(n,o){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Ge(o)})}function JA(n,o){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ge(o)})}function $A(n,o){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ge(o)})}function e8(n,o){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ge(o)})}function t8(n,o){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Ge(o)})}function n8(n,o){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Ge(o)})}function i8(n,o){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ge(o)})}function a8(n,o){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Ge(o)})}function r8(n,o){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ge(o)})}function l8(n,o){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Ge(o)})}function s8(n,o){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Ge(o)})}function o8(n,o){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ge(o)})}function c8(n,o){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ge(o)})}function u8(n,o){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ge(o)})}function f8(n,o){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ge(o)})}function h8(n,o){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ge(o)})}function d8(n,o){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Ge(o)})}function g8(n,o){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Ge(o)})}function m8(n,o){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Ge(o)})}function x8(n,o){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Ge(o)})}function p8(n,o){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ge(o)})}function w8(n,o){return new n({type:"string",format:"date",check:"string_format",...Ge(o)})}function _8(n,o){return new n({type:"string",format:"time",check:"string_format",precision:null,...Ge(o)})}function y8(n,o){return new n({type:"string",format:"duration",check:"string_format",...Ge(o)})}function E8(n,o){return new n({type:"number",checks:[],...Ge(o)})}function A8(n,o){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Ge(o)})}function b8(n){return new n({type:"unknown"})}function C8(n,o){return new n({type:"never",...Ge(o)})}function rm(n,o){return new Wx({check:"less_than",...Ge(o),value:n,inclusive:!1})}function n1(n,o){return new Wx({check:"less_than",...Ge(o),value:n,inclusive:!0})}function lm(n,o){return new Jx({check:"greater_than",...Ge(o),value:n,inclusive:!1})}function i1(n,o){return new Jx({check:"greater_than",...Ge(o),value:n,inclusive:!0})}function sm(n,o){return new ZE({check:"multiple_of",...Ge(o),value:n})}function ap(n,o){return new GE({check:"max_length",...Ge(o),maximum:n})}function Cu(n,o){return new VE({check:"min_length",...Ge(o),minimum:n})}function rp(n,o){return new XE({check:"length_equals",...Ge(o),length:n})}function S8(n,o){return new YE({check:"string_format",format:"regex",...Ge(o),pattern:n})}function v8(n){return new qE({check:"string_format",format:"lowercase",...Ge(n)})}function T8(n){return new KE({check:"string_format",format:"uppercase",...Ge(n)})}function N8(n,o){return new QE({check:"string_format",format:"includes",...Ge(o),includes:n})}function O8(n,o){return new WE({check:"string_format",format:"starts_with",...Ge(o),prefix:n})}function R8(n,o){return new JE({check:"string_format",format:"ends_with",...Ge(o),suffix:n})}function Ts(n){return new $E({check:"overwrite",tx:n})}function I8(n){return Ts(o=>o.normalize(n))}function D8(){return Ts(n=>n.trim())}function M8(){return Ts(n=>n.toLowerCase())}function B8(){return Ts(n=>n.toUpperCase())}function k8(){return Ts(n=>Yy(n))}function L8(n,o,l){return new n({type:"array",element:o,...Ge(l)})}function z8(n,o,l){return new n({type:"custom",check:"custom",fn:o,...Ge(l)})}function U8(n){const o=F8(l=>(l.addIssue=d=>{if(typeof d=="string")l.issues.push(zo(d,l.value,o._zod.def));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=l.value),m.inst??(m.inst=o),m.continue??(m.continue=!o._zod.def.abort),l.issues.push(zo(m))}},n(l.value,l)));return o}function F8(n,o){const l=new Ei({check:"custom",...Ge(o)});return l._zod.check=n,l}function lp(n){let o=n?.target??"draft-2020-12";return o==="draft-4"&&(o="draft-04"),o==="draft-7"&&(o="draft-07"),{processors:n.processors??{},metadataRegistry:n?.metadata??bo,target:o,unrepresentable:n?.unrepresentable??"throw",override:n?.override??(()=>{}),io:n?.io??"output",counter:0,seen:new Map,cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0}}function Qn(n,o,l={path:[],schemaPath:[]}){var d;const m=n._zod.def,p=o.seen.get(n);if(p)return p.count++,l.schemaPath.includes(n)&&(p.cycle=l.path),p.schema;const A={schema:{},count:1,cycle:void 0,path:l.path};o.seen.set(n,A);const b=n._zod.toJSONSchema?.();if(b)A.schema=b;else{const v={...l,schemaPath:[...l.schemaPath,n],path:l.path};if(n._zod.processJSONSchema)n._zod.processJSONSchema(o,A.schema,v);else{const k=A.schema,L=o.processors[m.type];if(!L)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${m.type}`);L(n,o,k,v)}const I=n._zod.parent;I&&(A.ref||(A.ref=I),Qn(I,o,v),o.seen.get(I).isParent=!0)}const S=o.metadataRegistry.get(n);return S&&Object.assign(A.schema,S),o.io==="input"&&oi(n)&&(delete A.schema.examples,delete A.schema.default),o.io==="input"&&A.schema._prefault&&((d=A.schema).default??(d.default=A.schema._prefault)),delete A.schema._prefault,o.seen.get(n).schema}function sp(n,o){const l=n.seen.get(o);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=new Map;for(const A of n.seen.entries()){const b=n.metadataRegistry.get(A[0])?.id;if(b){const S=d.get(b);if(S&&S!==A[0])throw new Error(`Duplicate schema id "${b}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);d.set(b,A[0])}}const m=A=>{const b=n.target==="draft-2020-12"?"$defs":"definitions";if(n.external){const I=n.external.registry.get(A[0])?.id,k=n.external.uri??(G=>G);if(I)return{ref:k(I)};const L=A[1].defId??A[1].schema.id??`schema${n.counter++}`;return A[1].defId=L,{defId:L,ref:`${k("__shared")}#/${b}/${L}`}}if(A[1]===l)return{ref:"#"};const y=`#/${b}/`,v=A[1].schema.id??`__schema${n.counter++}`;return{defId:v,ref:y+v}},p=A=>{if(A[1].schema.$ref)return;const b=A[1],{ref:S,defId:y}=m(A);b.def={...b.schema},y&&(b.defId=y);const v=b.schema;for(const I in v)delete v[I];v.$ref=S};if(n.cycles==="throw")for(const A of n.seen.entries()){const b=A[1];if(b.cycle)throw new Error(`Cycle detected: #/${b.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const A of n.seen.entries()){const b=A[1];if(o===A[0]){p(A);continue}if(n.external){const y=n.external.registry.get(A[0])?.id;if(o!==A[0]&&y){p(A);continue}}if(n.metadataRegistry.get(A[0])?.id){p(A);continue}if(b.cycle){p(A);continue}if(b.count>1&&n.reused==="ref"){p(A);continue}}}function op(n,o){const l=n.seen.get(o);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=A=>{const b=n.seen.get(A);if(b.ref===null)return;const S=b.def??b.schema,y={...S},v=b.ref;if(b.ref=null,v){d(v);const k=n.seen.get(v),L=k.schema;if(L.$ref&&(n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0")?(S.allOf=S.allOf??[],S.allOf.push(L)):Object.assign(S,L),Object.assign(S,y),A._zod.parent===v)for(const re in S)re==="$ref"||re==="allOf"||re in y||delete S[re];if(L.$ref&&k.def)for(const re in S)re==="$ref"||re==="allOf"||re in k.def&&JSON.stringify(S[re])===JSON.stringify(k.def[re])&&delete S[re]}const I=A._zod.parent;if(I&&I!==v){d(I);const k=n.seen.get(I);if(k?.schema.$ref&&(S.$ref=k.schema.$ref,k.def))for(const L in S)L==="$ref"||L==="allOf"||L in k.def&&JSON.stringify(S[L])===JSON.stringify(k.def[L])&&delete S[L]}n.override({zodSchema:A,jsonSchema:S,path:b.path??[]})};for(const A of[...n.seen.entries()].reverse())d(A[0]);const m={};if(n.target==="draft-2020-12"?m.$schema="https://json-schema.org/draft/2020-12/schema":n.target==="draft-07"?m.$schema="http://json-schema.org/draft-07/schema#":n.target==="draft-04"?m.$schema="http://json-schema.org/draft-04/schema#":n.target,n.external?.uri){const A=n.external.registry.get(o)?.id;if(!A)throw new Error("Schema is missing an `id` property");m.$id=n.external.uri(A)}Object.assign(m,l.def??l.schema);const p=n.external?.defs??{};for(const A of n.seen.entries()){const b=A[1];b.def&&b.defId&&(p[b.defId]=b.def)}n.external||Object.keys(p).length>0&&(n.target==="draft-2020-12"?m.$defs=p:m.definitions=p);try{const A=JSON.parse(JSON.stringify(m));return Object.defineProperty(A,"~standard",{value:{...o["~standard"],jsonSchema:{input:Su(o,"input",n.processors),output:Su(o,"output",n.processors)}},enumerable:!1,writable:!1}),A}catch{throw new Error("Error converting schema to JSON.")}}function oi(n,o){const l=o??{seen:new Set};if(l.seen.has(n))return!1;l.seen.add(n);const d=n._zod.def;if(d.type==="transform")return!0;if(d.type==="array")return oi(d.element,l);if(d.type==="set")return oi(d.valueType,l);if(d.type==="lazy")return oi(d.getter(),l);if(d.type==="promise"||d.type==="optional"||d.type==="nonoptional"||d.type==="nullable"||d.type==="readonly"||d.type==="default"||d.type==="prefault")return oi(d.innerType,l);if(d.type==="intersection")return oi(d.left,l)||oi(d.right,l);if(d.type==="record"||d.type==="map")return oi(d.keyType,l)||oi(d.valueType,l);if(d.type==="pipe")return oi(d.in,l)||oi(d.out,l);if(d.type==="object"){for(const m in d.shape)if(oi(d.shape[m],l))return!0;return!1}if(d.type==="union"){for(const m of d.options)if(oi(m,l))return!0;return!1}if(d.type==="tuple"){for(const m of d.items)if(oi(m,l))return!0;return!!(d.rest&&oi(d.rest,l))}return!1}const P8=(n,o={})=>l=>{const d=lp({...l,processors:o});return Qn(n,d),sp(d,n),op(d,n)},Su=(n,o,l={})=>d=>{const{libraryOptions:m,target:p}=d??{},A=lp({...m??{},target:p,io:o,processors:l});return Qn(n,A),sp(A,n),op(A,n)},H8={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Z8=(n,o,l,d)=>{const m=l;m.type="string";const{minimum:p,maximum:A,format:b,patterns:S,contentEncoding:y}=n._zod.bag;if(typeof p=="number"&&(m.minLength=p),typeof A=="number"&&(m.maxLength=A),b&&(m.format=H8[b]??b,m.format===""&&delete m.format,b==="time"&&delete m.format),y&&(m.contentEncoding=y),S&&S.size>0){const v=[...S];v.length===1?m.pattern=v[0].source:v.length>1&&(m.allOf=[...v.map(I=>({...o.target==="draft-07"||o.target==="draft-04"||o.target==="openapi-3.0"?{type:"string"}:{},pattern:I.source}))])}},j8=(n,o,l,d)=>{const m=l,{minimum:p,maximum:A,format:b,multipleOf:S,exclusiveMaximum:y,exclusiveMinimum:v}=n._zod.bag;typeof b=="string"&&b.includes("int")?m.type="integer":m.type="number",typeof v=="number"&&(o.target==="draft-04"||o.target==="openapi-3.0"?(m.minimum=v,m.exclusiveMinimum=!0):m.exclusiveMinimum=v),typeof p=="number"&&(m.minimum=p,typeof v=="number"&&o.target!=="draft-04"&&(v>=p?delete m.minimum:delete m.exclusiveMinimum)),typeof y=="number"&&(o.target==="draft-04"||o.target==="openapi-3.0"?(m.maximum=y,m.exclusiveMaximum=!0):m.exclusiveMaximum=y),typeof A=="number"&&(m.maximum=A,typeof y=="number"&&o.target!=="draft-04"&&(y<=A?delete m.maximum:delete m.exclusiveMaximum)),typeof S=="number"&&(m.multipleOf=S)},G8=(n,o,l,d)=>{l.not={}},V8=(n,o,l,d)=>{},X8=(n,o,l,d)=>{const m=n._zod.def,p=Px(m.entries);p.every(A=>typeof A=="number")&&(l.type="number"),p.every(A=>typeof A=="string")&&(l.type="string"),l.enum=p},Y8=(n,o,l,d)=>{const m=n._zod.def,p=[];for(const A of m.values)if(A===void 0){if(o.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof A=="bigint"){if(o.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");p.push(Number(A))}else p.push(A);if(p.length!==0)if(p.length===1){const A=p[0];l.type=A===null?"null":typeof A,o.target==="draft-04"||o.target==="openapi-3.0"?l.enum=[A]:l.const=A}else p.every(A=>typeof A=="number")&&(l.type="number"),p.every(A=>typeof A=="string")&&(l.type="string"),p.every(A=>typeof A=="boolean")&&(l.type="boolean"),p.every(A=>A===null)&&(l.type="null"),l.enum=p},q8=(n,o,l,d)=>{if(o.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},K8=(n,o,l,d)=>{if(o.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Q8=(n,o,l,d)=>{const m=l,p=n._zod.def,{minimum:A,maximum:b}=n._zod.bag;typeof A=="number"&&(m.minItems=A),typeof b=="number"&&(m.maxItems=b),m.type="array",m.items=Qn(p.element,o,{...d,path:[...d.path,"items"]})},W8=(n,o,l,d)=>{const m=l,p=n._zod.def;m.type="object",m.properties={};const A=p.shape;for(const y in A)m.properties[y]=Qn(A[y],o,{...d,path:[...d.path,"properties",y]});const b=new Set(Object.keys(A)),S=new Set([...b].filter(y=>{const v=p.shape[y]._zod;return o.io==="input"?v.optin===void 0:v.optout===void 0}));S.size>0&&(m.required=Array.from(S)),p.catchall?._zod.def.type==="never"?m.additionalProperties=!1:p.catchall?p.catchall&&(m.additionalProperties=Qn(p.catchall,o,{...d,path:[...d.path,"additionalProperties"]})):o.io==="output"&&(m.additionalProperties=!1)},J8=(n,o,l,d)=>{const m=n._zod.def,p=m.inclusive===!1,A=m.options.map((b,S)=>Qn(b,o,{...d,path:[...d.path,p?"oneOf":"anyOf",S]}));p?l.oneOf=A:l.anyOf=A},$8=(n,o,l,d)=>{const m=n._zod.def,p=Qn(m.left,o,{...d,path:[...d.path,"allOf",0]}),A=Qn(m.right,o,{...d,path:[...d.path,"allOf",1]}),b=y=>"allOf"in y&&Object.keys(y).length===1,S=[...b(p)?p.allOf:[p],...b(A)?A.allOf:[A]];l.allOf=S},eb=(n,o,l,d)=>{const m=n._zod.def,p=Qn(m.innerType,o,d),A=o.seen.get(n);o.target==="openapi-3.0"?(A.ref=m.innerType,l.nullable=!0):l.anyOf=[p,{type:"null"}]},tb=(n,o,l,d)=>{const m=n._zod.def;Qn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType},nb=(n,o,l,d)=>{const m=n._zod.def;Qn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType,l.default=JSON.parse(JSON.stringify(m.defaultValue))},ib=(n,o,l,d)=>{const m=n._zod.def;Qn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType,o.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(m.defaultValue)))},ab=(n,o,l,d)=>{const m=n._zod.def;Qn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType;let A;try{A=m.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=A},rb=(n,o,l,d)=>{const m=n._zod.def,p=o.io==="input"?m.in._zod.def.type==="transform"?m.out:m.in:m.out;Qn(p,o,d);const A=o.seen.get(n);A.ref=p},lb=(n,o,l,d)=>{const m=n._zod.def;Qn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType,l.readOnly=!0},cp=(n,o,l,d)=>{const m=n._zod.def;Qn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType},sb=he("ZodISODateTime",(n,o)=>{dA.init(n,o),cn.init(n,o)});function ob(n){return p8(sb,n)}const cb=he("ZodISODate",(n,o)=>{gA.init(n,o),cn.init(n,o)});function ub(n){return w8(cb,n)}const fb=he("ZodISOTime",(n,o)=>{mA.init(n,o),cn.init(n,o)});function hb(n){return _8(fb,n)}const db=he("ZodISODuration",(n,o)=>{xA.init(n,o),cn.init(n,o)});function gb(n){return y8(db,n)}const mb=(n,o)=>{Vx.init(n,o),n.name="ZodError",Object.defineProperties(n,{format:{value:l=>lE(n,l)},flatten:{value:l=>rE(n,l)},addIssue:{value:l=>{n.issues.push(l),n.message=JSON.stringify(n.issues,w1,2)}},addIssues:{value:l=>{n.issues.push(...l),n.message=JSON.stringify(n.issues,w1,2)}},isEmpty:{get(){return n.issues.length===0}}})},ta=he("ZodError",mb,{Parent:Error}),xb=L1(ta),pb=z1(ta),wb=zu(ta),_b=Uu(ta),yb=cE(ta),Eb=uE(ta),Ab=fE(ta),bb=hE(ta),Cb=dE(ta),Sb=gE(ta),vb=mE(ta),Tb=xE(ta),bn=he("ZodType",(n,o)=>(An.init(n,o),Object.assign(n["~standard"],{jsonSchema:{input:Su(n,"input"),output:Su(n,"output")}}),n.toJSONSchema=P8(n,{}),n.def=o,n.type=o.type,Object.defineProperty(n,"_def",{value:o}),n.check=(...l)=>n.clone(jr(o,{checks:[...o.checks??[],...l.map(d=>typeof d=="function"?{_zod:{check:d,def:{check:"custom"},onattach:[]}}:d)]}),{parent:!0}),n.with=n.check,n.clone=(l,d)=>Gr(n,l,d),n.brand=()=>n,n.register=((l,d)=>(l.add(n,d),n)),n.parse=(l,d)=>xb(n,l,d,{callee:n.parse}),n.safeParse=(l,d)=>wb(n,l,d),n.parseAsync=async(l,d)=>pb(n,l,d,{callee:n.parseAsync}),n.safeParseAsync=async(l,d)=>_b(n,l,d),n.spa=n.safeParseAsync,n.encode=(l,d)=>yb(n,l,d),n.decode=(l,d)=>Eb(n,l,d),n.encodeAsync=async(l,d)=>Ab(n,l,d),n.decodeAsync=async(l,d)=>bb(n,l,d),n.safeEncode=(l,d)=>Cb(n,l,d),n.safeDecode=(l,d)=>Sb(n,l,d),n.safeEncodeAsync=async(l,d)=>vb(n,l,d),n.safeDecodeAsync=async(l,d)=>Tb(n,l,d),n.refine=(l,d)=>n.check(_4(l,d)),n.superRefine=l=>n.check(y4(l)),n.overwrite=l=>n.check(Ts(l)),n.optional=()=>fm(n),n.exactOptional=()=>l4(n),n.nullable=()=>hm(n),n.nullish=()=>fm(hm(n)),n.nonoptional=l=>h4(n,l),n.array=()=>F1(n),n.or=l=>E1([n,l]),n.and=l=>e4(n,l),n.transform=l=>dm(n,a4(l)),n.default=l=>c4(n,l),n.prefault=l=>f4(n,l),n.catch=l=>g4(n,l),n.pipe=l=>dm(n,l),n.readonly=()=>p4(n),n.describe=l=>{const d=n.clone();return bo.add(d,{description:l}),d},Object.defineProperty(n,"description",{get(){return bo.get(n)?.description},configurable:!0}),n.meta=(...l)=>{if(l.length===0)return bo.get(n);const d=n.clone();return bo.add(d,l[0]),d},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n.apply=l=>l(n),n)),up=he("_ZodString",(n,o)=>{U1.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(d,m,p)=>Z8(n,d,m);const l=n._zod.bag;n.format=l.format??null,n.minLength=l.minimum??null,n.maxLength=l.maximum??null,n.regex=(...d)=>n.check(S8(...d)),n.includes=(...d)=>n.check(N8(...d)),n.startsWith=(...d)=>n.check(O8(...d)),n.endsWith=(...d)=>n.check(R8(...d)),n.min=(...d)=>n.check(Cu(...d)),n.max=(...d)=>n.check(ap(...d)),n.length=(...d)=>n.check(rp(...d)),n.nonempty=(...d)=>n.check(Cu(1,...d)),n.lowercase=d=>n.check(v8(d)),n.uppercase=d=>n.check(T8(d)),n.trim=()=>n.check(D8()),n.normalize=(...d)=>n.check(I8(...d)),n.toLowerCase=()=>n.check(M8()),n.toUpperCase=()=>n.check(B8()),n.slugify=()=>n.check(k8())}),Nb=he("ZodString",(n,o)=>{U1.init(n,o),up.init(n,o),n.email=l=>n.check(QA(Ob,l)),n.url=l=>n.check(t8(Rb,l)),n.jwt=l=>n.check(x8(Vb,l)),n.emoji=l=>n.check(n8(Ib,l)),n.guid=l=>n.check(am(om,l)),n.uuid=l=>n.check(WA(hu,l)),n.uuidv4=l=>n.check(JA(hu,l)),n.uuidv6=l=>n.check($A(hu,l)),n.uuidv7=l=>n.check(e8(hu,l)),n.nanoid=l=>n.check(i8(Db,l)),n.guid=l=>n.check(am(om,l)),n.cuid=l=>n.check(a8(Mb,l)),n.cuid2=l=>n.check(r8(Bb,l)),n.ulid=l=>n.check(l8(kb,l)),n.base64=l=>n.check(d8(Zb,l)),n.base64url=l=>n.check(g8(jb,l)),n.xid=l=>n.check(s8(Lb,l)),n.ksuid=l=>n.check(o8(zb,l)),n.ipv4=l=>n.check(c8(Ub,l)),n.ipv6=l=>n.check(u8(Fb,l)),n.cidrv4=l=>n.check(f8(Pb,l)),n.cidrv6=l=>n.check(h8(Hb,l)),n.e164=l=>n.check(m8(Gb,l)),n.datetime=l=>n.check(ob(l)),n.date=l=>n.check(ub(l)),n.time=l=>n.check(hb(l)),n.duration=l=>n.check(gb(l))});function $i(n){return KA(Nb,n)}const cn=he("ZodStringFormat",(n,o)=>{ln.init(n,o),up.init(n,o)}),Ob=he("ZodEmail",(n,o)=>{aA.init(n,o),cn.init(n,o)}),om=he("ZodGUID",(n,o)=>{nA.init(n,o),cn.init(n,o)}),hu=he("ZodUUID",(n,o)=>{iA.init(n,o),cn.init(n,o)}),Rb=he("ZodURL",(n,o)=>{rA.init(n,o),cn.init(n,o)}),Ib=he("ZodEmoji",(n,o)=>{lA.init(n,o),cn.init(n,o)}),Db=he("ZodNanoID",(n,o)=>{sA.init(n,o),cn.init(n,o)}),Mb=he("ZodCUID",(n,o)=>{oA.init(n,o),cn.init(n,o)}),Bb=he("ZodCUID2",(n,o)=>{cA.init(n,o),cn.init(n,o)}),kb=he("ZodULID",(n,o)=>{uA.init(n,o),cn.init(n,o)}),Lb=he("ZodXID",(n,o)=>{fA.init(n,o),cn.init(n,o)}),zb=he("ZodKSUID",(n,o)=>{hA.init(n,o),cn.init(n,o)}),Ub=he("ZodIPv4",(n,o)=>{pA.init(n,o),cn.init(n,o)}),Fb=he("ZodIPv6",(n,o)=>{wA.init(n,o),cn.init(n,o)}),Pb=he("ZodCIDRv4",(n,o)=>{_A.init(n,o),cn.init(n,o)}),Hb=he("ZodCIDRv6",(n,o)=>{yA.init(n,o),cn.init(n,o)}),Zb=he("ZodBase64",(n,o)=>{EA.init(n,o),cn.init(n,o)}),jb=he("ZodBase64URL",(n,o)=>{bA.init(n,o),cn.init(n,o)}),Gb=he("ZodE164",(n,o)=>{CA.init(n,o),cn.init(n,o)}),Vb=he("ZodJWT",(n,o)=>{vA.init(n,o),cn.init(n,o)}),fp=he("ZodNumber",(n,o)=>{ep.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(d,m,p)=>j8(n,d,m),n.gt=(d,m)=>n.check(lm(d,m)),n.gte=(d,m)=>n.check(i1(d,m)),n.min=(d,m)=>n.check(i1(d,m)),n.lt=(d,m)=>n.check(rm(d,m)),n.lte=(d,m)=>n.check(n1(d,m)),n.max=(d,m)=>n.check(n1(d,m)),n.int=d=>n.check(cm(d)),n.safe=d=>n.check(cm(d)),n.positive=d=>n.check(lm(0,d)),n.nonnegative=d=>n.check(i1(0,d)),n.negative=d=>n.check(rm(0,d)),n.nonpositive=d=>n.check(n1(0,d)),n.multipleOf=(d,m)=>n.check(sm(d,m)),n.step=(d,m)=>n.check(sm(d,m)),n.finite=()=>n;const l=n._zod.bag;n.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),n.isFinite=!0,n.format=l.format??null});function y1(n){return E8(fp,n)}const Xb=he("ZodNumberFormat",(n,o)=>{TA.init(n,o),fp.init(n,o)});function cm(n){return A8(Xb,n)}const Yb=he("ZodUnknown",(n,o)=>{NA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>V8()});function um(){return b8(Yb)}const qb=he("ZodNever",(n,o)=>{OA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>G8(n,l,d)});function Kb(n){return C8(qb,n)}const Qb=he("ZodArray",(n,o)=>{RA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>Q8(n,l,d,m),n.element=o.element,n.min=(l,d)=>n.check(Cu(l,d)),n.nonempty=l=>n.check(Cu(1,l)),n.max=(l,d)=>n.check(ap(l,d)),n.length=(l,d)=>n.check(rp(l,d)),n.unwrap=()=>n.element});function F1(n,o){return L8(Qb,n,o)}const Wb=he("ZodObject",(n,o)=>{DA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>W8(n,l,d,m),Zt(n,"shape",()=>o.shape),n.keyof=()=>t4(Object.keys(n._zod.def.shape)),n.catchall=l=>n.clone({...n._zod.def,catchall:l}),n.passthrough=()=>n.clone({...n._zod.def,catchall:um()}),n.loose=()=>n.clone({...n._zod.def,catchall:um()}),n.strict=()=>n.clone({...n._zod.def,catchall:Kb()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=l=>eE(n,l),n.safeExtend=l=>tE(n,l),n.merge=l=>nE(n,l),n.pick=l=>Jy(n,l),n.omit=l=>$y(n,l),n.partial=(...l)=>iE(hp,n,l[0]),n.required=(...l)=>aE(dp,n,l[0])});function Pu(n,o){const l={type:"object",shape:n??{},...Ge(o)};return new Wb(l)}const Jb=he("ZodUnion",(n,o)=>{MA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>J8(n,l,d,m),n.options=o.options});function E1(n,o){return new Jb({type:"union",options:n,...Ge(o)})}const $b=he("ZodIntersection",(n,o)=>{BA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>$8(n,l,d,m)});function e4(n,o){return new $b({type:"intersection",left:n,right:o})}const A1=he("ZodEnum",(n,o)=>{kA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(d,m,p)=>X8(n,d,m),n.enum=o.entries,n.options=Object.values(o.entries);const l=new Set(Object.keys(o.entries));n.extract=(d,m)=>{const p={};for(const A of d)if(l.has(A))p[A]=o.entries[A];else throw new Error(`Key ${A} not found in enum`);return new A1({...o,checks:[],...Ge(m),entries:p})},n.exclude=(d,m)=>{const p={...o.entries};for(const A of d)if(l.has(A))delete p[A];else throw new Error(`Key ${A} not found in enum`);return new A1({...o,checks:[],...Ge(m),entries:p})}});function t4(n,o){const l=Array.isArray(n)?Object.fromEntries(n.map(d=>[d,d])):n;return new A1({type:"enum",entries:l,...Ge(o)})}const n4=he("ZodLiteral",(n,o)=>{LA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>Y8(n,l,d),n.values=new Set(o.values),Object.defineProperty(n,"value",{get(){if(o.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return o.values[0]}})});function wl(n,o){return new n4({type:"literal",values:Array.isArray(n)?n:[n],...Ge(o)})}const i4=he("ZodTransform",(n,o)=>{zA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>K8(n,l),n._zod.parse=(l,d)=>{if(d.direction==="backward")throw new Ux(n.constructor.name);l.addIssue=p=>{if(typeof p=="string")l.issues.push(zo(p,l.value,o));else{const A=p;A.fatal&&(A.continue=!1),A.code??(A.code="custom"),A.input??(A.input=l.value),A.inst??(A.inst=n),l.issues.push(zo(A))}};const m=o.transform(l.value,l);return m instanceof Promise?m.then(p=>(l.value=p,l)):(l.value=m,l)}});function a4(n){return new i4({type:"transform",transform:n})}const hp=he("ZodOptional",(n,o)=>{ip.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>cp(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function fm(n){return new hp({type:"optional",innerType:n})}const r4=he("ZodExactOptional",(n,o)=>{UA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>cp(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function l4(n){return new r4({type:"optional",innerType:n})}const s4=he("ZodNullable",(n,o)=>{FA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>eb(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function hm(n){return new s4({type:"nullable",innerType:n})}const o4=he("ZodDefault",(n,o)=>{PA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>nb(n,l,d,m),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function c4(n,o){return new o4({type:"default",innerType:n,get defaultValue(){return typeof o=="function"?o():Zx(o)}})}const u4=he("ZodPrefault",(n,o)=>{HA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>ib(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function f4(n,o){return new u4({type:"prefault",innerType:n,get defaultValue(){return typeof o=="function"?o():Zx(o)}})}const dp=he("ZodNonOptional",(n,o)=>{ZA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>tb(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function h4(n,o){return new dp({type:"nonoptional",innerType:n,...Ge(o)})}const d4=he("ZodCatch",(n,o)=>{jA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>ab(n,l,d,m),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function g4(n,o){return new d4({type:"catch",innerType:n,catchValue:typeof o=="function"?o:()=>o})}const m4=he("ZodPipe",(n,o)=>{GA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>rb(n,l,d,m),n.in=o.in,n.out=o.out});function dm(n,o){return new m4({type:"pipe",in:n,out:o})}const x4=he("ZodReadonly",(n,o)=>{VA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>lb(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function p4(n){return new x4({type:"readonly",innerType:n})}const w4=he("ZodCustom",(n,o)=>{XA.init(n,o),bn.init(n,o),n._zod.processJSONSchema=(l,d,m)=>q8(n,l)});function _4(n,o={}){return z8(w4,n,o)}function y4(n){return U8(n)}const $n={HD_1080:"HD_1080",HD_720:"HD_720",SD_480:"SD_480",RECOVERING:"RECOVERING"},yi={PASS_PHRASE_MISMATCH:"PASS_PHRASE_MISMATCH",EXPIRED_PACKET:"EXPIRED_PACKET",NAT_BLOCKED:"NAT_BLOCKED",DEVICE_DENIED:"DEVICE_DENIED",MEDIA_UNSUPPORTED:"MEDIA_UNSUPPORTED",CONNECTION_TIMEOUT:"CONNECTION_TIMEOUT"};function mu(n){let o="";for(let l=0;l<n.length;l+=1)o+=String.fromCharCode(n[l]);return btoa(o)}function xu(n){const o=atob(n),l=new Uint8Array(o.length);for(let d=0;d<o.length;d+=1)l[d]=o.charCodeAt(d);return l}function E4(n){return mu(n).replaceAll("+","-").replaceAll("/","_").replace(/=+$/u,"")}function A4(n){const o=n.replaceAll("-","+").replaceAll("_","/").padEnd(Math.ceil(n.length/4)*4,"=");return xu(o)}const P1=new TextEncoder,b4=new TextDecoder,C4=6e5,S4=256;function Al(n){return new Uint8Array(n).buffer}function gp(n,o){return o?{name:"AES-GCM",iv:Al(n),additionalData:Al(P1.encode(o))}:{name:"AES-GCM",iv:Al(n)}}function H1(){if(typeof globalThis.crypto>"u")throw new Error("Web Crypto is not available in this environment.");return globalThis.crypto}async function mp(n,o,l){const d=H1(),m=await d.subtle.importKey("raw",Al(P1.encode(`${n}:${o}`)),"PBKDF2",!1,["deriveKey"]);return d.subtle.deriveKey({name:"PBKDF2",salt:Al(l),iterations:C4,hash:"SHA-256"},m,{name:"AES-GCM",length:S4},!1,["encrypt","decrypt"])}async function v4(n,o,l,d){const m=H1(),p=m.getRandomValues(new Uint8Array(16)),A=m.getRandomValues(new Uint8Array(12)),b=await mp(o,l,p),S=P1.encode(JSON.stringify(n)),y=await m.subtle.encrypt(gp(A,d),b,Al(S));return{saltB64:mu(p),ivB64:mu(A),ciphertextB64:mu(new Uint8Array(y))}}async function xp(n,o,l,d){const m=H1(),p=xu(n.saltB64),A=xu(n.ivB64),b=xu(n.ciphertextB64),S=await mp(o,l,p);let y;try{y=await m.subtle.decrypt(gp(A,d),S,Al(b))}catch(I){throw new Error("DECRYPTION_FAILED",{cause:I})}const v=b4.decode(y);return JSON.parse(v)}const pp="1",gm=900,wp="P2PV1",_p=600*1e3,yp=2e5,Ep=256,T4=12e4,N4=35e4,Z1=$i().trim().regex(/^[a-zA-Z0-9_-]{4,48}$/u,"Room code must be 4-48 letters, numbers, - or _."),Ap=$i().min(6).max(128).regex(/^[a-zA-Z0-9-]+$/u),bp=Pu({candidate:$i().min(1).max(2048),sdpMid:$i().max(64).nullable().optional(),sdpMLineIndex:y1().int().min(0).max(10).optional(),usernameFragment:$i().max(256).optional()}),O4=Pu({version:wl(pp),type:E1([wl("offer"),wl("answer")]),roomCode:Z1,createdAt:y1().int().positive(),expiresAt:y1().int().positive(),saltB64:$i().min(10),ivB64:$i().min(10),ciphertextB64:$i().min(10),senderRole:E1([wl("host"),wl("joiner")])}),R4=Pu({sessionId:Ap,sdpOffer:$i().min(10).max(3e4),iceCandidates:F1(bp).max(96),mediaTarget:wl("1080p30"),clientInfo:$i().min(2).max(180)}),I4=Pu({sessionId:Ap,sdpAnswer:$i().min(10).max(3e4),iceCandidates:F1(bp).max(96),acceptedMediaTarget:wl("1080p30"),clientInfo:$i().min(2).max(180)});function j1(n){return[n.version,n.type,n.roomCode,String(n.createdAt),String(n.expiresAt),n.senderRole].join("|")}function Cp(n){if(n.expiresAt<=n.createdAt)throw new Error("Packet timestamps are invalid.");if(n.expiresAt-n.createdAt>_p)throw new Error("Packet lifetime is invalid.")}function Sp(n){return n.split(`
`).map(o=>o.trim()).filter(o=>o.length>0)}function D4(n){const o=n.split("|");if(o.length!==4||o[0]!==wp)throw new Error("Invalid packet chunk format.");const l=o[1];if(!/^[a-f0-9]{16}$/u.test(l))throw new Error("Packet ID is invalid.");const d=o[2].split("/");if(d.length!==2)throw new Error("Invalid packet chunk index.");const m=Number(d[0]),p=Number(d[1]);if(Number.isNaN(m)||Number.isNaN(p)||m<1||p<1||m>p)throw new Error("Packet chunk index is out of range.");return{packetId:l,partIndex:m,partTotal:p,payload:o[3]}}function M4(n){return`${wp}|${n.packetId}|${n.partIndex}/${n.partTotal}|${n.payload}`}function B4(){const n=crypto.getRandomValues(new Uint8Array(8));return Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function k4(n){if(n.length>yp)throw new Error("Packet is too large to share safely.");const o=[];for(let l=0;l<n.length;l+=gm)o.push(n.slice(l,l+gm));if(o.length>Ep)throw new Error("Packet has too many chunks.");return o}function a1(n){return n instanceof Error&&n.message==="DECRYPTION_FAILED"?{code:yi.PASS_PHRASE_MISMATCH,message:"The passphrase did not match, so this packet could not be opened."}:n instanceof Error&&n.message==="PACKET_EXPIRED"?{code:yi.EXPIRED_PACKET,message:"This packet expired. Please make a new one and try again."}:{code:yi.MEDIA_UNSUPPORTED,message:n instanceof Error?n.message:"Unknown packet error."}}async function mm({payload:n,passphrase:o,roomCode:l,type:d,senderRole:m}){const p=Z1.parse(l),A=Date.now(),b={version:pp,type:d,roomCode:p,createdAt:A,expiresAt:A+_p,senderRole:m},S=await v4(n,o,p,j1(b));return{...b,saltB64:S.saltB64,ivB64:S.ivB64,ciphertextB64:S.ciphertextB64}}function xm(n){const o=JSON.stringify(n),l=Gy(new TextEncoder().encode(o)),d=E4(l),m=k4(d),p=B4();return m.map((b,S)=>{const y=S+1,v=m.length;return M4({packetId:p,partIndex:y,partTotal:v,payload:b})}).join(`
`)}function L4(n){return Sp(n)}function pm(n){if(n.length>yp)throw new Error("Packet text is too large.");const o=Sp(n);if(o.length===0)throw new Error("No packet data was found.");if(o.length>Ep)throw new Error("Packet has too many chunks.");const l=o.map(D4),d=l[0].packetId,m=l[0].partTotal;if(l.some(L=>L.packetId!==d||L.partTotal!==m))throw new Error("Packet chunks do not belong together.");const p=new Map;for(const L of l)p.set(L.partIndex,L);if(p.size!==m)throw new Error("Packet is missing one or more chunks.");const b=Array.from(p.values()).sort((L,G)=>L.partIndex-G.partIndex).map(L=>L.payload).join(""),S=A4(b);if(S.length>T4)throw new Error("Packet payload is too large.");const y=Vy(S);if(y.length>N4)throw new Error("Packet decompressed payload is too large.");const v=new TextDecoder().decode(y),I=JSON.parse(v),k=O4.parse(I);return Cp(k),k}function vp(n,o){const l=Z1.parse(o);if(n.roomCode!==l)throw new Error("This packet does not belong to this room code.");if(Cp(n),Date.now()>n.expiresAt)throw new Error("PACKET_EXPIRED");return l}async function z4({envelope:n,roomCode:o,passphrase:l}){const d=vp(n,o);if(n.type!=="offer")throw new Error("Expected an offer packet.");if(n.senderRole!=="host")throw new Error("Offer packet role is invalid.");const m=await xp(n,l,d,j1(n));return R4.parse(m)}async function U4({envelope:n,roomCode:o,passphrase:l}){const d=vp(n,o);if(n.type!=="answer")throw new Error("Expected an answer packet.");if(n.senderRole!=="joiner")throw new Error("Answer packet role is invalid.");const m=await xp(n,l,d,j1(n));return I4.parse(m)}function wm({title:n,packetText:o}){const l=Ie.useMemo(()=>L4(o),[o]),[d,m]=Ie.useState(0),p=l[d]??"",A=async()=>{await navigator.clipboard.writeText(o)},b=async()=>{p&&await navigator.clipboard.writeText(p)};return ne.jsxs("section",{className:"panel packet-panel",children:[ne.jsx("h3",{children:n}),ne.jsx("p",{className:"muted",children:"Share this packet as text or QR. If there are multiple chunks, send all chunks in order."}),ne.jsxs("div",{className:"button-row",children:[ne.jsx("button",{type:"button",onClick:A,children:"Copy Full Packet"}),ne.jsx("button",{type:"button",onClick:b,disabled:!p,children:"Copy This Chunk"})]}),ne.jsx("textarea",{readOnly:!0,value:o,className:"packet-textarea"}),p?ne.jsxs("div",{className:"qr-block",children:[ne.jsx(nx,{value:p,size:220,includeMargin:!0}),ne.jsxs("div",{className:"chunk-controls",children:[ne.jsx("button",{type:"button",onClick:()=>m(S=>Math.max(0,S-1)),disabled:d===0,children:"Previous Chunk"}),ne.jsxs("span",{children:["Chunk ",d+1," / ",l.length]}),ne.jsx("button",{type:"button",onClick:()=>m(S=>Math.min(l.length-1,S+1)),disabled:d>=l.length-1,children:"Next Chunk"})]})]}):null]})}function Tp(n){return n.replace(/\/+$/u,"")}function F4(){const n="".trim();return n?Tp(n):window.location.hostname==="127.0.0.1"||window.location.hostname==="localhost"?"http://127.0.0.1:8787":"https://p2p-video-signaling.fly.dev"}function G1(n,o){return`${Tp(n)}${o}`}async function V1(n){try{const o=await n.json();if(typeof o.message=="string"&&o.message.trim().length>0)return o.message}catch{}return`Request failed (${n.status}).`}async function P4(n){const o=await fetch(G1(n,"/v1/rooms"),{method:"POST",headers:{"content-type":"application/json"},body:"{}"});if(!o.ok)throw new Error(await V1(o));return await o.json()}async function H4(n,o){const l=await fetch(G1(n,`/v1/rooms/${encodeURIComponent(o)}`));if(!l.ok)throw new Error(await V1(l));return await l.json()}async function Z4(n,o){const l=await fetch(G1(n,"/v1/turn-credentials"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({peerId:o})});if(!l.ok)throw new Error(await V1(l));return await l.json()}function j4(n,o){const l=new URL(n),d=l.protocol==="https:"?"wss:":"ws:",m=new URL(`${d}//${l.host}/v1/ws`);return m.searchParams.set("roomId",o.roomId),m.searchParams.set("peerId",o.peerId),m.searchParams.set("role",o.role),m.toString()}const G4={audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:{facingMode:"user",width:{ideal:960,max:1280},height:{ideal:540,max:720},frameRate:{ideal:24,max:30}}},V4=[G4,{audio:!0,video:{facingMode:"user",width:{ideal:640,max:1280},height:{ideal:360,max:720},frameRate:{ideal:24,max:30}}},{audio:!0,video:!0}];function _m(n){return n instanceof DOMException&&(n.name==="NotAllowedError"||n.name==="PermissionDeniedError")}async function Np(){if(!navigator.mediaDevices?.getUserMedia)throw new Error(yi.MEDIA_UNSUPPORTED);let n=null;for(const o of V4)try{return await navigator.mediaDevices.getUserMedia(o)}catch(l){if(_m(l))throw new Error(yi.DEVICE_DENIED,{cause:l});n=l}throw _m(n)?new Error(yi.DEVICE_DENIED,{cause:n}):new Error(yi.MEDIA_UNSUPPORTED,{cause:n})}function X4(n){switch(n){case"new":return"Ready";case"connecting":return"Connecting";case"connected":return"Connected";case"disconnected":return"Reconnecting";case"failed":return"Connection failed";case"closed":return"Call ended";default:return n}}function ym(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function Y4(n){try{return JSON.parse(n)}catch{return null}}function Em(n){if(!n||typeof n!="object")return null;const o=n;if(typeof o.sdp!="string")return null;const l=o.type==="offer"?"offer":o.type==="answer"?"answer":null;return l?{sdp:o.sdp,type:l}:null}function q4(n){if(!n||typeof n!="object")return null;const o=n;return typeof o.candidate!="string"?null:o}function K4(n){const o={urls:["stun:stun.l.google.com:19302"]};return n.urls.length===0?[o]:n.username&&n.credential?[{urls:n.urls,username:n.username,credential:n.credential},o]:[{urls:n.urls},o]}function Q4({apiBaseUrl:n,roomId:o,inviteUrl:l,role:d,displayName:m,onLeave:p}){const[A,b]=Ie.useState("Preparing your meeting..."),[S,y]=Ie.useState(""),[v,I]=Ie.useState("new"),[k,L]=Ie.useState(null),[G,re]=Ie.useState(null),[ue,be]=Ie.useState(!0),[me,X]=Ie.useState(!0),[q,Se]=Ie.useState(!1),[Ee,Z]=Ie.useState(!1),[we,te]=Ie.useState(""),[Oe,Te]=Ie.useState([]),[Ne,Qe]=Ie.useState(""),Je=Ie.useRef(null),Q=Ie.useRef(null),$=Ie.useRef(null),se=Ie.useRef(null),ke=Ie.useRef(null),qe=Ie.useRef(null),$e=Ie.useRef(!1),P=Ie.useRef(null),J=Ie.useRef(null),Ae=Ie.useRef(null),Ce=Ie.useRef(!0),Ye=Ie.useRef(crypto.randomUUID()),ye=Ie.useMemo(()=>X4(v),[v]);Ie.useEffect(()=>{$.current=k,Je.current&&(Je.current.srcObject=k)},[k]),Ie.useEffect(()=>{Q.current&&(Q.current.srcObject=G)},[G]),Ie.useEffect(()=>{Ce.current=!0;const Me=lt=>{Te(Pe=>[...Pe,lt])},ht=lt=>{const Pe=ke.current;!Pe||Pe.readyState!==WebSocket.OPEN||Pe.send(JSON.stringify(lt))},At=async()=>{if($e.current)return;const lt=se.current;if(lt&&lt.signalingState==="stable"){$e.current=!0;try{b("Calling peer...");const Pe=await lt.createOffer();await lt.setLocalDescription(Pe),ht({type:"offer",toPeerId:Ae.current??void 0,payload:{type:Pe.type,sdp:Pe.sdp,displayName:m}})}catch(Pe){y(Pe instanceof Error?Pe.message:"Could not create call offer.")}finally{$e.current=!1}}};return(async()=>{try{y(""),b("Checking meeting room..."),await H4(n,o);const lt=await Z4(n,Ye.current);b("Getting camera and microphone...");const Pe=await Np();if(!Ce.current){Pe.getTracks().forEach(sn=>sn.stop());return}L(Pe),P.current=Pe.getVideoTracks()[0]??null,be(Pe.getAudioTracks()[0]?.enabled??!0),X(Pe.getVideoTracks()[0]?.enabled??!0);const Ze=new RTCPeerConnection({iceServers:K4(lt)});se.current=Ze,Pe.getTracks().forEach(sn=>{Ze.addTrack(sn,Pe)}),Ze.ontrack=sn=>{const[bt]=sn.streams;bt&&re(bt)},Ze.onconnectionstatechange=()=>{const sn=Ze.connectionState;I(sn),sn==="connected"&&b("You are connected."),sn==="failed"&&y("Connection failed. Please leave and try the link again.")},Ze.onicecandidate=sn=>{sn.candidate&&ht({type:"ice-candidate",toPeerId:Ae.current??void 0,payload:sn.candidate.toJSON()})},b("Connecting to meeting service...");const Ai=j4(n,{roomId:o,peerId:Ye.current,role:d}),Re=new WebSocket(Ai);ke.current=Re,Re.onopen=()=>{b(d==="host"?"Meeting started. Waiting for someone to join.":"Joining meeting..."),qe.current=window.setInterval(()=>{ht({type:"heartbeat"})},2e4)},Re.onmessage=async sn=>{const bt=Y4(String(sn.data));if(bt){if(bt.type==="session-joined"){const We=bt.payload&&typeof bt.payload=="object"?bt.payload:null;(We&&typeof We.participantCount=="number"?We.participantCount:1)>1&&d==="host"&&await At();return}if(bt.type==="peer-joined"){bt.fromPeerId&&(Ae.current=bt.fromPeerId),b("Peer joined. Starting secure call..."),d==="host"&&await At();return}if(bt.type==="peer-left"){b("Peer left the meeting."),re(null),I("disconnected");return}if(bt.type==="offer"&&d==="guest"){const We=Em(bt.payload);if(!We)return;bt.fromPeerId&&(Ae.current=bt.fromPeerId);try{await Ze.setRemoteDescription(We);const Un=await Ze.createAnswer();await Ze.setLocalDescription(Un),ht({type:"answer",payload:{type:Un.type,sdp:Un.sdp,displayName:m}}),b("Joining call...")}catch(Un){y(Un instanceof Error?Un.message:"Could not answer host offer.")}return}if(bt.type==="answer"&&d==="host"){const We=Em(bt.payload);if(!We||Ze.signalingState!=="have-local-offer")return;try{await Ze.setRemoteDescription(We),b("Peer answered. Finalizing connection...")}catch(Un){y(Un instanceof Error?Un.message:"Could not apply peer answer.")}return}if(bt.type==="ice-candidate"){const We=q4(bt.payload);if(!We)return;try{await Ze.addIceCandidate(We)}catch{}return}if(bt.type==="chat"){const We=bt.payload&&typeof bt.payload=="object"?bt.payload:null;if(!We||typeof We.text!="string")return;Me({id:ym(),from:"remote",name:typeof We.displayName=="string"&&We.displayName.trim().length>0?We.displayName:"Peer",text:We.text,timestamp:Date.now()});return}if(bt.type==="error"){const We=bt.payload&&typeof bt.payload=="object"?bt.payload:null;y(We&&typeof We.message=="string"?We.message:"A signaling error occurred.")}}},Re.onerror=()=>{Ce.current&&y("Lost connection to meeting service. Please reload and retry.")},Re.onclose=()=>{Ce.current&&qe.current!==null&&(clearInterval(qe.current),qe.current=null)}}catch(lt){y(lt instanceof Error?lt.message:"Could not prepare this meeting. Please retry.")}})(),()=>{Ce.current=!1,qe.current!==null&&(clearInterval(qe.current),qe.current=null);const lt=ke.current;ke.current=null,lt&&lt.close();const Pe=se.current;se.current=null,Pe&&Pe.close(),J.current?.stop(),J.current=null,$.current?.getTracks().forEach(Ze=>Ze.stop()),$.current=null,L(null),re(null)}},[n,m,d,o]);const ct=()=>{const Me=ke.current,ht=we.trim();!Me||Me.readyState!==WebSocket.OPEN||!ht||(Me.send(JSON.stringify({type:"chat",payload:{text:ht,displayName:m}})),Te(At=>[...At,{id:ym(),from:"local",name:m,text:ht,timestamp:Date.now()}]),te(""))},rt=()=>{const Me=$.current;if(!Me)return;const ht=!ue;Me.getAudioTracks().forEach(At=>{At.enabled=ht}),be(ht)},It=()=>{const Me=$.current;if(!Me)return;const ht=!me;Me.getVideoTracks().forEach(At=>{At.enabled=ht}),X(ht)},Zn=async()=>{try{if(!navigator.mediaDevices?.getDisplayMedia){y("Screen sharing is not supported in this browser.");return}const Me=se.current;if(!Me)return;const ht=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1}),[At]=ht.getVideoTracks();if(!At){y("No screen track was captured.");return}const zn=Me.getSenders().find(lt=>lt.track?.kind==="video");if(!zn){y("No video sender is available for screen sharing."),At.stop();return}await zn.replaceTrack(At),J.current=At,Se(!0),b("Screen sharing is on."),At.addEventListener("ended",()=>{Qt()})}catch{y("Could not start screen sharing.")}},Qt=async()=>{const Me=se.current;if(!Me)return;const ht=P.current,At=Me.getSenders().find(zn=>zn.track?.kind==="video");ht&&At&&await At.replaceTrack(ht),J.current?.stop(),J.current=null,Se(!1),b("Screen sharing is off.")},Ui=async()=>{try{await navigator.clipboard.writeText(l),Qe("Invite link copied.")}catch{Qe("Clipboard is blocked in this tab. Copy the link manually.")}};return ne.jsxs("section",{className:"meet-call-shell",children:[ne.jsxs("header",{className:"meet-call-topbar",children:[ne.jsxs("div",{children:[ne.jsxs("p",{className:"meet-pill",children:["Meeting code: ",o]}),ne.jsx("h2",{children:"Live meeting"}),ne.jsxs("p",{className:"muted",children:["Status: ",ne.jsx("strong",{children:ye})]}),ne.jsx("p",{className:"muted",children:A})]}),ne.jsxs("div",{className:"meet-top-actions",children:[ne.jsx("button",{type:"button",className:"meet-secondary",onClick:()=>{Ui()},children:"Copy invite link"}),ne.jsx("button",{type:"button",className:"meet-danger",onClick:p,children:"Leave meeting"})]})]}),Ne?ne.jsx("p",{className:"muted",children:Ne}):null,S?ne.jsx("p",{className:"error",children:S}):null,ne.jsxs("div",{className:`meet-stage ${Ee?"with-chat":""}`,children:[ne.jsxs("section",{className:"meet-video-stage",children:[G?ne.jsx("video",{className:"meet-remote-video",ref:Q,autoPlay:!0,playsInline:!0}):ne.jsx("div",{className:"meet-remote-placeholder",children:ne.jsx("p",{children:"Waiting for the other person to join this link."})}),ne.jsx("video",{className:"meet-local-video",ref:Je,muted:!0,autoPlay:!0,playsInline:!0})]}),Ee?ne.jsxs("aside",{className:"meet-chat-panel",children:[ne.jsx("h3",{children:"Chat"}),ne.jsxs("div",{className:"meet-chat-log",children:[Oe.length===0?ne.jsx("p",{className:"muted",children:"No messages yet."}):null,Oe.map(Me=>ne.jsxs("article",{className:`meet-chat-line ${Me.from}`,children:[ne.jsx("strong",{children:Me.from==="local"?"You":Me.name}),ne.jsx("p",{children:Me.text})]},Me.id))]}),ne.jsxs("div",{className:"meet-chat-compose",children:[ne.jsx("input",{value:we,onChange:Me=>te(Me.target.value.slice(0,500)),onKeyDown:Me=>{Me.key==="Enter"&&(Me.preventDefault(),ct())},placeholder:"Send a message"}),ne.jsx("button",{type:"button",className:"meet-secondary",onClick:ct,children:"Send"})]})]}):null]}),ne.jsxs("footer",{className:"meet-control-bar",children:[ne.jsx("button",{type:"button",className:"meet-control",onClick:rt,children:ue?"Mute":"Unmute"}),ne.jsx("button",{type:"button",className:"meet-control",onClick:It,children:me?"Camera off":"Camera on"}),ne.jsx("button",{type:"button",className:"meet-control",onClick:()=>{q?Qt():Zn()},children:q?"Stop share":"Share screen"}),ne.jsx("button",{type:"button",className:"meet-control",onClick:()=>Z(Me=>!Me),children:Ee?"Hide chat":"Chat"})]})]})}function W4({displayName:n,onDisplayNameChange:o,joinInput:l,onJoinInputChange:d,onCreateMeeting:m,onJoinMeeting:p,busy:A,statusText:b,errorText:S}){return ne.jsx("section",{className:"meet-home-shell",children:ne.jsxs("div",{className:"meet-home-card",children:[ne.jsx("p",{className:"meet-pill",children:"Simple 1:1 calling"}),ne.jsx("h2",{children:"Video calls that feel like Meet"}),ne.jsx("p",{className:"muted",children:"Start a new meeting link in one click, then send the link."}),ne.jsxs("label",{className:"meet-input-label",children:["Your name",ne.jsx("input",{value:n,onChange:y=>o(y.target.value),placeholder:"Guest name",autoComplete:"name"})]}),ne.jsx("div",{className:"meet-home-actions",children:ne.jsx("button",{type:"button",className:"meet-primary",onClick:()=>{m()},disabled:A,children:"New meeting"})}),ne.jsxs("div",{className:"meet-join-row",children:[ne.jsx("input",{value:l,onChange:y=>d(y.target.value),placeholder:"Enter a meeting code or full meeting link",autoComplete:"off"}),ne.jsx("button",{type:"button",className:"meet-secondary",onClick:p,disabled:A,children:"Join"})]}),b?ne.jsx("p",{className:"muted",children:b}):null,S?ne.jsx("p",{className:"error",children:S}):null]})})}const b1="p2p_display_name",Am="p2p_created_rooms",vu="p2p_host_room_session";function J4(n){if(!n)return[];try{const o=JSON.parse(n);return Array.isArray(o)?o.filter(l=>typeof l=="string"):[]}catch{return[]}}function bm(){return`Guest-${Math.floor(Math.random()*9e3)+1e3}`}function $4(){try{const n=window.localStorage.getItem(b1);if(n&&n.trim().length>0)return n;const o=bm();return window.localStorage.setItem(b1,o),o}catch{return bm()}}function eC(n){try{window.localStorage.setItem(b1,n)}catch{}}function tC(n){try{const o=new Set(J4(window.localStorage.getItem(Am)));o.add(n),window.localStorage.setItem(Am,JSON.stringify([...o]))}catch{}}function nC(){try{return window.sessionStorage.getItem(vu)}catch{return null}}function iC(n){try{window.sessionStorage.setItem(vu,n)}catch{}}function Cm(n){try{const o=window.sessionStorage.getItem(vu);(!n||o===n)&&window.sessionStorage.removeItem(vu)}catch{}}const Tu="#/quick",aC=/^[a-z0-9](?:[a-z0-9-]{4,62}[a-z0-9])$/u;function Op(n){const o=n.trim().toLowerCase();return!/^[a-z0-9-]+$/u.test(o)||!aC.test(o)?null:o}function pu(n){return n?`${Tu}/${n}`:Tu}function C1(n){const o=n.trim();if(!o||o==="#"||o==="#/")return{mode:"quick",roomId:null};if(!o.startsWith(Tu))return{mode:"advanced",roomId:null};const l=o.slice(Tu.length+1);if(!l)return{mode:"quick",roomId:null};let d="";try{d=decodeURIComponent(l)}catch{d=""}return{mode:"quick",roomId:Op(d)}}function Sm(n,o){return`${o.origin}${o.pathname}${o.search}${pu(n)}`}function rC(n){const o=Op(n);if(o)return o;try{const l=new URL(n),d=C1(l.hash);return d.mode==="quick"?d.roomId:null}catch{return null}}function lC({roomId:n,onRoomChange:o}){const[l,d]=Ie.useState(()=>$4()),[m,p]=Ie.useState(""),[A,b]=Ie.useState(!1),[S,y]=Ie.useState(""),[v,I]=Ie.useState(""),k=Ie.useMemo(()=>F4(),[]),L=Ie.useMemo(()=>n?Sm(n,{origin:window.location.origin,pathname:window.location.pathname,search:window.location.search}):"",[n]),G=n&&nC()===n?"host":"guest",re=async()=>{b(!0),I(""),y("Creating your new meeting link...");try{const me=await P4(k);tC(me.roomId),iC(me.roomId),o(me.roomId);const X=Sm(me.roomId,{origin:window.location.origin,pathname:window.location.pathname,search:window.location.search});try{await navigator.clipboard.writeText(X),y("Meeting link is ready and copied.")}catch{y("Meeting link is ready. Copy it from the call page.")}}catch(me){I(me instanceof Error?me.message:"Could not create the meeting right now.")}finally{b(!1)}},ue=()=>{I("");const me=rC(m.trim());if(!me){I("Use a full meeting link or a valid meeting code.");return}y(""),Cm(),o(me)},be=me=>{const X=me.trimStart().slice(0,40);d(X),X.trim().length>0&&eC(X)};return n?ne.jsx(Q4,{apiBaseUrl:k,roomId:n,inviteUrl:L,role:G,displayName:l||"Guest",onLeave:()=>{Cm(n),o(null)}}):ne.jsx(W4,{displayName:l,onDisplayNameChange:be,joinInput:m,onJoinInputChange:p,onCreateMeeting:re,onJoinMeeting:ue,busy:A,statusText:S,errorText:v})}var Be;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Be||(Be={}));var vm=new Map([[Be.QR_CODE,"QR_CODE"],[Be.AZTEC,"AZTEC"],[Be.CODABAR,"CODABAR"],[Be.CODE_39,"CODE_39"],[Be.CODE_93,"CODE_93"],[Be.CODE_128,"CODE_128"],[Be.DATA_MATRIX,"DATA_MATRIX"],[Be.MAXICODE,"MAXICODE"],[Be.ITF,"ITF"],[Be.EAN_13,"EAN_13"],[Be.EAN_8,"EAN_8"],[Be.PDF_417,"PDF_417"],[Be.RSS_14,"RSS_14"],[Be.RSS_EXPANDED,"RSS_EXPANDED"],[Be.UPC_A,"UPC_A"],[Be.UPC_E,"UPC_E"],[Be.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Tm;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(Tm||(Tm={}));function sC(n){return Object.values(Be).includes(n)}var Nu;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Nu||(Nu={}));var oC=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[Nu.SCAN_TYPE_CAMERA,Nu.SCAN_TYPE_FILE],n})(),Rp=(function(){function n(o,l){this.format=o,this.formatName=l}return n.prototype.toString=function(){return this.formatName},n.create=function(o){if(!vm.has(o))throw"".concat(o," not in html5QrcodeSupportedFormatsTextMap");return new n(o,vm.get(o))},n})(),Nm=(function(){function n(){}return n.createFromText=function(o){var l={text:o};return{decodedText:o,result:l}},n.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},n})(),S1;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(S1||(S1={}));var cC=(function(){function n(){}return n.createFrom=function(o){return{errorMessage:o,type:S1.UNKWOWN_ERROR}},n})(),uC=(function(){function n(o){this.verbose=o}return n.prototype.log=function(o){this.verbose&&console.log(o)},n.prototype.warn=function(o){this.verbose&&console.warn(o)},n.prototype.logError=function(o,l){(this.verbose||l===!0)&&console.error(o)},n.prototype.logErrors=function(o){if(o.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},n})();function Ja(n){return typeof n>"u"||n===null}var ws=(function(){function n(){}return n.codeParseError=function(o){return"QR code parse error, error = ".concat(o)},n.errorGettingUserMedia=function(o){return"Error getting userMedia, error = ".concat(o)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),Ip=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(o,l){if(typeof o!="object"){var d=typeof o;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(m),A=Object.keys(o),b=0,S=A;b<S.length;b++){var y=S[b];if(p.has(y))return l.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},n})(),Co={exports:{}},fC=Co.exports,Om;function hC(){return Om||(Om=1,(function(n,o){(function(l,d){d(o)})(fC,(function(l){function d(N){return N==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,t){N.__proto__=t}||function(N,t){for(var a in t)t.hasOwnProperty(a)&&(N[a]=t[a])};function p(N,t){m(N,t);function a(){this.constructor=N}N.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function A(N,t){var a=Object.setPrototypeOf;a?a(N,t):N.__proto__=t}function b(N,t){t===void 0&&(t=N.constructor);var a=Error.captureStackTrace;a&&a(N,t)}var S=(function(N){p(t,N);function t(a){var r=this.constructor,c=N.call(this,a)||this;return Object.defineProperty(c,"name",{value:r.name,enumerable:!1}),A(c,r.prototype),b(c),c}return t})(Error);class y extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}y.kind="Exception";class v extends y{}v.kind="ArgumentException";class I extends y{}I.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,a){return this.binarizer.getBlackRow(t,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,a,r,c){const u=this.binarizer.getLuminanceSource().crop(t,a,r,c);return new k(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends y{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class G{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class re{static arraycopy(t,a,r,c,u){for(;u--;)r[c++]=t[a++]}static currentTimeMillis(){return Date.now()}}class ue extends y{}ue.kind="IndexOutOfBoundsException";class be extends ue{constructor(t=void 0,a=void 0){super(a),this.index=t,this.message=a}}be.kind="ArrayIndexOutOfBoundsException";class me{static fill(t,a){for(let r=0,c=t.length;r<c;r++)t[r]=a}static fillWithin(t,a,r,c){me.rangeCheck(t.length,a,r);for(let u=a;u<r;u++)t[u]=c}static rangeCheck(t,a,r){if(a>r)throw new I("fromIndex("+a+") > toIndex("+r+")");if(a<0)throw new be(a);if(r>t)throw new be(r)}static asList(...t){return t}static create(t,a,r){return Array.from({length:t}).map(u=>Array.from({length:a}).fill(r))}static createInt32Array(t,a,r){return Array.from({length:t}).map(u=>Int32Array.from({length:a}).fill(r))}static equals(t,a){if(!t||!a||!t.length||!a.length||t.length!==a.length)return!1;for(let r=0,c=t.length;r<c;r++)if(t[r]!==a[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let a=1;for(const r of t)a=31*a+r;return a}static fillUint8Array(t,a){for(let r=0;r!==t.length;r++)t[r]=a}static copyOf(t,a){return t.slice(0,a)}static copyOfUint8Array(t,a){if(t.length<=a){const r=new Uint8Array(a);return r.set(t),r}return t.slice(0,a)}static copyOfRange(t,a,r){const c=r-a,u=new Int32Array(c);return re.arraycopy(t,a,u,0,c),u}static binarySearch(t,a,r){r===void 0&&(r=me.numberComparator);let c=0,u=t.length-1;for(;c<=u;){const h=u+c>>1,g=r(a,t[h]);if(g>0)c=h+1;else if(g<0)u=h-1;else return h}return-c-1}static numberComparator(t,a){return t-a}}class X{static numberOfTrailingZeros(t){let a;if(t===0)return 32;let r=31;return a=t<<16,a!==0&&(r-=16,t=a),a=t<<8,a!==0&&(r-=8,t=a),a=t<<4,a!==0&&(r-=4,t=a),a=t<<2,a!==0&&(r-=2,t=a),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let a=1;return t>>>16||(a+=16,t<<=16),t>>>24||(a+=8,t<<=8),t>>>28||(a+=4,t<<=4),t>>>30||(a+=2,t<<=2),a-=t>>>31,a}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,a){return Math.trunc(t/a)}static parseInt(t,a=void 0){return parseInt(t,a)}}X.MIN_VALUE_32_BITS=-2147483648,X.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(t,a){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,a==null?this.bits=q.makeArray(t):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const a=q.makeArray(t);re.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const a=this.size;if(t>=a)return a;const r=this.bits;let c=Math.floor(t/32),u=r[c];u&=~((1<<(t&31))-1);const h=r.length;for(;u===0;){if(++c===h)return a;u=r[c]}const g=c*32+X.numberOfTrailingZeros(u);return g>a?a:g}getNextUnset(t){const a=this.size;if(t>=a)return a;const r=this.bits;let c=Math.floor(t/32),u=~r[c];u&=~((1<<(t&31))-1);const h=r.length;for(;u===0;){if(++c===h)return a;u=~r[c]}const g=c*32+X.numberOfTrailingZeros(u);return g>a?a:g}setBulk(t,a){this.bits[Math.floor(t/32)]=a}setRange(t,a){if(a<t||t<0||a>this.size)throw new I;if(a===t)return;a--;const r=Math.floor(t/32),c=Math.floor(a/32),u=this.bits;for(let h=r;h<=c;h++){const g=h>r?0:t&31,E=(2<<(h<c?31:a&31))-(1<<g);u[h]|=E}}clear(){const t=this.bits.length,a=this.bits;for(let r=0;r<t;r++)a[r]=0}isRange(t,a,r){if(a<t||t<0||a>this.size)throw new I;if(a===t)return!0;a--;const c=Math.floor(t/32),u=Math.floor(a/32),h=this.bits;for(let g=c;g<=u;g++){const w=g>c?0:t&31,C=(2<<(g<u?31:a&31))-(1<<w)&4294967295;if((h[g]&C)!==(r?C:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,a){if(a<0||a>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let r=a;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const a=t.size;this.ensureCapacity(this.size+a);for(let r=0;r<a;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new I("Sizes don't match");const a=this.bits;for(let r=0,c=a.length;r<c;r++)a[r]^=t.bits[r]}toBytes(t,a,r,c){for(let u=0;u<c;u++){let h=0;for(let g=0;g<8;g++)this.get(t)&&(h|=1<<7-g),t++;a[r+u]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),r=a+1,c=this.bits;for(let u=0;u<r;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[a-u]=h}if(this.size!==r*32){const u=r*32-this.size;let h=t[0]>>>u;for(let g=1;g<r;g++){const w=t[g];h|=w<<32-u,t[g-1]=h,h=w>>>u}t[r-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof q))return!1;const a=t;return this.size===a.size&&me.equals(this.bits,a.bits)}hashCode(){return 31*this.size+me.hashCode(this.bits)}toString(){let t="";for(let a=0,r=this.size;a<r;a++)(a&7)===0&&(t+=" "),t+=this.get(a)?"X":".";return t}clone(){return new q(this.size,this.bits.slice())}}var Se;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Se||(Se={}));var Ee=Se;class Z extends y{static getFormatInstance(){return new Z}}Z.kind="FormatException";var we;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(we||(we={}));class te{constructor(t,a,r,...c){this.valueIdentifier=t,this.name=r,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=c,te.VALUE_IDENTIFIER_TO_ECI.set(t,this),te.NAME_TO_ECI.set(r,this);const u=this.values;for(let h=0,g=u.length;h!==g;h++){const w=u[h];te.VALUES_TO_ECI.set(w,this)}for(const h of c)te.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new Z("incorect value");const a=te.VALUES_TO_ECI.get(t);if(a===void 0)throw new Z("incorect value");return a}static getCharacterSetECIByName(t){const a=te.NAME_TO_ECI.get(t);if(a===void 0)throw new Z("incorect value");return a}equals(t){if(!(t instanceof te))return!1;const a=t;return this.getName()===a.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(we.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(we.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(we.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(we.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(we.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(we.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(we.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(we.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(we.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(we.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(we.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(we.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(we.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(we.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(we.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(we.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(we.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(we.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(we.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(we.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(we.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(we.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(we.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(we.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(we.Big5,28,"Big5"),te.GB18030=new te(we.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(we.EUC_KR,30,"EUC_KR","EUC-KR");class Oe extends y{}Oe.kind="UnsupportedOperationException";class Te{static decode(t,a){const r=this.encodingName(a);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!Te.isBrowser()&&t==="ISO-8859-1"}static encode(t,a){const r=this.encodingName(a);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof te?t:te.getCharacterSetECIByName(t)}static decodeFallback(t,a){const r=this.encodingCharacterSet(a);if(Te.isDecodeFallbackSupported(r)){let c="";for(let u=0,h=t.length;u<h;u++){let g=t[u].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(r.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Oe(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(te.UTF8)||t.equals(te.ISO8859_1)||t.equals(te.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),c=[];for(let u=0;u<r.length;u++)c.push(r[u].charCodeAt(0));return new Uint8Array(c)}}class Ne{static castAsNonUtf8Char(t,a=null){const r=a?a.getName():this.ISO88591;return Te.decode(new Uint8Array([t]),r)}static guessEncoding(t,a){if(a!=null&&a.get(Ee.CHARACTER_SET)!==void 0)return a.get(Ee.CHARACTER_SET).toString();const r=t.length;let c=!0,u=!0,h=!0,g=0,w=0,E=0,C=0,O=0,R=0,B=0,U=0,F=0,V=0,ie=0;const _e=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let pe=0;pe<r&&(c||u||h);pe++){const xe=t[pe]&255;h&&(g>0?(xe&128)===0?h=!1:g--:(xe&128)!==0&&((xe&64)===0?h=!1:(g++,(xe&32)===0?w++:(g++,(xe&16)===0?E++:(g++,(xe&8)===0?C++:h=!1))))),c&&(xe>127&&xe<160?c=!1:xe>159&&(xe<192||xe===215||xe===247)&&ie++),u&&(O>0?xe<64||xe===127||xe>252?u=!1:O--:xe===128||xe===160||xe>239?u=!1:xe>160&&xe<224?(R++,U=0,B++,B>F&&(F=B)):xe>127?(O++,B=0,U++,U>V&&(V=U)):(B=0,U=0))}return h&&g>0&&(h=!1),u&&O>0&&(u=!1),h&&(_e||w+E+C>0)?Ne.UTF8:u&&(Ne.ASSUME_SHIFT_JIS||F>=3||V>=3)?Ne.SHIFT_JIS:c&&u?F===2&&R===2||ie*10>=r?Ne.SHIFT_JIS:Ne.ISO88591:c?Ne.ISO88591:u?Ne.SHIFT_JIS:h?Ne.UTF8:Ne.PLATFORM_DEFAULT_ENCODING}static format(t,...a){let r=-1;function c(h,g,w,E,C,O){if(h==="%%")return"%";if(a[++r]===void 0)return;h=E?parseInt(E.substr(1)):void 0;let R=C?parseInt(C.substr(1)):void 0,B;switch(O){case"s":B=a[r];break;case"c":B=a[r][0];break;case"f":B=parseFloat(a[r]).toFixed(h);break;case"p":B=parseFloat(a[r]).toPrecision(h);break;case"e":B=parseFloat(a[r]).toExponential(h);break;case"x":B=parseInt(a[r]).toString(R||16);break;case"d":B=parseFloat(parseInt(a[r],R||10).toPrecision(h)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(R);let U=parseInt(w),F=w&&w[0]+""=="0"?"0":" ";for(;B.length<U;)B=g!==void 0?B+F:F+B;return B}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,c)}static getBytes(t,a){return Te.encode(t,a)}static getCharCode(t,a=0){return t.charCodeAt(a)}static getCharAt(t){return String.fromCharCode(t)}}Ne.SHIFT_JIS=te.SJIS.getName(),Ne.GB2312="GB2312",Ne.ISO88591=te.ISO8859_1.getName(),Ne.EUC_JP="EUC_JP",Ne.UTF8=te.UTF8.getName(),Ne.PLATFORM_DEFAULT_ENCODING=Ne.UTF8,Ne.ASSUME_SHIFT_JIS=!1;class Qe{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ne.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,a,r){for(let c=a;a<a+r;c++)this.append(t[c]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+1)}substring(t,a){return this.value.substring(t,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+a.length)}}class Je{constructor(t,a,r,c){if(this.width=t,this.height=a,this.rowSize=r,this.bits=c,a==null&&(a=t),this.height=a,t<1||a<1)throw new I("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const a=t.length,r=t[0].length,c=new Je(r,a);for(let u=0;u<a;u++){const h=t[u];for(let g=0;g<r;g++)h[g]&&c.set(g,u)}return c}static parseFromString(t,a,r){if(t===null)throw new I("stringRepresentation cannot be null");const c=new Array(t.length);let u=0,h=0,g=-1,w=0,E=0;for(;E<t.length;)if(t.charAt(E)===`
`||t.charAt(E)==="\r"){if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new I("row lengths do not match");h=u,w++}E++}else if(t.substring(E,E+a.length)===a)E+=a.length,c[u]=!0,u++;else if(t.substring(E,E+r.length)===r)E+=r.length,c[u]=!1,u++;else throw new I("illegal character encountered: "+t.substring(E));if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new I("row lengths do not match");w++}const C=new Je(g,w);for(let O=0;O<u;O++)c[O]&&C.set(Math.floor(O%g),Math.floor(O/g));return C}get(t,a){const r=a*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new I("input matrix dimensions do not match");const a=new q(Math.floor(this.width/32)+1),r=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const g=u*r,w=t.getRow(u,a).getBitArray();for(let E=0;E<r;E++)c[g+E]^=w[E]}}clear(){const t=this.bits,a=t.length;for(let r=0;r<a;r++)t[r]=0}setRegion(t,a,r,c){if(a<0||t<0)throw new I("Left and top must be nonnegative");if(c<1||r<1)throw new I("Height and width must be at least 1");const u=t+r,h=a+c;if(h>this.height||u>this.width)throw new I("The region must fit inside the matrix");const g=this.rowSize,w=this.bits;for(let E=a;E<h;E++){const C=E*g;for(let O=t;O<u;O++)w[C+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(t,a){a==null||a.getSize()<this.width?a=new q(this.width):a.clear();const r=this.rowSize,c=this.bits,u=t*r;for(let h=0;h<r;h++)a.setBulk(h*32,c[u+h]);return a}setRow(t,a){re.arraycopy(a.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),a=this.getHeight();let r=new q(t),c=new q(t);for(let u=0,h=Math.floor((a+1)/2);u<h;u++)r=this.getRow(u,r),c=this.getRow(a-1-u,c),r.reverse(),c.reverse(),this.setRow(u,c),this.setRow(a-1-u,r)}getEnclosingRectangle(){const t=this.width,a=this.height,r=this.rowSize,c=this.bits;let u=t,h=a,g=-1,w=-1;for(let E=0;E<a;E++)for(let C=0;C<r;C++){const O=c[E*r+C];if(O!==0){if(E<h&&(h=E),E>w&&(w=E),C*32<u){let R=0;for(;(O<<31-R&4294967295)===0;)R++;C*32+R<u&&(u=C*32+R)}if(C*32+31>g){let R=31;for(;!(O>>>R);)R--;C*32+R>g&&(g=C*32+R)}}}return g<u||w<h?null:Int32Array.from([u,h,g-u+1,w-h+1])}getTopLeftOnBit(){const t=this.rowSize,a=this.bits;let r=0;for(;r<a.length&&a[r]===0;)r++;if(r===a.length)return null;const c=r/t;let u=r%t*32;const h=a[r];let g=0;for(;(h<<31-g&4294967295)===0;)g++;return u+=g,Int32Array.from([u,c])}getBottomRightOnBit(){const t=this.rowSize,a=this.bits;let r=a.length-1;for(;r>=0&&a[r]===0;)r--;if(r<0)return null;const c=Math.floor(r/t);let u=Math.floor(r%t)*32;const h=a[r];let g=31;for(;!(h>>>g);)g--;return u+=g,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Je))return!1;const a=t;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&me.equals(this.bits,a.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+me.hashCode(this.bits),t}toString(t="X ",a="  ",r=`
`){return this.buildToString(t,a,r)}buildToString(t,a,r){let c=new Qe;for(let u=0,h=this.height;u<h;u++){for(let g=0,w=this.width;g<w;g++)c.append(this.get(g,u)?t:a);c.append(r)}return c.toString()}clone(){return new Je(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends y{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class $ extends G{constructor(t){super(t),this.luminances=$.EMPTY,this.buckets=new Int32Array($.LUMINANCE_BUCKETS)}getBlackRow(t,a){const r=this.getLuminanceSource(),c=r.getWidth();a==null||a.getSize()<c?a=new q(c):a.clear(),this.initArrays(c);const u=r.getRow(t,this.luminances),h=this.buckets;for(let w=0;w<c;w++)h[(u[w]&255)>>$.LUMINANCE_SHIFT]++;const g=$.estimateBlackPoint(h);if(c<3)for(let w=0;w<c;w++)(u[w]&255)<g&&a.set(w);else{let w=u[0]&255,E=u[1]&255;for(let C=1;C<c-1;C++){const O=u[C+1]&255;(E*4-w-O)/2<g&&a.set(C),w=E,E=O}}return a}getBlackMatrix(){const t=this.getLuminanceSource(),a=t.getWidth(),r=t.getHeight(),c=new Je(a,r);this.initArrays(a);const u=this.buckets;for(let w=1;w<5;w++){const E=Math.floor(r*w/5),C=t.getRow(E,this.luminances),O=Math.floor(a*4/5);for(let R=Math.floor(a/5);R<O;R++){const B=C[R]&255;u[B>>$.LUMINANCE_SHIFT]++}}const h=$.estimateBlackPoint(u),g=t.getMatrix();for(let w=0;w<r;w++){const E=w*a;for(let C=0;C<a;C++)(g[E+C]&255)<h&&c.set(C,w)}return c}createBinarizer(t){return new $(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const a=this.buckets;for(let r=0;r<$.LUMINANCE_BUCKETS;r++)a[r]=0}static estimateBlackPoint(t){const a=t.length;let r=0,c=0,u=0;for(let C=0;C<a;C++)t[C]>u&&(c=C,u=t[C]),t[C]>r&&(r=t[C]);let h=0,g=0;for(let C=0;C<a;C++){const O=C-c,R=t[C]*O*O;R>g&&(h=C,g=R)}if(c>h){const C=c;c=h,h=C}if(h-c<=a/16)throw new Q;let w=h-1,E=-1;for(let C=h-1;C>c;C--){const O=C-c,R=O*O*(h-C)*(r-t[C]);R>E&&(w=C,E=R)}return w<<$.LUMINANCE_SHIFT}}$.LUMINANCE_BITS=5,$.LUMINANCE_SHIFT=8-$.LUMINANCE_BITS,$.LUMINANCE_BUCKETS=1<<$.LUMINANCE_BITS,$.EMPTY=Uint8ClampedArray.from([0]);class se extends ${constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),a=t.getWidth(),r=t.getHeight();if(a>=se.MINIMUM_DIMENSION&&r>=se.MINIMUM_DIMENSION){const c=t.getMatrix();let u=a>>se.BLOCK_SIZE_POWER;(a&se.BLOCK_SIZE_MASK)!==0&&u++;let h=r>>se.BLOCK_SIZE_POWER;(r&se.BLOCK_SIZE_MASK)!==0&&h++;const g=se.calculateBlackPoints(c,u,h,a,r),w=new Je(a,r);se.calculateThresholdForBlock(c,u,h,a,r,g,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new se(t)}static calculateThresholdForBlock(t,a,r,c,u,h,g){const w=u-se.BLOCK_SIZE,E=c-se.BLOCK_SIZE;for(let C=0;C<r;C++){let O=C<<se.BLOCK_SIZE_POWER;O>w&&(O=w);const R=se.cap(C,2,r-3);for(let B=0;B<a;B++){let U=B<<se.BLOCK_SIZE_POWER;U>E&&(U=E);const F=se.cap(B,2,a-3);let V=0;for(let _e=-2;_e<=2;_e++){const pe=h[R+_e];V+=pe[F-2]+pe[F-1]+pe[F]+pe[F+1]+pe[F+2]}const ie=V/25;se.thresholdBlock(t,U,O,ie,c,g)}}}static cap(t,a,r){return t<a?a:t>r?r:t}static thresholdBlock(t,a,r,c,u,h){for(let g=0,w=r*u+a;g<se.BLOCK_SIZE;g++,w+=u)for(let E=0;E<se.BLOCK_SIZE;E++)(t[w+E]&255)<=c&&h.set(a+E,r+g)}static calculateBlackPoints(t,a,r,c,u){const h=u-se.BLOCK_SIZE,g=c-se.BLOCK_SIZE,w=new Array(r);for(let E=0;E<r;E++){w[E]=new Int32Array(a);let C=E<<se.BLOCK_SIZE_POWER;C>h&&(C=h);for(let O=0;O<a;O++){let R=O<<se.BLOCK_SIZE_POWER;R>g&&(R=g);let B=0,U=255,F=0;for(let ie=0,_e=C*c+R;ie<se.BLOCK_SIZE;ie++,_e+=c){for(let pe=0;pe<se.BLOCK_SIZE;pe++){const xe=t[_e+pe]&255;B+=xe,xe<U&&(U=xe),xe>F&&(F=xe)}if(F-U>se.MIN_DYNAMIC_RANGE)for(ie++,_e+=c;ie<se.BLOCK_SIZE;ie++,_e+=c)for(let pe=0;pe<se.BLOCK_SIZE;pe++)B+=t[_e+pe]&255}let V=B>>se.BLOCK_SIZE_POWER*2;if(F-U<=se.MIN_DYNAMIC_RANGE&&(V=U/2,E>0&&O>0)){const ie=(w[E-1][O]+2*w[E][O-1]+w[E-1][O-1])/4;U<ie&&(V=ie)}w[E][O]=V}}return w}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class ke{constructor(t,a){this.width=t,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,a,r,c){throw new Oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Oe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let a=new Qe;for(let r=0;r<this.height;r++){const c=this.getRow(r,t);for(let u=0;u<this.width;u++){const h=c[u]&255;let g;h<64?g="#":h<128?g="+":h<192?g=".":g=" ",a.append(g)}a.append(`
`)}return a.toString()}}class qe extends ke{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,a){const r=this.delegate.getRow(t,a),c=this.getWidth();for(let u=0;u<c;u++)r[u]=255-(r[u]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(a);for(let c=0;c<a;c++)r[c]=255-(t[c]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,a,r,c){return new qe(this.delegate.crop(t,a,r,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new qe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new qe(this.delegate.rotateCounterClockwise45())}}class $e extends ke{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=$e.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const a=t.getContext("2d").getImageData(0,0,t.width,t.height);return $e.toGrayscaleBuffer(a.data,t.width,t.height)}static toGrayscaleBuffer(t,a,r){const c=new Uint8ClampedArray(a*r);for(let u=0,h=0,g=t.length;u<g;u+=4,h++){let w;if(t[u+3]===0)w=255;else{const C=t[u],O=t[u+1],R=t[u+2];w=306*C+601*O+117*R+512>>10}c[h]=w}return c}getRow(t,a){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const r=this.getWidth(),c=t*r;return a===null?a=this.buffer.slice(c,c+r):(a.length<r&&(a=new Uint8ClampedArray(r)),a.set(this.buffer.slice(c,c+r))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,a,r,c){return super.crop(t,a,r,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const a=this.getTempCanvasElement(),r=a.getContext("2d"),c=t*$e.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),w=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return a.width=g,a.height=w,r.translate(g/2,w/2),r.rotate(c),r.drawImage(this.canvas,u/-2,h/-2),this.buffer=$e.makeBufferFromCanvasImageData(a),this}invert(){return new qe(this)}}$e.DEGREE_TO_RADIANS=Math.PI/180;class P{constructor(t,a,r){this.deviceId=t,this.label=a,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var J=(globalThis||au||self||window||void 0)&&(globalThis||au||self||window||void 0).__awaiter||function(N,t,a,r){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function g(C){try{E(r.next(C))}catch(O){h(O)}}function w(C){try{E(r.throw(C))}catch(O){h(O)}}function E(C){C.done?u(C.value):c(C.value).then(g,w)}E((r=r.apply(N,t||[])).next())})};class Ae{constructor(t,a=500,r){this.reader=t,this.timeBetweenScansMillis=a,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return J(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const r of t){const c=r.kind==="video"?"videoinput":r.kind;if(c!=="videoinput")continue;const u=r.deviceId||r.id,h=r.label||`Video device ${a.length+1}`,g=r.groupId,w={deviceId:u,label:h,kind:c,groupId:g};a.push(w)}return a})}getVideoInputDevices(){return J(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new P(a.deviceId,a.label))})}findDeviceById(t){return J(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,a){return J(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,a)})}decodeOnceFromVideoDevice(t,a){return J(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const c={video:r};return yield this.decodeOnceFromConstraints(c,a)})}decodeOnceFromConstraints(t,a){return J(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,a)})}decodeOnceFromStream(t,a){return J(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,a);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,a,r){return J(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,a,r)})}decodeFromVideoDevice(t,a,r){return J(this,void 0,void 0,function*(){let c;t?c={deviceId:{exact:t}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,a,r)})}decodeFromConstraints(t,a,r){return J(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(c,a,r)})}decodeFromStream(t,a,r){return J(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(t,a);return yield this.decodeContinuously(c,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,a){return J(this,void 0,void 0,function*(){const r=this.prepareVideoElement(a);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((a,r)=>this.playVideoOnLoad(t,()=>a()))}playVideoOnLoad(t,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",a),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return J(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,a){const r=document.getElementById(t);if(!r)throw new v(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==a.toLowerCase())throw new v(`element with id '${t}' must be an ${a} element`);return r}decodeFromImage(t,a){if(!t&&!a)throw new v("either imageElement with a src set or an url must be provided");return a&&!t?this.decodeFromImageUrl(a):this.decodeFromImageElement(t)}decodeFromVideo(t,a){if(!t&&!a)throw new v("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,a,r){if(t===void 0&&a===void 0)throw new v("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrlContinuously(a,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new v("An image element must be provided.");this.reset();const a=this.prepareImageElement(t);this.imageElement=a;let r;return this.isImageLoaded(a)?r=this.decodeOnce(a,!1,!0):r=this._decodeOnLoadImage(a),r}decodeFromVideoElement(t){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(t,a){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,a)}_decodeFromVideoElementSetup(t){if(!t)throw new v("A video element must be provided.");this.reset();const a=this.prepareVideoElement(t);return this.videoElement=a,a}decodeFromImageUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const r=this._decodeOnLoadImage(a);return a.src=t,r}decodeFromVideoUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),r=this.decodeFromVideoElement(a);return a.src=t,r}decodeFromVideoUrlContinuously(t,a){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(r,a);return r.src=t,c}_decodeOnLoadImage(t){return new Promise((a,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(a,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return J(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,a){return J(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,a)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let a;return typeof t>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(a=t),a}prepareVideoElement(t){let a;return!t&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(a=t),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(t,a=!0,r=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);u(g)}catch(g){const w=a&&g instanceof Q,C=(g instanceof L||g instanceof Z)&&r;if(w||C)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(g)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(t,a){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(t);a(c,null),setTimeout(r,this.timeBetweenScansMillis)}catch(c){a(null,c);const u=c instanceof L||c instanceof Z,h=c instanceof Q;(u||h)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const a=this.createBinaryBitmap(t);return this.decodeBitmap(a)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,a,r){a||(a={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(t,a,r=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const a=this.getCaptureCanvas(t),r=new $e(a),c=new se(r);return new k(c)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const a=this.createCaptureCanvas(t);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let r,c;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,c=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,c=t.naturalHeight||t.height)),a.style.width=r+"px",a.style.height=c+"px",a.width=r,a.height=c,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,a){try{t.srcObject=a}catch{t.src=URL.createObjectURL(a)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Ce{constructor(t,a,r=a==null?0:8*a.length,c,u,h=re.currentTimeMillis()){this.text=t,this.rawBytes=a,this.numBits=r,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=t,this.rawBytes=a,r==null?this.numBits=a==null?0:8*a.length:this.numBits=r,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=re.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,a)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const a=this.resultPoints;if(a===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(a.length+t.length);re.arraycopy(a,0,r,0,a.length),re.arraycopy(t,0,r,a.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ye;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ye||(Ye={}));var ye=Ye,ct;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ct||(ct={}));var rt=ct;class It{constructor(t,a,r,c,u=-1,h=-1){this.rawBytes=t,this.text=a,this.byteSegments=r,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Zn{exp(t){return this.expTable[t]}log(t){if(t===0)throw new I;return this.logTable[t]}static addOrSubtract(t,a){return t^a}}class Qt{constructor(t,a){if(a.length===0)throw new I;this.field=t;const r=a.length;if(r>1&&a[0]===0){let c=1;for(;c<r&&a[c]===0;)c++;c===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-c),re.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const a=this.coefficients;let r;if(t===1){r=0;for(let h=0,g=a.length;h!==g;h++){const w=a[h];r=Zn.addOrSubtract(r,w)}return r}r=a[0];const c=a.length,u=this.field;for(let h=1;h<c;h++)r=Zn.addOrSubtract(u.multiply(t,r),a[h]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,r=t.coefficients;if(a.length>r.length){const h=a;a=r,r=h}let c=new Int32Array(r.length);const u=r.length-a.length;re.arraycopy(r,0,c,0,u);for(let h=u;h<r.length;h++)c[h]=Zn.addOrSubtract(a[h-u],r[h]);return new Qt(this.field,c)}multiply(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const a=this.coefficients,r=a.length,c=t.coefficients,u=c.length,h=new Int32Array(r+u-1),g=this.field;for(let w=0;w<r;w++){const E=a[w];for(let C=0;C<u;C++)h[w+C]=Zn.addOrSubtract(h[w+C],g.multiply(E,c[C]))}return new Qt(g,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const a=this.coefficients.length,r=this.field,c=new Int32Array(a),u=this.coefficients;for(let h=0;h<a;h++)c[h]=r.multiply(u[h],t);return new Qt(r,c)}multiplyByMonomial(t,a){if(t<0)throw new I;if(a===0)return this.field.getZero();const r=this.coefficients,c=r.length,u=new Int32Array(c+t),h=this.field;for(let g=0;g<c;g++)u[g]=h.multiply(r[g],a);return new Qt(h,u)}divide(t){if(!this.field.equals(t.field))throw new I("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new I("Divide by 0");const a=this.field;let r=a.getZero(),c=this;const u=t.getCoefficient(t.getDegree()),h=a.inverse(u);for(;c.getDegree()>=t.getDegree()&&!c.isZero();){const g=c.getDegree()-t.getDegree(),w=a.multiply(c.getCoefficient(c.getDegree()),h),E=t.multiplyByMonomial(g,w),C=a.buildMonomial(g,w);r=r.addOrSubtract(C),c=c.addOrSubtract(E)}return[r,c]}toString(){let t="";for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),a===0||r!==1){const c=this.field.log(r);c===0?t+="1":c===1?t+="a":(t+="a^",t+=c)}a!==0&&(a===1?t+="x":(t+="x^",t+=a))}}return t}}class Ui extends y{}Ui.kind="ArithmeticException";class Me extends Zn{constructor(t,a,r){super(),this.primitive=t,this.size=a,this.generatorBase=r;const c=new Int32Array(a);let u=1;for(let g=0;g<a;g++)c[g]=u,u*=2,u>=a&&(u^=t,u&=a-1);this.expTable=c;const h=new Int32Array(a);for(let g=0;g<a-1;g++)h[c[g]]=g;this.logTable=h,this.zero=new Qt(this,Int32Array.from([0])),this.one=new Qt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new I;if(a===0)return this.zero;const r=new Int32Array(t+1);return r[0]=a,new Qt(this,r)}inverse(t){if(t===0)throw new Ui;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+X.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class ht extends y{}ht.kind="ReedSolomonException";class At extends y{}At.kind="IllegalStateException";class zn{constructor(t){this.field=t}decode(t,a){const r=this.field,c=new Qt(r,t),u=new Int32Array(a);let h=!0;for(let B=0;B<a;B++){const U=c.evaluateAt(r.exp(B+r.getGeneratorBase()));u[u.length-1-B]=U,U!==0&&(h=!1)}if(h)return;const g=new Qt(r,u),w=this.runEuclideanAlgorithm(r.buildMonomial(a,1),g,a),E=w[0],C=w[1],O=this.findErrorLocations(E),R=this.findErrorMagnitudes(C,O);for(let B=0;B<O.length;B++){const U=t.length-1-r.log(O[B]);if(U<0)throw new ht("Bad error location");t[U]=Me.addOrSubtract(t[U],R[B])}}runEuclideanAlgorithm(t,a,r){if(t.getDegree()<a.getDegree()){const B=t;t=a,a=B}const c=this.field;let u=t,h=a,g=c.getZero(),w=c.getOne();for(;h.getDegree()>=(r/2|0);){let B=u,U=g;if(u=h,g=w,u.isZero())throw new ht("r_{i-1} was zero");h=B;let F=c.getZero();const V=u.getCoefficient(u.getDegree()),ie=c.inverse(V);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const _e=h.getDegree()-u.getDegree(),pe=c.multiply(h.getCoefficient(h.getDegree()),ie);F=F.addOrSubtract(c.buildMonomial(_e,pe)),h=h.addOrSubtract(u.multiplyByMonomial(_e,pe))}if(w=F.multiply(g).addOrSubtract(U),h.getDegree()>=u.getDegree())throw new At("Division algorithm failed to reduce polynomial?")}const E=w.getCoefficient(0);if(E===0)throw new ht("sigmaTilde(0) was zero");const C=c.inverse(E),O=w.multiplyScalar(C),R=h.multiplyScalar(C);return[O,R]}findErrorLocations(t){const a=t.getDegree();if(a===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(a);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<a;h++)t.evaluateAt(h)===0&&(r[c]=u.inverse(h),c++);if(c!==a)throw new ht("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,a){const r=a.length,c=new Int32Array(r),u=this.field;for(let h=0;h<r;h++){const g=u.inverse(a[h]);let w=1;for(let E=0;E<r;E++)if(h!==E){const C=u.multiply(a[E],g),O=(C&1)===0?C|1:C&-2;w=u.multiply(w,O)}c[h]=u.multiply(t.evaluateAt(g),u.inverse(w)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],g))}return c}}var lt;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(lt||(lt={}));class Pe{decode(t){this.ddata=t;let a=t.getBits(),r=this.extractBits(a),c=this.correctBits(r),u=Pe.convertBoolArrayToByteArray(c),h=Pe.getEncodedData(c),g=new It(u,h,null,null);return g.setNumBits(c.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let a=t.length,r=lt.UPPER,c=lt.UPPER,u="",h=0;for(;h<a;)if(c===lt.BINARY){if(a-h<5)break;let g=Pe.readCode(t,h,5);if(h+=5,g===0){if(a-h<11)break;g=Pe.readCode(t,h,11)+31,h+=11}for(let w=0;w<g;w++){if(a-h<8){h=a;break}const E=Pe.readCode(t,h,8);u+=Ne.castAsNonUtf8Char(E),h+=8}c=r}else{let g=c===lt.DIGIT?4:5;if(a-h<g)break;let w=Pe.readCode(t,h,g);h+=g;let E=Pe.getCharacter(c,w);E.startsWith("CTRL_")?(r=c,c=Pe.getTable(E.charAt(5)),E.charAt(6)==="L"&&(r=c)):(u+=E,c=r)}return u}static getTable(t){switch(t){case"L":return lt.LOWER;case"P":return lt.PUNCT;case"M":return lt.MIXED;case"D":return lt.DIGIT;case"B":return lt.BINARY;default:return lt.UPPER}}static getCharacter(t,a){switch(t){case lt.UPPER:return Pe.UPPER_TABLE[a];case lt.LOWER:return Pe.LOWER_TABLE[a];case lt.MIXED:return Pe.MIXED_TABLE[a];case lt.PUNCT:return Pe.PUNCT_TABLE[a];case lt.DIGIT:return Pe.DIGIT_TABLE[a];default:throw new At("Bad table")}}correctBits(t){let a,r;this.ddata.getNbLayers()<=2?(r=6,a=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,a=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,a=Me.AZTEC_DATA_10):(r=12,a=Me.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=t.length/r;if(u<c)throw new Z;let h=t.length%r,g=new Int32Array(u);for(let R=0;R<u;R++,h+=r)g[R]=Pe.readCode(t,h,r);try{new zn(a).decode(g,u-c)}catch(R){throw new Z(R)}let w=(1<<r)-1,E=0;for(let R=0;R<c;R++){let B=g[R];if(B===0||B===w)throw new Z;(B===1||B===w-1)&&E++}let C=new Array(c*r-E),O=0;for(let R=0;R<c;R++){let B=g[R];if(B===1||B===w-1)C.fill(B>1,O,O+r-1),O+=r-1;else for(let U=r-1;U>=0;--U)C[O++]=(B&1<<U)!==0}return C}extractBits(t){let a=this.ddata.isCompact(),r=this.ddata.getNbLayers(),c=(a?11:14)+r*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(r,a));if(a)for(let g=0;g<u.length;g++)u[g]=g;else{let g=c+1+2*X.truncDivision(X.truncDivision(c,2)-1,15),w=c/2,E=X.truncDivision(g,2);for(let C=0;C<w;C++){let O=C+X.truncDivision(C,15);u[w-C-1]=E-O-1,u[w+C]=E+O+1}}for(let g=0,w=0;g<r;g++){let E=(r-g)*4+(a?9:12),C=g*2,O=c-1-C;for(let R=0;R<E;R++){let B=R*2;for(let U=0;U<2;U++)h[w+B+U]=t.get(u[C+U],u[C+R]),h[w+2*E+B+U]=t.get(u[C+R],u[O-U]),h[w+4*E+B+U]=t.get(u[O-U],u[O-R]),h[w+6*E+B+U]=t.get(u[O-R],u[C+U])}w+=E*8}return h}static readCode(t,a,r){let c=0;for(let u=a;u<a+r;u++)c<<=1,t[u]&&(c|=1);return c}static readByte(t,a){let r=t.length-a;return r>=8?Pe.readCode(t,a,8):Pe.readCode(t,a,r)<<8-r}static convertBoolArrayToByteArray(t){let a=new Uint8Array((t.length+7)/8);for(let r=0;r<a.length;r++)a[r]=Pe.readByte(t,8*r);return a}totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}Pe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Pe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Pe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Pe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Pe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ze{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,a,r,c){const u=t-r,h=a-c;return Math.sqrt(u*u+h*h)}static sum(t){let a=0;for(let r=0,c=t.length;r!==c;r++){const u=t[r];a+=u}return a}}class Ai{static floatToIntBits(t){return t}}Ai.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Re{constructor(t,a){this.x=t,this.y=a}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Re){const a=t;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*Ai.floatToIntBits(this.x)+Ai.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const a=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),c=this.distance(t[0],t[2]);let u,h,g;if(r>=a&&r>=c?(h=t[0],u=t[1],g=t[2]):c>=r&&c>=a?(h=t[1],u=t[0],g=t[2]):(h=t[2],u=t[0],g=t[1]),this.crossProductZ(u,h,g)<0){const w=u;u=g,g=w}t[0]=u,t[1]=h,t[2]=g}static distance(t,a){return Ze.distance(t.x,t.y,a.x,a.y)}static crossProductZ(t,a,r){const c=a.x,u=a.y;return(r.x-c)*(t.y-u)-(r.y-u)*(t.x-c)}}class sn{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class bt extends sn{constructor(t,a,r,c,u){super(t,a),this.compact=r,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class We{constructor(t,a,r,c){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),a==null&&(a=We.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),c==null&&(c=t.getHeight()/2|0);const u=a/2|0;if(this.leftInit=r-u,this.rightInit=r+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let t=this.leftInit,a=this.rightInit,r=this.upInit,c=this.downInit,u=!1,h=!0,g=!1,w=!1,E=!1,C=!1,O=!1;const R=this.width,B=this.height;for(;h;){h=!1;let U=!0;for(;(U||!w)&&a<R;)U=this.containsBlackPoint(r,c,a,!1),U?(a++,h=!0,w=!0):w||a++;if(a>=R){u=!0;break}let F=!0;for(;(F||!E)&&c<B;)F=this.containsBlackPoint(t,a,c,!0),F?(c++,h=!0,E=!0):E||c++;if(c>=B){u=!0;break}let V=!0;for(;(V||!C)&&t>=0;)V=this.containsBlackPoint(r,c,t,!1),V?(t--,h=!0,C=!0):C||t--;if(t<0){u=!0;break}let ie=!0;for(;(ie||!O)&&r>=0;)ie=this.containsBlackPoint(t,a,r,!0),ie?(r--,h=!0,O=!0):O||r--;if(r<0){u=!0;break}h&&(g=!0)}if(!u&&g){const U=a-t;let F=null;for(let pe=1;F===null&&pe<U;pe++)F=this.getBlackPointOnSegment(t,c-pe,t+pe,c);if(F==null)throw new Q;let V=null;for(let pe=1;V===null&&pe<U;pe++)V=this.getBlackPointOnSegment(t,r+pe,t+pe,r);if(V==null)throw new Q;let ie=null;for(let pe=1;ie===null&&pe<U;pe++)ie=this.getBlackPointOnSegment(a,r+pe,a-pe,r);if(ie==null)throw new Q;let _e=null;for(let pe=1;_e===null&&pe<U;pe++)_e=this.getBlackPointOnSegment(a,c-pe,a-pe,c);if(_e==null)throw new Q;return this.centerEdges(_e,F,ie,V)}else throw new Q}getBlackPointOnSegment(t,a,r,c){const u=Ze.round(Ze.distance(t,a,r,c)),h=(r-t)/u,g=(c-a)/u,w=this.image;for(let E=0;E<u;E++){const C=Ze.round(t+E*h),O=Ze.round(a+E*g);if(w.get(C,O))return new Re(C,O)}return null}centerEdges(t,a,r,c){const u=t.getX(),h=t.getY(),g=a.getX(),w=a.getY(),E=r.getX(),C=r.getY(),O=c.getX(),R=c.getY(),B=We.CORR;return u<this.width/2?[new Re(O-B,R+B),new Re(g+B,w+B),new Re(E-B,C-B),new Re(u+B,h-B)]:[new Re(O+B,R+B),new Re(g+B,w-B),new Re(E-B,C+B),new Re(u-B,h-B)]}containsBlackPoint(t,a,r,c){const u=this.image;if(c){for(let h=t;h<=a;h++)if(u.get(h,r))return!0}else for(let h=t;h<=a;h++)if(u.get(r,h))return!0;return!1}}We.INIT_SIZE=10,We.CORR=1;class Un{static checkAndNudgePoints(t,a){const r=t.getWidth(),c=t.getHeight();let u=!0;for(let h=0;h<a.length&&u;h+=2){const g=Math.floor(a[h]),w=Math.floor(a[h+1]);if(g<-1||g>r||w<-1||w>c)throw new Q;u=!1,g===-1?(a[h]=0,u=!0):g===r&&(a[h]=r-1,u=!0),w===-1?(a[h+1]=0,u=!0):w===c&&(a[h+1]=c-1,u=!0)}u=!0;for(let h=a.length-2;h>=0&&u;h-=2){const g=Math.floor(a[h]),w=Math.floor(a[h+1]);if(g<-1||g>r||w<-1||w>c)throw new Q;u=!1,g===-1?(a[h]=0,u=!0):g===r&&(a[h]=r-1,u=!0),w===-1?(a[h+1]=0,u=!0):w===c&&(a[h+1]=c-1,u=!0)}}}class Wn{constructor(t,a,r,c,u,h,g,w,E){this.a11=t,this.a21=a,this.a31=r,this.a12=c,this.a22=u,this.a32=h,this.a13=g,this.a23=w,this.a33=E}static quadrilateralToQuadrilateral(t,a,r,c,u,h,g,w,E,C,O,R,B,U,F,V){const ie=Wn.quadrilateralToSquare(t,a,r,c,u,h,g,w);return Wn.squareToQuadrilateral(E,C,O,R,B,U,F,V).times(ie)}transformPoints(t){const a=t.length,r=this.a11,c=this.a12,u=this.a13,h=this.a21,g=this.a22,w=this.a23,E=this.a31,C=this.a32,O=this.a33;for(let R=0;R<a;R+=2){const B=t[R],U=t[R+1],F=u*B+w*U+O;t[R]=(r*B+h*U+E)/F,t[R+1]=(c*B+g*U+C)/F}}transformPointsWithValues(t,a){const r=this.a11,c=this.a12,u=this.a13,h=this.a21,g=this.a22,w=this.a23,E=this.a31,C=this.a32,O=this.a33,R=t.length;for(let B=0;B<R;B++){const U=t[B],F=a[B],V=u*U+w*F+O;t[B]=(r*U+h*F+E)/V,a[B]=(c*U+g*F+C)/V}}static squareToQuadrilateral(t,a,r,c,u,h,g,w){const E=t-r+u-g,C=a-c+h-w;if(E===0&&C===0)return new Wn(r-t,u-r,t,c-a,h-c,a,0,0,1);{const O=r-u,R=g-u,B=c-h,U=w-h,F=O*U-R*B,V=(E*U-R*C)/F,ie=(O*C-E*B)/F;return new Wn(r-t+V*r,g-t+ie*g,t,c-a+V*c,w-a+ie*w,a,V,ie,1)}}static quadrilateralToSquare(t,a,r,c,u,h,g,w){return Wn.squareToQuadrilateral(t,a,r,c,u,h,g,w).buildAdjoint()}buildAdjoint(){return new Wn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Wn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Vr extends Un{sampleGrid(t,a,r,c,u,h,g,w,E,C,O,R,B,U,F,V,ie,_e,pe){const xe=Wn.quadrilateralToQuadrilateral(c,u,h,g,w,E,C,O,R,B,U,F,V,ie,_e,pe);return this.sampleGridWithTransform(t,a,r,xe)}sampleGridWithTransform(t,a,r,c){if(a<=0||r<=0)throw new Q;const u=new Je(a,r),h=new Float32Array(2*a);for(let g=0;g<r;g++){const w=h.length,E=g+.5;for(let C=0;C<w;C+=2)h[C]=C/2+.5,h[C+1]=E;c.transformPoints(h),Un.checkAndNudgePoints(t,h);try{for(let C=0;C<w;C+=2)t.get(Math.floor(h[C]),Math.floor(h[C+1]))&&u.set(C/2,g)}catch{throw new Q}}return u}}class ei{static setGridSampler(t){ei.gridSampler=t}static getInstance(){return ei.gridSampler}}ei.gridSampler=new Vr;class Cn{constructor(t,a){this.x=t,this.y=a}toResultPoint(){return new Re(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Xr{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let a=this.getMatrixCenter(),r=this.getBullsEyeCorners(a);if(t){let h=r[0];r[0]=r[2],r[2]=h}this.extractParameters(r);let c=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),u=this.getMatrixCornerPoints(r);return new bt(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Q;let a=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],a),this.sampleLine(t[1],t[2],a),this.sampleLine(t[2],t[3],a),this.sampleLine(t[3],t[0],a)]);this.shift=this.getRotation(r,a);let c=0;for(let h=0;h<4;h++){let g=r[(this.shift+h)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,a){let r=0;t.forEach((c,u,h)=>{let g=(c>>a-2<<1)+(c&1);r=(r<<3)+g}),r=((r&1)<<11)+(r>>1);for(let c=0;c<4;c++)if(X.bitCount(r^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new Q}getCorrectedParameterData(t,a){let r,c;a?(r=7,c=2):(r=10,c=4);let u=r-c,h=new Int32Array(r);for(let w=r-1;w>=0;--w)h[w]=t&15,t>>=4;try{new zn(Me.AZTEC_PARAM).decode(h,u)}catch{throw new Q}let g=0;for(let w=0;w<c;w++)g=(g<<4)+h[w];return g}getBullsEyeCorners(t){let a=t,r=t,c=t,u=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(a,h,1,-1),R=this.getFirstDifferent(r,h,1,1),B=this.getFirstDifferent(c,h,-1,1),U=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(U,O)*this.nbCenterLayers/(this.distancePoint(u,a)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(O,R,B,U))break}a=O,r=R,c=B,u=U,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let g=new Re(a.getX()+.5,a.getY()-.5),w=new Re(r.getX()+.5,r.getY()+.5),E=new Re(c.getX()-.5,c.getY()+.5),C=new Re(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,w,E,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,a,r,c;try{let g=new We(this.image).detect();t=g[0],a=g[1],r=g[2],c=g[3]}catch{let w=this.image.getWidth()/2,E=this.image.getHeight()/2;t=this.getFirstDifferent(new Cn(w+7,E-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Cn(w+7,E+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Cn(w-7,E+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Cn(w-7,E-7),!1,-1,-1).toResultPoint()}let u=Ze.round((t.getX()+c.getX()+a.getX()+r.getX())/4),h=Ze.round((t.getY()+c.getY()+a.getY()+r.getY())/4);try{let g=new We(this.image,15,u,h).detect();t=g[0],a=g[1],r=g[2],c=g[3]}catch{t=this.getFirstDifferent(new Cn(u+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Cn(u+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Cn(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Cn(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Ze.round((t.getX()+c.getX()+a.getX()+r.getX())/4),h=Ze.round((t.getY()+c.getY()+a.getY()+r.getY())/4),new Cn(u,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,a,r,c,u){let h=ei.getInstance(),g=this.getDimension(),w=g/2-this.nbCenterLayers,E=g/2+this.nbCenterLayers;return h.sampleGrid(t,g,g,w,w,E,w,E,E,w,E,a.getX(),a.getY(),r.getX(),r.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(t,a,r){let c=0,u=this.distanceResultPoint(t,a),h=u/r,g=t.getX(),w=t.getY(),E=h*(a.getX()-t.getX())/u,C=h*(a.getY()-t.getY())/u;for(let O=0;O<r;O++)this.image.get(Ze.round(g+O*E),Ze.round(w+O*C))&&(c|=1<<r-O-1);return c}isWhiteOrBlackRectangle(t,a,r,c){let u=3;t=new Cn(t.getX()-u,t.getY()+u),a=new Cn(a.getX()-u,a.getY()-u),r=new Cn(r.getX()+u,r.getY()-u),c=new Cn(c.getX()+u,c.getY()+u);let h=this.getColor(c,t);if(h===0)return!1;let g=this.getColor(t,a);return g!==h||(g=this.getColor(a,r),g!==h)?!1:(g=this.getColor(r,c),g===h)}getColor(t,a){let r=this.distancePoint(t,a),c=(a.getX()-t.getX())/r,u=(a.getY()-t.getY())/r,h=0,g=t.getX(),w=t.getY(),E=this.image.get(t.getX(),t.getY()),C=Math.ceil(r);for(let R=0;R<C;R++)g+=c,w+=u,this.image.get(Ze.round(g),Ze.round(w))!==E&&h++;let O=h/r;return O>.1&&O<.9?0:O<=.1===E?1:-1}getFirstDifferent(t,a,r,c){let u=t.getX()+r,h=t.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=r,h+=c;for(u-=r,h-=c;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=r;for(u-=r;this.isValid(u,h)&&this.image.get(u,h)===a;)h+=c;return h-=c,new Cn(u,h)}expandSquare(t,a,r){let c=r/(2*a),u=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,w=(t[0].getY()+t[2].getY())/2,E=new Re(g+c*u,w+c*h),C=new Re(g-c*u,w-c*h);u=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,w=(t[1].getY()+t[3].getY())/2;let O=new Re(g+c*u,w+c*h),R=new Re(g-c*u,w-c*h);return[E,O,C,R]}isValid(t,a){return t>=0&&t<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(t){let a=Ze.round(t.getX()),r=Ze.round(t.getY());return this.isValid(a,r)}distancePoint(t,a){return Ze.distance(t.getX(),t.getY(),a.getX(),a.getY())}distanceResultPoint(t,a){return Ze.distance(t.getX(),t.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(X.truncDivision(this.nbLayers-4,8)+1)+15}}class tr{decode(t,a=null){let r=null,c=new Xr(t.getBlackMatrix()),u=null,h=null;try{let C=c.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(a,u),h=new Pe().decode(C)}catch(C){r=C}if(h==null)try{let C=c.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(a,u),h=new Pe().decode(C)}catch(C){throw r??C}let g=new Ce(h.getText(),h.getRawBytes(),h.getNumBits(),u,ye.AZTEC,re.currentTimeMillis()),w=h.getByteSegments();w!=null&&g.putMetadata(rt.BYTE_SEGMENTS,w);let E=h.getECLevel();return E!=null&&g.putMetadata(rt.ERROR_CORRECTION_LEVEL,E),g}reportFoundResultPoints(t,a){if(t!=null){let r=t.get(Ee.NEED_RESULT_POINT_CALLBACK);r!=null&&a.forEach((c,u,h)=>{r.foundPossibleResultPoint(c)})}}reset(){}}class ve extends Ae{constructor(t=500){super(new tr,t)}}class Ue{decode(t,a){try{return this.doDecode(t,a)}catch{if(a&&a.get(Ee.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),h=this.doDecode(u,a),g=h.getResultMetadata();let w=270;g!==null&&g.get(rt.ORIENTATION)===!0&&(w=w+g.get(rt.ORIENTATION)%360),h.putMetadata(rt.ORIENTATION,w);const E=h.getResultPoints();if(E!==null){const C=u.getHeight();for(let O=0;O<E.length;O++)E[O]=new Re(C-E[O].getY()-1,E[O].getX())}return h}else throw new Q}}reset(){}doDecode(t,a){const r=t.getWidth(),c=t.getHeight();let u=new q(r);const h=a&&a.get(Ee.TRY_HARDER)===!0,g=Math.max(1,c>>(h?8:5));let w;h?w=c:w=15;const E=Math.trunc(c/2);for(let C=0;C<w;C++){const O=Math.trunc((C+1)/2),R=(C&1)===0,B=E+g*(R?O:-O);if(B<0||B>=c)break;try{u=t.getBlackRow(B,u)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(u.reverse(),a&&a.get(Ee.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;a.forEach((V,ie)=>F.set(ie,V)),F.delete(Ee.NEED_RESULT_POINT_CALLBACK),a=F}try{const F=this.decodeRow(B,u,a);if(U===1){F.putMetadata(rt.ORIENTATION,180);const V=F.getResultPoints();V!==null&&(V[0]=new Re(r-V[0].getX()-1,V[0].getY()),V[1]=new Re(r-V[1].getX()-1,V[1].getY()))}return F}catch{}}}throw new Q}static recordPattern(t,a,r){const c=r.length;for(let E=0;E<c;E++)r[E]=0;const u=t.getSize();if(a>=u)throw new Q;let h=!t.get(a),g=0,w=a;for(;w<u;){if(t.get(w)!==h)r[g]++;else{if(++g===c)break;r[g]=1,h=!h}w++}if(!(g===c||g===c-1&&w===u))throw new Q}static recordPatternInReverse(t,a,r){let c=r.length,u=t.get(a);for(;a>0&&c>=0;)t.get(--a)!==u&&(c--,u=!u);if(c>=0)throw new Q;Ue.recordPattern(t,a+1,r)}static patternMatchVariance(t,a,r){const c=t.length;let u=0,h=0;for(let E=0;E<c;E++)u+=t[E],h+=a[E];if(u<h)return Number.POSITIVE_INFINITY;const g=u/h;r*=g;let w=0;for(let E=0;E<c;E++){const C=t[E],O=a[E]*g,R=C>O?C-O:O-C;if(R>r)return Number.POSITIVE_INFINITY;w+=R}return w/u}}class de extends Ue{static findStartPattern(t){const a=t.getSize(),r=t.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=r,g=!1;const w=6;for(let E=r;E<a;E++)if(t.get(E)!==g)u[c]++;else{if(c===w-1){let C=de.MAX_AVG_VARIANCE,O=-1;for(let R=de.CODE_START_A;R<=de.CODE_START_C;R++){const B=Ue.patternMatchVariance(u,de.CODE_PATTERNS[R],de.MAX_INDIVIDUAL_VARIANCE);B<C&&(C=B,O=R)}if(O>=0&&t.isRange(Math.max(0,h-(E-h)/2),h,!1))return Int32Array.from([h,E,O]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,g=!g}throw new Q}static decodeCode(t,a,r){Ue.recordPattern(t,r,a);let c=de.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<de.CODE_PATTERNS.length;h++){const g=de.CODE_PATTERNS[h],w=this.patternMatchVariance(a,g,de.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,u=h)}if(u>=0)return u;throw new Q}decodeRow(t,a,r){const c=r&&r.get(Ee.ASSUME_GS1)===!0,u=de.findStartPattern(a),h=u[2];let g=0;const w=new Uint8Array(20);w[g++]=h;let E;switch(h){case de.CODE_START_A:E=de.CODE_CODE_A;break;case de.CODE_START_B:E=de.CODE_CODE_B;break;case de.CODE_START_C:E=de.CODE_CODE_C;break;default:throw new Z}let C=!1,O=!1,R="",B=u[0],U=u[1];const F=Int32Array.from([0,0,0,0,0,0]);let V=0,ie=0,_e=h,pe=0,xe=!0,ut=!1,nt=!1;for(;!C;){const ka=O;switch(O=!1,V=ie,ie=de.decodeCode(a,F,U),w[g++]=ie,ie!==de.CODE_STOP&&(xe=!0),ie!==de.CODE_STOP&&(pe++,_e+=pe*ie),B=U,U+=F.reduce((tc,Us)=>tc+Us,0),ie){case de.CODE_START_A:case de.CODE_START_B:case de.CODE_START_C:throw new Z}switch(E){case de.CODE_CODE_A:if(ie<64)nt===ut?R+=String.fromCharCode(32+ie):R+=String.fromCharCode(32+ie+128),nt=!1;else if(ie<96)nt===ut?R+=String.fromCharCode(ie-64):R+=String.fromCharCode(ie+64),nt=!1;else switch(ie!==de.CODE_STOP&&(xe=!1),ie){case de.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case de.CODE_FNC_2:case de.CODE_FNC_3:break;case de.CODE_FNC_4_A:!ut&&nt?(ut=!0,nt=!1):ut&&nt?(ut=!1,nt=!1):nt=!0;break;case de.CODE_SHIFT:O=!0,E=de.CODE_CODE_B;break;case de.CODE_CODE_B:E=de.CODE_CODE_B;break;case de.CODE_CODE_C:E=de.CODE_CODE_C;break;case de.CODE_STOP:C=!0;break}break;case de.CODE_CODE_B:if(ie<96)nt===ut?R+=String.fromCharCode(32+ie):R+=String.fromCharCode(32+ie+128),nt=!1;else switch(ie!==de.CODE_STOP&&(xe=!1),ie){case de.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case de.CODE_FNC_2:case de.CODE_FNC_3:break;case de.CODE_FNC_4_B:!ut&&nt?(ut=!0,nt=!1):ut&&nt?(ut=!1,nt=!1):nt=!0;break;case de.CODE_SHIFT:O=!0,E=de.CODE_CODE_A;break;case de.CODE_CODE_A:E=de.CODE_CODE_A;break;case de.CODE_CODE_C:E=de.CODE_CODE_C;break;case de.CODE_STOP:C=!0;break}break;case de.CODE_CODE_C:if(ie<100)ie<10&&(R+="0"),R+=ie;else switch(ie!==de.CODE_STOP&&(xe=!1),ie){case de.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case de.CODE_CODE_A:E=de.CODE_CODE_A;break;case de.CODE_CODE_B:E=de.CODE_CODE_B;break;case de.CODE_STOP:C=!0;break}break}ka&&(E=E===de.CODE_CODE_A?de.CODE_CODE_B:de.CODE_CODE_A)}const hn=U-B;if(U=a.getNextUnset(U),!a.isRange(U,Math.min(a.getSize(),U+(U-B)/2),!1))throw new Q;if(_e-=pe*V,_e%103!==V)throw new L;const di=R.length;if(di===0)throw new Q;di>0&&xe&&(E===de.CODE_CODE_C?R=R.substring(0,di-2):R=R.substring(0,di-1));const Gn=(u[1]+u[0])/2,Ut=B+hn/2,Bn=w.length,li=new Uint8Array(Bn);for(let ka=0;ka<Bn;ka++)li[ka]=w[ka];const mr=[new Re(Gn,t),new Re(Ut,t)];return new Ce(R,li,0,mr,ye.CODE_128,new Date().getTime())}}de.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],de.MAX_AVG_VARIANCE=.25,de.MAX_INDIVIDUAL_VARIANCE=.7,de.CODE_SHIFT=98,de.CODE_CODE_C=99,de.CODE_CODE_B=100,de.CODE_CODE_A=101,de.CODE_FNC_1=102,de.CODE_FNC_2=97,de.CODE_FNC_3=96,de.CODE_FNC_4_A=101,de.CODE_FNC_4_B=100,de.CODE_START_A=103,de.CODE_START_B=104,de.CODE_START_C=105,de.CODE_STOP=106;class pt extends Ue{constructor(t=!1,a=!1){super(),this.usingCheckDigit=t,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,a,r){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=pt.findAsteriskPattern(a,c),h=a.getNextSet(u[1]),g=a.getSize(),w,E;do{pt.recordPattern(a,h,c);let F=pt.toNarrowWidePattern(c);if(F<0)throw new Q;w=pt.patternToChar(F),this.decodeRowResult+=w,E=h;for(let V of c)h+=V;h=a.getNextSet(h)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let F of c)C+=F;let O=h-E-C;if(h!==g&&O*2<C)throw new Q;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,V=0;for(let ie=0;ie<F;ie++)V+=pt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ie));if(this.decodeRowResult.charAt(F)!==pt.ALPHABET_STRING.charAt(V%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new Q;let R;this.extendedMode?R=pt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let B=(u[1]+u[0])/2,U=E+C/2;return new Ce(R,null,0,[new Re(B,t),new Re(U,t)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(t,a){let r=t.getSize(),c=t.getNextSet(0),u=0,h=c,g=!1,w=a.length;for(let E=c;E<r;E++)if(t.get(E)!==g)a[u]++;else{if(u===w-1){if(this.toNarrowWidePattern(a)===pt.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((E-h)/2)),h,!1))return[h,E];h+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,g=!g}throw new Q}static toNarrowWidePattern(t){let a=t.length,r=0,c;do{let u=2147483647;for(let w of t)w<u&&w>r&&(u=w);r=u,c=0;let h=0,g=0;for(let w=0;w<a;w++){let E=t[w];E>r&&(g|=1<<a-1-w,c++,h+=E)}if(c===3){for(let w=0;w<a&&c>0;w++){let E=t[w];if(E>r&&(c--,E*2>=h))return-1}return g}}while(c>3);return-1}static patternToChar(t){for(let a=0;a<pt.CHARACTER_ENCODINGS.length;a++)if(pt.CHARACTER_ENCODINGS[a]===t)return pt.ALPHABET_STRING.charAt(a);if(t===pt.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(t){let a=t.length,r="";for(let c=0;c<a;c++){let u=t.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=t.charAt(c+1),g="\0";switch(u){case"+":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)+32);else throw new Z;break;case"$":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)-64);else throw new Z;break;case"%":if(h>="A"&&h<="E")g=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")g=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")g=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")g="\0";else if(h==="V")g="@";else if(h==="W")g="`";else if(h==="X"||h==="Y"||h==="Z")g="";else throw new Z;break;case"/":if(h>="A"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")g=":";else throw new Z;break}r+=g,c++}else r+=u}return r}}pt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",pt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],pt.ASTERISK_ENCODING=148;class et extends Ue{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,a,r){let c=this.decodeStart(a),u=this.decodeEnd(a),h=new Qe;et.decodeMiddle(a,c[1],u[0],h);let g=h.toString(),w=null;r!=null&&(w=r.get(Ee.ALLOWED_LENGTHS)),w==null&&(w=et.DEFAULT_ALLOWED_LENGTHS);let E=g.length,C=!1,O=0;for(let U of w){if(E===U){C=!0;break}U>O&&(O=U)}if(!C&&E>O&&(C=!0),!C)throw new Z;const R=[new Re(c[1],t),new Re(u[0],t)];return new Ce(g,null,0,R,ye.ITF,new Date().getTime())}static decodeMiddle(t,a,r,c){let u=new Int32Array(10),h=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),h.fill(0),g.fill(0);a<r;){Ue.recordPattern(t,a,u);for(let E=0;E<5;E++){let C=2*E;h[E]=u[C],g[E]=u[C+1]}let w=et.decodeDigit(h);c.append(w.toString()),w=this.decodeDigit(g),c.append(w.toString()),u.forEach(function(E){a+=E})}}decodeStart(t){let a=et.skipWhiteSpace(t),r=et.findGuardPattern(t,a,et.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,a){let r=this.narrowLineWidth*10;r=r<a?r:a;for(let c=a-1;r>0&&c>=0&&!t.get(c);c--)r--;if(r!==0)throw new Q}static skipWhiteSpace(t){const a=t.getSize(),r=t.getNextSet(0);if(r===a)throw new Q;return r}decodeEnd(t){t.reverse();try{let a=et.skipWhiteSpace(t),r;try{r=et.findGuardPattern(t,a,et.END_PATTERN_REVERSED[0])}catch(u){u instanceof Q&&(r=et.findGuardPattern(t,a,et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let c=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-c,r}finally{t.reverse()}}static findGuardPattern(t,a,r){let c=r.length,u=new Int32Array(c),h=t.getSize(),g=!1,w=0,E=a;u.fill(0);for(let C=a;C<h;C++)if(t.get(C)!==g)u[w]++;else{if(w===c-1){if(Ue.patternMatchVariance(u,r,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return[E,C];E+=u[0]+u[1],re.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,g=!g}throw new Q}static decodeDigit(t){let a=et.MAX_AVG_VARIANCE,r=-1,c=et.PATTERNS.length;for(let u=0;u<c;u++){let h=et.PATTERNS[u],g=Ue.patternMatchVariance(t,h,et.MAX_INDIVIDUAL_VARIANCE);g<a?(a=g,r=u):g===a&&(r=-1)}if(r>=0)return r%10;throw new Q}}et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],et.MAX_AVG_VARIANCE=.38,et.MAX_INDIVIDUAL_VARIANCE=.5,et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],et.START_PATTERN=Int32Array.from([1,1,1,1]),et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Wt extends Ue{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let a=!1,r,c=0,u=Int32Array.from([0,0,0]);for(;!a;){u=Int32Array.from([0,0,0]),r=Wt.findGuardPattern(t,c,!1,this.START_END_PATTERN,u);let h=r[0];c=r[1];let g=h-(c-h);g>=0&&(a=t.isRange(g,h,!1))}return r}static checkChecksum(t){return Wt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let r=parseInt(t.charAt(a-1),10);return Wt.getStandardUPCEANChecksum(t.substring(0,a-1))===r}static getStandardUPCEANChecksum(t){let a=t.length,r=0;for(let c=a-1;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Z;r+=u}r*=3;for(let c=a-2;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Z;r+=u}return(1e3-r)%10}static decodeEnd(t,a){return Wt.findGuardPattern(t,a,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,a,r,c){return this.findGuardPattern(t,a,r,c,new Int32Array(c.length))}static findGuardPattern(t,a,r,c,u){let h=t.getSize();a=r?t.getNextUnset(a):t.getNextSet(a);let g=0,w=a,E=c.length,C=r;for(let O=a;O<h;O++)if(t.get(O)!==C)u[g]++;else{if(g===E-1){if(Ue.patternMatchVariance(u,c,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=u[0]+u[1];let R=u.slice(2,u.length-1);for(let B=0;B<g-1;B++)u[B]=R[B];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,C=!C}throw new Q}static decodeDigit(t,a,r,c){this.recordPattern(t,r,a);let u=this.MAX_AVG_VARIANCE,h=-1,g=c.length;for(let w=0;w<g;w++){let E=c[w],C=Ue.patternMatchVariance(a,E,Wt.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,h=w)}if(h>=0)return h;throw new Q}}Wt.MAX_AVG_VARIANCE=.48,Wt.MAX_INDIVIDUAL_VARIANCE=.7,Wt.START_END_PATTERN=Int32Array.from([1,1,1]),Wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Na{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,r){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,r,c),h=c.toString(),g=Na.parseExtensionString(h),w=[new Re((r[0]+r[1])/2,t),new Re(u,t)],E=new Ce(h,null,0,w,ye.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&E.putAllMetadata(g),E}decodeMiddle(t,a,r){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=a[1],g=0;for(let E=0;E<5&&h<u;E++){let C=Wt.decodeDigit(t,c,h,Wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let O of c)h+=O;C>=10&&(g|=1<<4-E),E!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(r.length!==5)throw new Q;let w=this.determineCheckDigit(g);if(Na.extensionChecksum(r.toString())!==w)throw new Q;return h}static extensionChecksum(t){let a=t.length,r=0;for(let c=a-2;c>=0;c-=2)r+=t.charAt(c).charCodeAt(0)-48;r*=3;for(let c=a-1;c>=0;c-=2)r+=t.charAt(c).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let a=0;a<10;a++)if(t===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new Q}static parseExtensionString(t){if(t.length!==5)return null;let a=Na.parseExtension5String(t);return a==null?null:new Map([[rt.SUGGESTED_PRICE,a]])}static parseExtension5String(t){let a;switch(t.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let r=parseInt(t.substring(1)),c=(r/100).toString(),u=r%100,h=u<10?"0"+u:u.toString();return a+c+"."+h}}class Yr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,r){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,r,c),h=c.toString(),g=Yr.parseExtensionString(h),w=[new Re((r[0]+r[1])/2,t),new Re(u,t)],E=new Ce(h,null,0,w,ye.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&E.putAllMetadata(g),E}decodeMiddle(t,a,r){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=a[1],g=0;for(let w=0;w<2&&h<u;w++){let E=Wt.decodeDigit(t,c,h,Wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let C of c)h+=C;E>=10&&(g|=1<<1-w),w!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(r.length!==2)throw new Q;if(parseInt(r.toString())%4!==g)throw new Q;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[rt.ISSUE_NUMBER,parseInt(t)]])}}class qr{static decodeRow(t,a,r){let c=Wt.findGuardPattern(a,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Na().decodeRow(t,a,c)}catch{return new Yr().decodeRow(t,a,c)}}}qr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class wt extends Wt{constructor(){super(),this.decodeRowStringBuffer="",wt.L_AND_G_PATTERNS=wt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let a=wt.L_PATTERNS[t-10],r=new Int32Array(a.length);for(let c=0;c<a.length;c++)r[c]=a[a.length-c-1];wt.L_AND_G_PATTERNS[t]=r}}decodeRow(t,a,r){let c=wt.findStartGuardPattern(a),u=r==null?null:r.get(Ee.NEED_RESULT_POINT_CALLBACK);if(u!=null){const xe=new Re((c[0]+c[1])/2,t);u.foundPossibleResultPoint(xe)}let h=this.decodeMiddle(a,c,this.decodeRowStringBuffer),g=h.rowOffset,w=h.resultString;if(u!=null){const xe=new Re(g,t);u.foundPossibleResultPoint(xe)}let E=this.decodeEnd(a,g);if(u!=null){const xe=new Re((E[0]+E[1])/2,t);u.foundPossibleResultPoint(xe)}let C=E[1],O=C+(C-E[0]);if(O>=a.getSize()||!a.isRange(C,O,!1))throw new Q;let R=w.toString();if(R.length<8)throw new Z;if(!wt.checkChecksum(R))throw new L;let B=(c[1]+c[0])/2,U=(E[1]+E[0])/2,F=this.getBarcodeFormat(),V=[new Re(B,t),new Re(U,t)],ie=new Ce(R,null,0,V,F,new Date().getTime()),_e=0;try{let xe=qr.decodeRow(t,a,E[1]);ie.putMetadata(rt.UPC_EAN_EXTENSION,xe.getText()),ie.putAllMetadata(xe.getResultMetadata()),ie.addResultPoints(xe.getResultPoints()),_e=xe.getText().length}catch{}let pe=r==null?null:r.get(Ee.ALLOWED_EAN_EXTENSIONS);if(pe!=null){let xe=!1;for(let ut in pe)if(_e.toString()===ut){xe=!0;break}if(!xe)throw new Q}return ie}decodeEnd(t,a){return wt.findGuardPattern(t,a,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return wt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let r=parseInt(t.charAt(a-1),10);return wt.getStandardUPCEANChecksum(t.substring(0,a-1))===r}static getStandardUPCEANChecksum(t){let a=t.length,r=0;for(let c=a-1;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Z;r+=u}r*=3;for(let c=a-2;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Z;r+=u}return(1e3-r)%10}}class Fi extends wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,r){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=a[1],g=0;for(let E=0;E<6&&h<u;E++){let C=wt.decodeDigit(t,c,h,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let O of c)h+=O;C>=10&&(g|=1<<5-E)}r=Fi.determineFirstDigit(r,g),h=wt.findGuardPattern(t,h,!0,wt.MIDDLE_PATTERN,new Int32Array(wt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&h<u;E++){let C=wt.decodeDigit(t,c,h,wt.L_PATTERNS);r+=String.fromCharCode(48+C);for(let O of c)h+=O}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(t,a){for(let r=0;r<10;r++)if(a===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new Q}}Fi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class fa extends wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,r){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=a[1];for(let w=0;w<4&&h<u;w++){let E=wt.decodeDigit(t,c,h,wt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let C of c)h+=C}h=wt.findGuardPattern(t,h,!0,wt.MIDDLE_PATTERN,new Int32Array(wt.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&h<u;w++){let E=wt.decodeDigit(t,c,h,wt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let C of c)h+=C}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return ye.EAN_8}}class Kr extends wt{constructor(){super(...arguments),this.ean13Reader=new Fi}getBarcodeFormat(){return ye.UPC_A}decode(t,a){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,a,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,a,r))}decodeMiddle(t,a,r){return this.ean13Reader.decodeMiddle(t,a,r)}maybeReturnResult(t){let a=t.getText();if(a.charAt(0)==="0"){let r=new Ce(a.substring(1),null,null,t.getResultPoints(),ye.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new Q}reset(){this.ean13Reader.reset()}}class jn extends wt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,a,r){const c=this.decodeMiddleCounters.map(E=>E);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=t.getSize();let h=a[1],g=0;for(let E=0;E<6&&h<u;E++){const C=jn.decodeDigit(t,c,h,jn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let O of c)h+=O;C>=10&&(g|=1<<5-E)}let w=jn.determineNumSysAndCheckDigit(r,g);return{rowOffset:h,resultString:w}}decodeEnd(t,a){return jn.findGuardPatternWithoutCounters(t,a,!0,jn.MIDDLE_END_PATTERN)}checkChecksum(t){return wt.checkChecksum(jn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,a){for(let r=0;r<=1;r++)for(let c=0;c<10;c++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][c]){let u=String.fromCharCode(48+r),h=String.fromCharCode(48+c);return u+t+h}throw Q.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(t){const a=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),r=new Qe;r.append(t.charAt(0));let c=a[5];switch(c){case 0:case 1:case 2:r.appendChars(a,0,2),r.append(c),r.append("0000"),r.appendChars(a,2,3);break;case 3:r.appendChars(a,0,3),r.append("00000"),r.appendChars(a,3,2);break;case 4:r.appendChars(a,0,4),r.append("00000"),r.append(a[4]);break;default:r.appendChars(a,0,5),r.append("0000"),r.append(c);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}jn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),jn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ns extends Ue{constructor(t){super();let a=t==null?null:t.get(Ee.POSSIBLE_FORMATS),r=[];d(a)?(r.push(new Fi),r.push(new Kr),r.push(new fa),r.push(new jn)):(a.indexOf(ye.EAN_13)>-1&&r.push(new Fi),a.indexOf(ye.UPC_A)>-1&&r.push(new Kr),a.indexOf(ye.EAN_8)>-1&&r.push(new fa),a.indexOf(ye.UPC_E)>-1&&r.push(new jn)),this.readers=r}decodeRow(t,a,r){for(let c of this.readers)try{const u=c.decodeRow(t,a,r),h=u.getBarcodeFormat()===ye.EAN_13&&u.getText().charAt(0)==="0",g=r==null?null:r.get(Ee.POSSIBLE_FORMATS),w=g==null||g.includes(ye.UPC_A);if(h&&w){const E=u.getRawBytes(),C=new Ce(u.getText().substring(1),E,E?E.length:null,u.getResultPoints(),ye.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new Q}reset(){for(let t of this.readers)t.reset()}}class In extends Ue{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,a){for(let r=0;r<a.length;r++)if(Ue.patternMatchVariance(t,a[r],In.MAX_INDIVIDUAL_VARIANCE)<In.MAX_AVG_VARIANCE)return r;throw new Q}static count(t){return Ze.sum(new Int32Array(t))}static increment(t,a){let r=0,c=a[0];for(let u=1;u<t.length;u++)a[u]>c&&(c=a[u],r=u);t[r]++}static decrement(t,a){let r=0,c=a[0];for(let u=1;u<t.length;u++)a[u]<c&&(c=a[u],r=u);t[r]--}static isFinderPattern(t){let a=t[0]+t[1],r=a+t[2]+t[3],c=a/r;if(c>=In.MIN_FINDER_PATTERN_RATIO&&c<=In.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let g of t)g>h&&(h=g),g<u&&(u=g);return h<10*u}return!1}}In.MAX_AVG_VARIANCE=.2,In.MAX_INDIVIDUAL_VARIANCE=.45,In.MIN_FINDER_PATTERN_RATIO=9.5/12,In.MAX_FINDER_PATTERN_RATIO=12.5/14;class ha{constructor(t,a){this.value=t,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ha))return!1;const a=t;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class da{constructor(t,a,r,c,u){this.value=t,this.startEnd=a,this.value=t,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Re(r,u)),this.resultPoints.push(new Re(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof da))return!1;const a=t;return this.value===a.value}hashCode(){return this.value}}class Pi{constructor(){}static getRSSvalue(t,a,r){let c=0;for(let w of t)c+=w;let u=0,h=0,g=t.length;for(let w=0;w<g-1;w++){let E;for(E=1,h|=1<<w;E<t[w];E++,h&=~(1<<w)){let C=Pi.combins(c-E-1,g-w-2);if(r&&h===0&&c-E-(g-w-1)>=g-w-1&&(C-=Pi.combins(c-E-(g-w),g-w-2)),g-w-1>1){let O=0;for(let R=c-E-(g-w-2);R>a;R--)O+=Pi.combins(c-E-R-1,g-w-3);C-=O*(g-1-w)}else c-E>a&&C--;u+=C}c-=E}return u}static combins(t,a){let r,c;t-a>a?(c=a,r=t-a):(c=t-a,r=a);let u=1,h=1;for(let g=t;g>r;g--)u*=g,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class Ho{static buildBitArray(t){let a=t.length*2-1;t[t.length-1].getRightChar()==null&&(a-=1);let r=12*a,c=new q(r),u=0,g=t[0].getRightChar().getValue();for(let w=11;w>=0;--w)(g&1<<w)!=0&&c.set(u),u++;for(let w=1;w<t.length;++w){let E=t[w],C=E.getLeftChar().getValue();for(let O=11;O>=0;--O)(C&1<<O)!=0&&c.set(u),u++;if(E.getRightChar()!=null){let O=E.getRightChar().getValue();for(let R=11;R>=0;--R)(O&1<<R)!=0&&c.set(u),u++}}return c}}class ga{constructor(t,a){a?this.decodedInformation=null:(this.finished=t,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Il{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Fn extends Il{constructor(t,a){super(t),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Fn.FNC1}}Fn.FNC1="$";class na extends Il{constructor(t,a,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ti extends Il{constructor(t,a,r){if(super(t),a<0||a>10||r<0||r>10)throw new Z;this.firstDigit=a,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ti.FNC1}isSecondDigitFNC1(){return this.secondDigit===ti.FNC1}isAnyFNC1(){return this.firstDigit===ti.FNC1||this.secondDigit===ti.FNC1}}ti.FNC1=10;class De{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new Q;let a=t.substring(0,2);for(let u of De.TWO_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===De.VARIABLE_LENGTH?De.processVariableAI(2,u[2],t):De.processFixedAI(2,u[1],t);if(t.length<3)throw new Q;let r=t.substring(0,3);for(let u of De.THREE_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===De.VARIABLE_LENGTH?De.processVariableAI(3,u[2],t):De.processFixedAI(3,u[1],t);for(let u of De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,u[2],t):De.processFixedAI(4,u[1],t);if(t.length<4)throw new Q;let c=t.substring(0,4);for(let u of De.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,u[2],t):De.processFixedAI(4,u[1],t);throw new Q}static processFixedAI(t,a,r){if(r.length<t)throw new Q;let c=r.substring(0,t);if(r.length<t+a)throw new Q;let u=r.substring(t,t+a),h=r.substring(t+a),g="("+c+")"+u,w=De.parseFieldsInGeneralPurpose(h);return w==null?g:g+w}static processVariableAI(t,a,r){let c=r.substring(0,t),u;r.length<t+a?u=r.length:u=t+a;let h=r.substring(t,u),g=r.substring(u),w="("+c+")"+h,E=De.parseFieldsInGeneralPurpose(g);return E==null?w:w+E}}De.VARIABLE_LENGTH=[],De.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",De.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",De.VARIABLE_LENGTH,20],["22",De.VARIABLE_LENGTH,29],["30",De.VARIABLE_LENGTH,8],["37",De.VARIABLE_LENGTH,8],["90",De.VARIABLE_LENGTH,30],["91",De.VARIABLE_LENGTH,30],["92",De.VARIABLE_LENGTH,30],["93",De.VARIABLE_LENGTH,30],["94",De.VARIABLE_LENGTH,30],["95",De.VARIABLE_LENGTH,30],["96",De.VARIABLE_LENGTH,30],["97",De.VARIABLE_LENGTH,3],["98",De.VARIABLE_LENGTH,30],["99",De.VARIABLE_LENGTH,30]],De.THREE_DIGIT_DATA_LENGTH=[["240",De.VARIABLE_LENGTH,30],["241",De.VARIABLE_LENGTH,30],["242",De.VARIABLE_LENGTH,6],["250",De.VARIABLE_LENGTH,30],["251",De.VARIABLE_LENGTH,30],["253",De.VARIABLE_LENGTH,17],["254",De.VARIABLE_LENGTH,20],["400",De.VARIABLE_LENGTH,30],["401",De.VARIABLE_LENGTH,30],["402",17],["403",De.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",De.VARIABLE_LENGTH,20],["421",De.VARIABLE_LENGTH,15],["422",3],["423",De.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",De.VARIABLE_LENGTH,15],["391",De.VARIABLE_LENGTH,18],["392",De.VARIABLE_LENGTH,15],["393",De.VARIABLE_LENGTH,18],["703",De.VARIABLE_LENGTH,30]],De.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",De.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",De.VARIABLE_LENGTH,20],["8003",De.VARIABLE_LENGTH,30],["8004",De.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",De.VARIABLE_LENGTH,30],["8008",De.VARIABLE_LENGTH,12],["8018",18],["8020",De.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",De.VARIABLE_LENGTH,70],["8200",De.VARIABLE_LENGTH,70]];class ni{constructor(t){this.buffer=new Qe,this.information=t}decodeAllCodes(t,a){let r=a,c=null;do{let u=this.decodeGeneralPurposeField(r,c),h=De.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&t.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,r===u.getNewPosition())break;r=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let a=t;a<t+3;++a)if(this.information.get(a))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new ti(this.information.getSize(),ti.FNC1,ti.FNC1):new ti(this.information.getSize(),u-1,ti.FNC1)}let a=this.extractNumericValueFromBitArray(t,7),r=(a-8)/11,c=(a-8)%11;return new ti(t+7,r,c)}extractNumericValueFromBitArray(t,a){return ni.extractNumericValueFromBitArray(this.information,t,a)}static extractNumericValueFromBitArray(t,a,r){let c=0;for(let u=0;u<r;++u)t.get(a+u)&&(c|=1<<r-u-1);return c}decodeGeneralPurposeField(t,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new na(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new na(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,a;do{let r=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),t=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),t=a.isFinished()):(a=this.parseNumericBlock(),t=a.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let a;return t.isSecondDigitFNC1()?a=new na(this.current.getPosition(),this.buffer.toString()):a=new na(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new ga(!0,a)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let a=new na(this.current.getPosition(),this.buffer.toString());return new ga(!0,a)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ga(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new na(this.current.getPosition(),this.buffer.toString());return new ga(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ga(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new na(this.current.getPosition(),this.buffer.toString());return new ga(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ga(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(t,8);return c>=232&&c<253}decodeIsoIec646(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new Fn(t+5,Fn.FNC1);if(a>=5&&a<15)return new Fn(t+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Fn(t+7,""+(r+1));if(r>=90&&r<116)return new Fn(t+7,""+(r+7));let c=this.extractNumericValueFromBitArray(t,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new Z}return new Fn(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new Fn(t+5,Fn.FNC1);if(a>=5&&a<15)return new Fn(t+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Fn(t+6,""+(r+33));let c;switch(r){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new At("Decoding invalid alphanumeric value: "+r)}return new Fn(t+6,c)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<5&&a+t<this.information.getSize();++a)if(a===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+a))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let a=t;a<t+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<4&&a+t<this.information.getSize();++a)if(this.information.get(t+a))return!1;return!0}}class pn{constructor(t){this.information=t,this.generalDecoder=new ni(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ft extends pn{constructor(t){super(t)}encodeCompressedGtin(t,a){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,a,r)}encodeCompressedGtinWithoutAI(t,a,r){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*c,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}Ft.appendCheckDigit(t,r)}static appendCheckDigit(t,a){let r=0;for(let c=0;c<13;c++){let u=t.charAt(c+a).charCodeAt(0)-48;r+=(c&1)===0?3*u:u}r=10-r%10,r===10&&(r=0),t.append(r)}}Ft.GTIN_SIZE=40;class bi extends Ft{constructor(t){super(t)}parseInformation(){let t=new Qe;t.append("(01)");let a=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(bi.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,bi.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(t,bi.HEADER_SIZE+44)}}bi.HEADER_SIZE=4;class nr extends pn{constructor(t){super(t)}parseInformation(){let t=new Qe;return this.getGeneralDecoder().decodeAllCodes(t,nr.HEADER_SIZE)}}nr.HEADER_SIZE=5;class Dl extends Ft{constructor(t){super(t)}encodeCompressedWeight(t,a,r){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,r);this.addWeightCode(t,c);let u=this.checkWeight(c),h=1e5;for(let g=0;g<5;++g)u/h===0&&t.append("0"),h/=10;t.append(u)}}class Hi extends Dl{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Hi.HEADER_SIZE+Dl.GTIN_SIZE+Hi.WEIGHT_SIZE)throw new Q;let t=new Qe;return this.encodeCompressedGtin(t,Hi.HEADER_SIZE),this.encodeCompressedWeight(t,Hi.HEADER_SIZE+Dl.GTIN_SIZE,Hi.WEIGHT_SIZE),t.toString()}}Hi.HEADER_SIZE=5,Hi.WEIGHT_SIZE=15;class Zo extends Hi{constructor(t){super(t)}addWeightCode(t,a){t.append("(3103)")}checkWeight(t){return t}}class Qr extends Hi{constructor(t){super(t)}addWeightCode(t,a){a<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class ui extends Ft{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<ui.HEADER_SIZE+Ft.GTIN_SIZE)throw new Q;let t=new Qe;this.encodeCompressedGtin(t,ui.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(ui.HEADER_SIZE+Ft.GTIN_SIZE,ui.LAST_DIGIT_SIZE);t.append("(392"),t.append(a),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(ui.HEADER_SIZE+Ft.GTIN_SIZE+ui.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}ui.HEADER_SIZE=8,ui.LAST_DIGIT_SIZE=2;class un extends Ft{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<un.HEADER_SIZE+Ft.GTIN_SIZE)throw new Q;let t=new Qe;this.encodeCompressedGtin(t,un.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+Ft.GTIN_SIZE,un.LAST_DIGIT_SIZE);t.append("(393"),t.append(a),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(un.HEADER_SIZE+Ft.GTIN_SIZE+un.LAST_DIGIT_SIZE,un.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let c=this.getGeneralDecoder().decodeGeneralPurposeField(un.HEADER_SIZE+Ft.GTIN_SIZE+un.LAST_DIGIT_SIZE+un.FIRST_THREE_DIGITS_SIZE,null);return t.append(c.getNewString()),t.toString()}}un.HEADER_SIZE=8,un.LAST_DIGIT_SIZE=2,un.FIRST_THREE_DIGITS_SIZE=10;class Dt extends Dl{constructor(t,a,r){super(t),this.dateCode=r,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new Q;let t=new Qe;return this.encodeCompressedGtin(t,Dt.HEADER_SIZE),this.encodeCompressedWeight(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,a){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Dt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let c=r%32;r/=32;let u=r%12+1;r/=12;let h=r;h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u),c/10==0&&t.append("0"),t.append(c)}addWeightCode(t,a){t.append("("),t.append(this.firstAIdigits),t.append(a/1e5),t.append(")")}checkWeight(t){return t%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function ir(N){try{if(N.get(1))return new bi(N);if(!N.get(2))return new nr(N);switch(ni.extractNumericValueFromBitArray(N,1,4)){case 4:return new Zo(N);case 5:return new Qr(N)}switch(ni.extractNumericValueFromBitArray(N,1,5)){case 12:return new ui(N);case 13:return new un(N)}switch(ni.extractNumericValueFromBitArray(N,1,7)){case 56:return new Dt(N,"310","11");case 57:return new Dt(N,"320","11");case 58:return new Dt(N,"310","13");case 59:return new Dt(N,"320","13");case 60:return new Dt(N,"310","15");case 61:return new Dt(N,"320","15");case 62:return new Dt(N,"310","17");case 63:return new Dt(N,"320","17")}}catch(t){throw console.log(t),new At("unknown decoder: "+N)}}class ii{constructor(t,a,r,c){this.leftchar=t,this.rightchar=a,this.finderpattern=r,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,a){return t instanceof ii?ii.equalsOrNull(t.leftchar,a.leftchar)&&ii.equalsOrNull(t.rightchar,a.rightchar)&&ii.equalsOrNull(t.finderpattern,a.finderpattern):!1}static equalsOrNull(t,a){return t===null?a===null:ii.equals(t,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class fn{constructor(t,a,r){this.pairs=t,this.rowNumber=a,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,a){return t instanceof fn?this.checkEqualitity(t,a)&&t.wasReversed===a.wasReversed:!1}checkEqualitity(t,a){if(!t||!a)return;let r;return t.forEach((c,u)=>{a.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(r=!0)})}),r}}class ge extends In{constructor(t){super(...arguments),this.pairs=new Array(ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,a,r){this.pairs.length=0,this.startFromEven=!1;try{return ge.constructResult(this.decodeRow2pairs(t,a))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ge.constructResult(this.decodeRow2pairs(t,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,a){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,t))}catch(u){if(u instanceof Q){if(!this.pairs.length)throw new Q;r=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(t,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Q}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),a}checkRows(t,a){for(let r=a;r<this.rows.length;r++){let c=this.rows[r];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(c);try{return this.checkRows(u,r+1)}catch(h){this.verbose&&console.log(h)}}throw new Q}static isValidSequence(t){for(let a of ge.FINDER_PATTERN_SEQUENCES){if(t.length>a.length)continue;let r=!0;for(let c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!=a[c]){r=!1;break}if(r)return!0}return!1}storeRow(t,a){let r=0,c=!1,u=!1;for(;r<this.rows.length;){let h=this.rows[r];if(h.getRowNumber()>t){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),r++}u||c||ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new fn(this.pairs,t,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,a){for(let r of a)if(r.getPairs().length!==t.length){for(let c of r.getPairs())for(let u of t)if(ii.equals(c,u))break}}static isPartialRow(t,a){for(let r of a){let c=!0;for(let u of t){let h=!1;for(let g of r.getPairs())if(u.equals(g)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(t){let a=Ho.buildBitArray(t),c=ir(a).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],h[0],h[1]];return new Ce(c,null,null,g,ye.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),a=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let c=r.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let w=this.pairs.get(g);c+=w.getLeftChar().getChecksumPortion(),u++;let E=w.getRightChar();E!=null&&(c+=E.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==a.getValue()}static getNextSecondBar(t,a){let r;return t.get(a)?(r=t.getNextUnset(a),r=t.getNextSet(r)):(r=t.getNextSet(a),r=t.getNextUnset(r)),r}retrieveNextPair(t,a,r){let c=a.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,g=-1;do this.findNextPair(t,a,g),u=this.parseFoundFinderPattern(t,r,c),u==null?g=ge.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let w=this.decodeDataCharacter(t,u,c,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Q;let E;try{E=this.decodeDataCharacter(t,u,c,!1)}catch(C){E=null,this.verbose&&console.log(C)}return new ii(w,E,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,a,r){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h;r>=0?h=r:this.isEmptyPair(a)?h=0:h=a[a.length-1].getFinderPattern().getStartEnd()[1];let g=a.length%2!=0;this.startFromEven&&(g=!g);let w=!1;for(;h<u&&(w=!t.get(h),!!w);)h++;let E=0,C=h;for(let O=h;O<u;O++)if(t.get(O)!=w)c[E]++;else{if(E==3){if(g&&ge.reverseCounters(c),ge.isFinderPattern(c)){this.startEnd[0]=C,this.startEnd[1]=O;return}g&&ge.reverseCounters(c),C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,E--}else E++;c[E]=1,w=!w}throw new Q}static reverseCounters(t){let a=t.length;for(let r=0;r<a/2;++r){let c=t[r];t[r]=t[a-r-1],t[a-r-1]=c}}parseFoundFinderPattern(t,a,r){let c,u,h;if(r){let E=this.startEnd[0]-1;for(;E>=0&&!t.get(E);)E--;E++,c=this.startEnd[0]-E,u=E,h=this.startEnd[1]}else u=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let g=this.getDecodeFinderCounters();re.arraycopy(g,0,g,1,g.length-1),g[0]=c;let w;try{w=this.parseFinderValue(g,ge.FINDER_PATTERNS)}catch{return null}return new da(w,[u,h],u,h,a)}decodeDataCharacter(t,a,r,c){let u=this.getDataCharacterCounters();for(let Ut=0;Ut<u.length;Ut++)u[Ut]=0;if(c)ge.recordPatternInReverse(t,a.getStartEnd()[0],u);else{ge.recordPattern(t,a.getStartEnd()[1],u);for(let Ut=0,Bn=u.length-1;Ut<Bn;Ut++,Bn--){let li=u[Ut];u[Ut]=u[Bn],u[Bn]=li}}let h=17,g=Ze.sum(new Int32Array(u))/h,w=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(g-w)/w>.3)throw new Q;let E=this.getOddCounts(),C=this.getEvenCounts(),O=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let Ut=0;Ut<u.length;Ut++){let Bn=1*u[Ut]/g,li=Bn+.5;if(li<1){if(Bn<.3)throw new Q;li=1}else if(li>8){if(Bn>8.7)throw new Q;li=8}let mr=Ut/2;(Ut&1)==0?(E[mr]=li,O[mr]=Bn-li):(C[mr]=li,R[mr]=Bn-li)}this.adjustOddEvenCounts(h);let B=4*a.getValue()+(r?0:2)+(c?0:1)-1,U=0,F=0;for(let Ut=E.length-1;Ut>=0;Ut--){if(ge.isNotA1left(a,r,c)){let Bn=ge.WEIGHTS[B][2*Ut];F+=E[Ut]*Bn}U+=E[Ut]}let V=0;for(let Ut=C.length-1;Ut>=0;Ut--)if(ge.isNotA1left(a,r,c)){let Bn=ge.WEIGHTS[B][2*Ut+1];V+=C[Ut]*Bn}let ie=F+V;if((U&1)!=0||U>13||U<4)throw new Q;let _e=(13-U)/2,pe=ge.SYMBOL_WIDEST[_e],xe=9-pe,ut=Pi.getRSSvalue(E,pe,!0),nt=Pi.getRSSvalue(C,xe,!1),hn=ge.EVEN_TOTAL_SUBSET[_e],di=ge.GSUM[_e],Gn=ut*hn+nt+di;return new ha(Gn,ie)}static isNotA1left(t,a,r){return!(t.getValue()==0&&a&&r)}adjustOddEvenCounts(t){let a=Ze.sum(new Int32Array(this.getOddCounts())),r=Ze.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;a>13?u=!0:a<4&&(c=!0);let h=!1,g=!1;r>13?g=!0:r<4&&(h=!0);let w=a+r-t,E=(a&1)==1,C=(r&1)==0;if(w==1)if(E){if(C)throw new Q;u=!0}else{if(!C)throw new Q;g=!0}else if(w==-1)if(E){if(C)throw new Q;c=!0}else{if(!C)throw new Q;h=!0}else if(w==0){if(E){if(!C)throw new Q;a<r?(c=!0,g=!0):(u=!0,h=!0)}else if(C)throw new Q}else throw new Q;if(c){if(u)throw new Q;ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new Q;ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ge.SYMBOL_WIDEST=[7,5,4,3,1],ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ge.GSUM=[0,348,1388,2948,3988],ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ge.FINDER_PAT_A=0,ge.FINDER_PAT_B=1,ge.FINDER_PAT_C=2,ge.FINDER_PAT_D=3,ge.FINDER_PAT_E=4,ge.FINDER_PAT_F=5,ge.FINDER_PATTERN_SEQUENCES=[[ge.FINDER_PAT_A,ge.FINDER_PAT_A],[ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B],[ge.FINDER_PAT_A,ge.FINDER_PAT_C,ge.FINDER_PAT_B,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_C],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F]],ge.MAX_PAIRS=11;class jo extends ha{constructor(t,a,r){super(t,a),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Lt extends In{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,a,r){const c=this.decodePair(a,!1,t,r);Lt.addOrTally(this.possibleLeftPairs,c),a.reverse();let u=this.decodePair(a,!0,t,r);Lt.addOrTally(this.possibleRightPairs,u),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Lt.checkChecksum(h,g))return Lt.constructResult(h,g)}throw new Q}static addOrTally(t,a){if(a==null)return;let r=!1;for(let c of t)if(c.getValue()===a.getValue()){c.incrementCount(),r=!0;break}r||t.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,a){let r=4537077*t.getValue()+a.getValue(),c=new String(r).toString(),u=new Qe;for(let E=13-c.length;E>0;E--)u.append("0");u.append(c);let h=0;for(let E=0;E<13;E++){let C=u.charAt(E).charCodeAt(0)-48;h+=(E&1)===0?3*C:C}h=10-h%10,h===10&&(h=0),u.append(h.toString());let g=t.getFinderPattern().getResultPoints(),w=a.getFinderPattern().getResultPoints();return new Ce(u.toString(),null,0,[g[0],g[1],w[0],w[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(t,a){let r=(t.getChecksumPortion()+16*a.getChecksumPortion())%79,c=9*t.getFinderPattern().getValue()+a.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,r===c}decodePair(t,a,r,c){try{let u=this.findFinderPattern(t,a),h=this.parseFoundFinderPattern(t,r,a,u),g=c==null?null:c.get(Ee.NEED_RESULT_POINT_CALLBACK);if(g!=null){let C=(u[0]+u[1])/2;a&&(C=t.getSize()-1-C),g.foundPossibleResultPoint(new Re(C,r))}let w=this.decodeDataCharacter(t,h,!0),E=this.decodeDataCharacter(t,h,!1);return new jo(1597*w.getValue()+E.getValue(),w.getChecksumPortion()+4*E.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,a,r){let c=this.getDataCharacterCounters();for(let V=0;V<c.length;V++)c[V]=0;if(r)Ue.recordPatternInReverse(t,a.getStartEnd()[0],c);else{Ue.recordPattern(t,a.getStartEnd()[1]+1,c);for(let V=0,ie=c.length-1;V<ie;V++,ie--){let _e=c[V];c[V]=c[ie],c[ie]=_e}}let u=r?16:15,h=Ze.sum(new Int32Array(c))/u,g=this.getOddCounts(),w=this.getEvenCounts(),E=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let V=0;V<c.length;V++){let ie=c[V]/h,_e=Math.floor(ie+.5);_e<1?_e=1:_e>8&&(_e=8);let pe=Math.floor(V/2);(V&1)===0?(g[pe]=_e,E[pe]=ie-_e):(w[pe]=_e,C[pe]=ie-_e)}this.adjustOddEvenCounts(r,u);let O=0,R=0;for(let V=g.length-1;V>=0;V--)R*=9,R+=g[V],O+=g[V];let B=0,U=0;for(let V=w.length-1;V>=0;V--)B*=9,B+=w[V],U+=w[V];let F=R+3*B;if(r){if((O&1)!==0||O>12||O<4)throw new Q;let V=(12-O)/2,ie=Lt.OUTSIDE_ODD_WIDEST[V],_e=9-ie,pe=Pi.getRSSvalue(g,ie,!1),xe=Pi.getRSSvalue(w,_e,!0),ut=Lt.OUTSIDE_EVEN_TOTAL_SUBSET[V],nt=Lt.OUTSIDE_GSUM[V];return new ha(pe*ut+xe+nt,F)}else{if((U&1)!==0||U>10||U<4)throw new Q;let V=(10-U)/2,ie=Lt.INSIDE_ODD_WIDEST[V],_e=9-ie,pe=Pi.getRSSvalue(g,ie,!0),xe=Pi.getRSSvalue(w,_e,!1),ut=Lt.INSIDE_ODD_TOTAL_SUBSET[V],nt=Lt.INSIDE_GSUM[V];return new ha(xe*ut+pe+nt,F)}}findFinderPattern(t,a){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let c=t.getSize(),u=!1,h=0;for(;h<c&&(u=!t.get(h),a!==u);)h++;let g=0,w=h;for(let E=h;E<c;E++)if(t.get(E)!==u)r[g]++;else{if(g===3){if(In.isFinderPattern(r))return[w,E];w+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,u=!u}throw new Q}parseFoundFinderPattern(t,a,r,c){let u=t.get(c[0]),h=c[0]-1;for(;h>=0&&u!==t.get(h);)h--;h++;const g=c[0]-h,w=this.getDecodeFinderCounters(),E=new Int32Array(w.length);re.arraycopy(w,0,E,1,w.length-1),E[0]=g;const C=this.parseFinderValue(E,Lt.FINDER_PATTERNS);let O=h,R=c[1];return r&&(O=t.getSize()-1-O,R=t.getSize()-1-R),new da(C,[h,c[1]],O,R,a)}adjustOddEvenCounts(t,a){let r=Ze.sum(new Int32Array(this.getOddCounts())),c=Ze.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,g=!1,w=!1;t?(r>12?h=!0:r<4&&(u=!0),c>12?w=!0:c<4&&(g=!0)):(r>11?h=!0:r<5&&(u=!0),c>10?w=!0:c<4&&(g=!0));let E=r+c-a,C=(r&1)===(t?1:0),O=(c&1)===1;if(E===1)if(C){if(O)throw new Q;h=!0}else{if(!O)throw new Q;w=!0}else if(E===-1)if(C){if(O)throw new Q;u=!0}else{if(!O)throw new Q;g=!0}else if(E===0){if(C){if(!O)throw new Q;r<c?(u=!0,w=!0):(h=!0,g=!0)}else if(O)throw new Q}else throw new Q;if(u){if(h)throw new Q;In.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&In.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new Q;In.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&In.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Lt.OUTSIDE_GSUM=[0,161,961,2015,2715],Lt.INSIDE_GSUM=[0,336,1036,1516],Lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Lt.INSIDE_ODD_WIDEST=[2,4,6,8],Lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ci extends Ue{constructor(t,a){super(),this.readers=[],this.verbose=a===!0;const r=t?t.get(Ee.POSSIBLE_FORMATS):null,c=t&&t.get(Ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ye.EAN_13)||r.includes(ye.UPC_A)||r.includes(ye.EAN_8)||r.includes(ye.UPC_E))&&this.readers.push(new Ns(t)),r.includes(ye.CODE_39)&&this.readers.push(new pt(c)),r.includes(ye.CODE_128)&&this.readers.push(new de),r.includes(ye.ITF)&&this.readers.push(new et),r.includes(ye.RSS_14)&&this.readers.push(new Lt),r.includes(ye.RSS_EXPANDED)&&this.readers.push(new ge(this.verbose))):(this.readers.push(new Ns(t)),this.readers.push(new pt),this.readers.push(new Ns(t)),this.readers.push(new de),this.readers.push(new et),this.readers.push(new Lt),this.readers.push(new ge(this.verbose)))}decodeRow(t,a,r){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(t,a,r)}catch{}throw new Q}reset(){this.readers.forEach(t=>t.reset())}}class Hu extends Ae{constructor(t=500,a){super(new Ci(a),t,a)}}class Tt{constructor(t,a,r){this.ecCodewords=t,this.ecBlocks=[a],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class vt{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class dt{constructor(t,a,r,c,u,h){this.versionNumber=t,this.symbolSizeRows=a,this.symbolSizeColumns=r,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let g=0;const w=h.getECCodewords(),E=h.getECBlocks();for(let C of E)g+=C.getCount()*(C.getDataCodewords()+w);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,a){if((t&1)!==0||(a&1)!==0)throw new Z;for(let r of dt.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===a)return r;throw new Z}toString(){return""+this.versionNumber}static buildVersions(){return[new dt(1,10,10,8,8,new Tt(5,new vt(1,3))),new dt(2,12,12,10,10,new Tt(7,new vt(1,5))),new dt(3,14,14,12,12,new Tt(10,new vt(1,8))),new dt(4,16,16,14,14,new Tt(12,new vt(1,12))),new dt(5,18,18,16,16,new Tt(14,new vt(1,18))),new dt(6,20,20,18,18,new Tt(18,new vt(1,22))),new dt(7,22,22,20,20,new Tt(20,new vt(1,30))),new dt(8,24,24,22,22,new Tt(24,new vt(1,36))),new dt(9,26,26,24,24,new Tt(28,new vt(1,44))),new dt(10,32,32,14,14,new Tt(36,new vt(1,62))),new dt(11,36,36,16,16,new Tt(42,new vt(1,86))),new dt(12,40,40,18,18,new Tt(48,new vt(1,114))),new dt(13,44,44,20,20,new Tt(56,new vt(1,144))),new dt(14,48,48,22,22,new Tt(68,new vt(1,174))),new dt(15,52,52,24,24,new Tt(42,new vt(2,102))),new dt(16,64,64,14,14,new Tt(56,new vt(2,140))),new dt(17,72,72,16,16,new Tt(36,new vt(4,92))),new dt(18,80,80,18,18,new Tt(48,new vt(4,114))),new dt(19,88,88,20,20,new Tt(56,new vt(4,144))),new dt(20,96,96,22,22,new Tt(68,new vt(4,174))),new dt(21,104,104,24,24,new Tt(56,new vt(6,136))),new dt(22,120,120,18,18,new Tt(68,new vt(6,175))),new dt(23,132,132,20,20,new Tt(62,new vt(8,163))),new dt(24,144,144,22,22,new Tt(62,new vt(8,156),new vt(2,155))),new dt(25,8,18,6,16,new Tt(7,new vt(1,5))),new dt(26,8,32,6,14,new Tt(11,new vt(1,10))),new dt(27,12,26,10,24,new Tt(14,new vt(1,16))),new dt(28,12,36,10,16,new Tt(18,new vt(1,22))),new dt(29,16,36,14,16,new Tt(24,new vt(1,32))),new dt(30,16,48,14,22,new Tt(28,new vt(1,49)))]}}dt.VERSIONS=dt.buildVersions();class ar{constructor(t){const a=t.getHeight();if(a<8||a>144||(a&1)!==0)throw new Z;this.version=ar.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Je(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const a=t.getHeight(),r=t.getWidth();return dt.getVersionForDimensions(a,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let a=0,r=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let g=!1,w=!1,E=!1,C=!1;do if(r===u&&c===0&&!g)t[a++]=this.readCorner1(u,h)&255,r-=2,c+=2,g=!0;else if(r===u-2&&c===0&&(h&3)!==0&&!w)t[a++]=this.readCorner2(u,h)&255,r-=2,c+=2,w=!0;else if(r===u+4&&c===2&&(h&7)===0&&!E)t[a++]=this.readCorner3(u,h)&255,r-=2,c+=2,E=!0;else if(r===u-2&&c===0&&(h&7)===4&&!C)t[a++]=this.readCorner4(u,h)&255,r-=2,c+=2,C=!0;else{do r<u&&c>=0&&!this.readMappingMatrix.get(c,r)&&(t[a++]=this.readUtah(r,c,u,h)&255),r-=2,c+=2;while(r>=0&&c<h);r+=1,c+=3;do r>=0&&c<h&&!this.readMappingMatrix.get(c,r)&&(t[a++]=this.readUtah(r,c,u,h)&255),r+=2,c-=2;while(r<u&&c>=0);r+=3,c+=1}while(r<u||c<h);if(a!==this.version.getTotalCodewords())throw new Z;return t}readModule(t,a,r,c){return t<0&&(t+=r,a+=4-(r+4&7)),a<0&&(a+=c,t+=4-(c+4&7)),this.readMappingMatrix.set(a,t),this.mappingBitMatrix.get(a,t)}readUtah(t,a,r,c){let u=0;return this.readModule(t-2,a-2,r,c)&&(u|=1),u<<=1,this.readModule(t-2,a-1,r,c)&&(u|=1),u<<=1,this.readModule(t-1,a-2,r,c)&&(u|=1),u<<=1,this.readModule(t-1,a-1,r,c)&&(u|=1),u<<=1,this.readModule(t-1,a,r,c)&&(u|=1),u<<=1,this.readModule(t,a-2,r,c)&&(u|=1),u<<=1,this.readModule(t,a-1,r,c)&&(u|=1),u<<=1,this.readModule(t,a,r,c)&&(u|=1),u}readCorner1(t,a){let r=0;return this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,1,t,a)&&(r|=1),r<<=1,this.readModule(t-1,2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(2,a-1,t,a)&&(r|=1),r<<=1,this.readModule(3,a-1,t,a)&&(r|=1),r}readCorner2(t,a){let r=0;return this.readModule(t-3,0,t,a)&&(r|=1),r<<=1,this.readModule(t-2,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(0,a-4,t,a)&&(r|=1),r<<=1,this.readModule(0,a-3,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r}readCorner3(t,a){let r=0;return this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(0,a-3,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-3,t,a)&&(r|=1),r<<=1,this.readModule(1,a-2,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r}readCorner4(t,a){let r=0;return this.readModule(t-3,0,t,a)&&(r|=1),r<<=1,this.readModule(t-2,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(2,a-1,t,a)&&(r|=1),r<<=1,this.readModule(3,a-1,t,a)&&(r|=1),r}extractDataRegion(t){const a=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==a)throw new I("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=a/c|0,g=r/u|0,w=h*c,E=g*u,C=new Je(E,w);for(let O=0;O<h;++O){const R=O*c;for(let B=0;B<g;++B){const U=B*u;for(let F=0;F<c;++F){const V=O*(c+2)+1+F,ie=R+F;for(let _e=0;_e<u;++_e){const pe=B*(u+2)+1+_e;if(t.get(pe,V)){const xe=U+_e;C.set(xe,ie)}}}}}return C}}class rr{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a){const r=a.getECBlocks();let c=0;const u=r.getECBlocks();for(let F of u)c+=F.getCount();const h=new Array(c);let g=0;for(let F of u)for(let V=0;V<F.getCount();V++){const ie=F.getDataCodewords(),_e=r.getECCodewords()+ie;h[g++]=new rr(ie,new Uint8Array(_e))}const E=h[0].codewords.length-r.getECCodewords(),C=E-1;let O=0;for(let F=0;F<C;F++)for(let V=0;V<g;V++)h[V].codewords[F]=t[O++];const R=a.getVersionNumber()===24,B=R?8:g;for(let F=0;F<B;F++)h[F].codewords[E-1]=t[O++];const U=h[0].codewords.length;for(let F=E;F<U;F++)for(let V=0;V<g;V++){const ie=R?(V+8)%g:V,_e=R&&ie>7?F-1:F;h[ie].codewords[_e]=t[O++]}if(O!==t.length)throw new I;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Si{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new I(""+t);let a=0,r=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(r>0){const h=8-r,g=t<h?t:h,w=h-g,E=255>>8-g<<w;a=(u[c]&E)>>w,t-=g,r+=g,r===8&&(r=0,c++)}if(t>0){for(;t>=8;)a=a<<8|u[c]&255,c++,t-=8;if(t>0){const h=8-t,g=255>>h<<h;a=a<<t|(u[c]&g)>>h,r+=t}}return this.bitOffset=r,this.byteOffset=c,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nt||(Nt={}));class ia{static decode(t){const a=new Si(t),r=new Qe,c=new Qe,u=new Array;let h=Nt.ASCII_ENCODE;do if(h===Nt.ASCII_ENCODE)h=this.decodeAsciiSegment(a,r,c);else{switch(h){case Nt.C40_ENCODE:this.decodeC40Segment(a,r);break;case Nt.TEXT_ENCODE:this.decodeTextSegment(a,r);break;case Nt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,r);break;case Nt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,r);break;case Nt.BASE256_ENCODE:this.decodeBase256Segment(a,r,u);break;default:throw new Z}h=Nt.ASCII_ENCODE}while(h!==Nt.PAD_ENCODE&&a.available()>0);return c.length()>0&&r.append(c.toString()),new It(t,r.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,a,r){let c=!1;do{let u=t.readBits(8);if(u===0)throw new Z;if(u<=128)return c&&(u+=128),a.append(String.fromCharCode(u-1)),Nt.ASCII_ENCODE;if(u===129)return Nt.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&a.append("0"),a.append(""+h)}else switch(u){case 230:return Nt.C40_ENCODE;case 231:return Nt.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:a.append("[)>05"),r.insert(0,"");break;case 237:a.append("[)>06"),r.insert(0,"");break;case 238:return Nt.ANSIX12_ENCODE;case 239:return Nt.TEXT_ENCODE;case 240:return Nt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new Z;break}}while(t.available()>0);return Nt.ASCII_ENCODE}static decodeC40Segment(t,a){let r=!1;const c=[];let u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),c);for(let g=0;g<3;g++){const w=c[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[w];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E)}else throw new Z;break;case 1:r?(a.append(String.fromCharCode(w+128)),r=!1):a.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[w];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E)}else switch(w){case 27:a.append("");break;case 30:r=!0;break;default:throw new Z}u=0;break;case 3:r?(a.append(String.fromCharCode(w+224)),r=!1):a.append(String.fromCharCode(w+96)),u=0;break;default:throw new Z}}}while(t.available()>0)}static decodeTextSegment(t,a){let r=!1,c=[],u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),c);for(let g=0;g<3;g++){const w=c[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[w];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E)}else throw new Z;break;case 1:r?(a.append(String.fromCharCode(w+128)),r=!1):a.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[w];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E)}else switch(w){case 27:a.append("");break;case 30:r=!0;break;default:throw new Z}u=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[w];r?(a.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):a.append(E),u=0}else throw new Z;break;default:throw new Z}}}while(t.available()>0)}static decodeAnsiX12Segment(t,a){const r=[];do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),r);for(let u=0;u<3;u++){const h=r[u];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else if(h<40)a.append(String.fromCharCode(h+51));else throw new Z;break}}}while(t.available()>0)}static parseTwoBytes(t,a,r){let c=(t<<8)+a-1,u=Math.floor(c/1600);r[0]=u,c-=u*1600,u=Math.floor(c/40),r[1]=u,r[2]=c-u*40}static decodeEdifactSegment(t,a){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let c=t.readBits(6);if(c===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(c&32)===0&&(c|=64),a.append(String.fromCharCode(c))}}while(t.available()>0)}static decodeBase256Segment(t,a,r){let c=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),c++);let h;if(u===0?h=t.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(t.readBits(8),c++),h<0)throw new Z;const g=new Uint8Array(h);for(let w=0;w<h;w++){if(t.available()<8)throw new Z;g[w]=this.unrandomize255State(t.readBits(8),c++)}r.push(g);try{a.append(Te.decode(g,Ne.ISO88591))}catch(w){throw new At("Platform does not support required encoding: "+w.message)}}static unrandomize255State(t,a){const r=149*a%255+1,c=t-r;return c>=0?c:c+256}}ia.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ia.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ia.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ia.TEXT_SHIFT2_SET_CHARS=ia.C40_SHIFT2_SET_CHARS,ia.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Zu{constructor(){this.rsDecoder=new zn(Me.DATA_MATRIX_FIELD_256)}decode(t){const a=new ar(t),r=a.getVersion(),c=a.readCodewords(),u=rr.getDataBlocks(c,r);let h=0;for(let E of u)h+=E.getNumDataCodewords();const g=new Uint8Array(h),w=u.length;for(let E=0;E<w;E++){const C=u[E],O=C.getCodewords(),R=C.getNumDataCodewords();this.correctErrors(O,R);for(let B=0;B<R;B++)g[B*w+E]=O[B]}return ia.decode(g)}correctErrors(t,a){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-a)}catch{throw new L}for(let c=0;c<a;c++)t[c]=r[c]}}class Jt{constructor(t){this.image=t,this.rectangleDetector=new We(this.image)}detect(){const t=this.rectangleDetector.detect();let a=this.detectSolid1(t);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new Q;a=this.shiftToModuleCenter(a);const r=a[0],c=a[1],u=a[2],h=a[3];let g=this.transitionsBetween(r,h)+1,w=this.transitionsBetween(u,h)+1;(g&1)===1&&(g+=1),(w&1)===1&&(w+=1),4*g<7*w&&4*w<7*g&&(g=w=Math.max(g,w));let E=Jt.sampleGrid(this.image,r,c,u,h,g,w);return new sn(E,[r,c,u,h])}static shiftPoint(t,a,r){let c=(a.getX()-t.getX())/(r+1),u=(a.getY()-t.getY())/(r+1);return new Re(t.getX()+c,t.getY()+u)}static moveAway(t,a,r){let c=t.getX(),u=t.getY();return c<a?c-=1:c+=1,u<r?u-=1:u+=1,new Re(c,u)}detectSolid1(t){let a=t[0],r=t[1],c=t[3],u=t[2],h=this.transitionsBetween(a,r),g=this.transitionsBetween(r,c),w=this.transitionsBetween(c,u),E=this.transitionsBetween(u,a),C=h,O=[u,a,r,c];return C>g&&(C=g,O[0]=a,O[1]=r,O[2]=c,O[3]=u),C>w&&(C=w,O[0]=r,O[1]=c,O[2]=u,O[3]=a),C>E&&(O[0]=c,O[1]=u,O[2]=a,O[3]=r),O}detectSolid2(t){let a=t[0],r=t[1],c=t[2],u=t[3],h=this.transitionsBetween(a,u),g=Jt.shiftPoint(r,c,(h+1)*4),w=Jt.shiftPoint(c,r,(h+1)*4),E=this.transitionsBetween(g,a),C=this.transitionsBetween(w,u);return E<C?(t[0]=a,t[1]=r,t[2]=c,t[3]=u):(t[0]=r,t[1]=c,t[2]=u,t[3]=a),t}correctTopRight(t){let a=t[0],r=t[1],c=t[2],u=t[3],h=this.transitionsBetween(a,u),g=this.transitionsBetween(r,u),w=Jt.shiftPoint(a,r,(g+1)*4),E=Jt.shiftPoint(c,r,(h+1)*4);h=this.transitionsBetween(w,u),g=this.transitionsBetween(E,u);let C=new Re(u.getX()+(c.getX()-r.getX())/(h+1),u.getY()+(c.getY()-r.getY())/(h+1)),O=new Re(u.getX()+(a.getX()-r.getX())/(g+1),u.getY()+(a.getY()-r.getY())/(g+1));if(!this.isValid(C))return this.isValid(O)?O:null;if(!this.isValid(O))return C;let R=this.transitionsBetween(w,C)+this.transitionsBetween(E,C),B=this.transitionsBetween(w,O)+this.transitionsBetween(E,O);return R>B?C:O}shiftToModuleCenter(t){let a=t[0],r=t[1],c=t[2],u=t[3],h=this.transitionsBetween(a,u)+1,g=this.transitionsBetween(c,u)+1,w=Jt.shiftPoint(a,r,g*4),E=Jt.shiftPoint(c,r,h*4);h=this.transitionsBetween(w,u)+1,g=this.transitionsBetween(E,u)+1,(h&1)===1&&(h+=1),(g&1)===1&&(g+=1);let C=(a.getX()+r.getX()+c.getX()+u.getX())/4,O=(a.getY()+r.getY()+c.getY()+u.getY())/4;a=Jt.moveAway(a,C,O),r=Jt.moveAway(r,C,O),c=Jt.moveAway(c,C,O),u=Jt.moveAway(u,C,O);let R,B;return w=Jt.shiftPoint(a,r,g*4),w=Jt.shiftPoint(w,u,h*4),R=Jt.shiftPoint(r,a,g*4),R=Jt.shiftPoint(R,c,h*4),E=Jt.shiftPoint(c,u,g*4),E=Jt.shiftPoint(E,r,h*4),B=Jt.shiftPoint(u,c,g*4),B=Jt.shiftPoint(B,a,h*4),[w,R,E,B]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,a,r,c,u,h,g){return ei.getInstance().sampleGrid(t,h,g,.5,.5,h-.5,.5,h-.5,g-.5,.5,g-.5,a.getX(),a.getY(),u.getX(),u.getY(),c.getX(),c.getY(),r.getX(),r.getY())}transitionsBetween(t,a){let r=Math.trunc(t.getX()),c=Math.trunc(t.getY()),u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.abs(h-c)>Math.abs(u-r);if(g){let F=r;r=c,c=F,F=u,u=h,h=F}let w=Math.abs(u-r),E=Math.abs(h-c),C=-w/2,O=c<h?1:-1,R=r<u?1:-1,B=0,U=this.image.get(g?c:r,g?r:c);for(let F=r,V=c;F!==u;F+=R){let ie=this.image.get(g?V:F,g?F:V);if(ie!==U&&(B++,U=ie),C+=E,C>0){if(V===h)break;V+=O,C-=w}}return B}}class aa{constructor(){this.decoder=new Zu}decode(t,a=null){let r,c;if(a!=null&&a.has(Ee.PURE_BARCODE)){const E=aa.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(E),c=aa.NO_POINTS}else{const E=new Jt(t.getBlackMatrix()).detect();r=this.decoder.decode(E.getBits()),c=E.getPoints()}const u=r.getRawBytes(),h=new Ce(r.getText(),u,8*u.length,c,ye.DATA_MATRIX,re.currentTimeMillis()),g=r.getByteSegments();g!=null&&h.putMetadata(rt.BYTE_SEGMENTS,g);const w=r.getECLevel();return w!=null&&h.putMetadata(rt.ERROR_CORRECTION_LEVEL,w),h}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(a==null||r==null)throw new Q;const c=this.moduleSize(a,t);let u=a[1];const h=r[1];let g=a[0];const E=(r[0]-g+1)/c,C=(h-u+1)/c;if(E<=0||C<=0)throw new Q;const O=c/2;u+=O,g+=O;const R=new Je(E,C);for(let B=0;B<C;B++){const U=u+B*c;for(let F=0;F<E;F++)t.get(g+F*c,U)&&R.set(F,B)}return R}static moduleSize(t,a){const r=a.getWidth();let c=t[0];const u=t[1];for(;c<r&&a.get(c,u);)c++;if(c===r)throw new Q;const h=c-t[0];if(h===0)throw new Q;return h}}aa.NO_POINTS=[];class Ml extends Ae{constructor(t=500){super(new aa,t)}}var lr;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(lr||(lr={}));class ft{constructor(t,a,r){this.value=t,this.stringValue=a,this.bits=r,ft.FOR_BITS.set(r,this),ft.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return ft.L;case"M":return ft.M;case"Q":return ft.Q;case"H":return ft.H;default:throw new v(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof ft))return!1;const a=t;return this.value===a.value}static forBits(t){if(t<0||t>=ft.FOR_BITS.size)throw new I;return ft.FOR_BITS.get(t)}}ft.FOR_BITS=new Map,ft.FOR_VALUE=new Map,ft.L=new ft(lr.L,"L",1),ft.M=new ft(lr.M,"M",0),ft.Q=new ft(lr.Q,"Q",3),ft.H=new ft(lr.H,"H",2);class Sn{constructor(t){this.errorCorrectionLevel=ft.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,a){return X.bitCount(t^a)}static decodeFormatInformation(t,a){const r=Sn.doDecodeFormatInformation(t,a);return r!==null?r:Sn.doDecodeFormatInformation(t^Sn.FORMAT_INFO_MASK_QR,a^Sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,a){let r=Number.MAX_SAFE_INTEGER,c=0;for(const u of Sn.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===t||h===a)return new Sn(u[1]);let g=Sn.numBitsDiffering(t,h);g<r&&(c=u[1],r=g),t!==a&&(g=Sn.numBitsDiffering(a,h),g<r&&(c=u[1],r=g))}return r<=3?new Sn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Sn))return!1;const a=t;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Sn.FORMAT_INFO_MASK_QR=21522,Sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(t,...a){this.ecCodewordsPerBlock=t,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const a=this.ecBlocks;for(const r of a)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ze{constructor(t,a,...r){this.versionNumber=t,this.alignmentPatternCenters=a,this.ecBlocks=r;let c=0;const u=r[0].getECCodewordsPerBlock(),h=r[0].getECBlocks();for(const g of h)c+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new Z;try{return this.getVersionForNumber((t-17)/4)}catch{throw new Z}}static getVersionForNumber(t){if(t<1||t>40)throw new I;return ze.VERSIONS[t-1]}static decodeVersionInformation(t){let a=Number.MAX_SAFE_INTEGER,r=0;for(let c=0;c<ze.VERSION_DECODE_INFO.length;c++){const u=ze.VERSION_DECODE_INFO[c];if(u===t)return ze.getVersionForNumber(c+7);const h=Sn.numBitsDiffering(t,u);h<a&&(r=c+7,a=h)}return a<=3?ze.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),a=new Je(t);a.setRegion(0,0,9,9),a.setRegion(t-8,0,8,9),a.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let c=0;c<r;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<r;h++)c===0&&(h===0||h===r-1)||c===r-1&&h===0||a.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return a.setRegion(6,9,1,t-17),a.setRegion(9,6,t-17,1),this.versionNumber>6&&(a.setRegion(t-11,0,3,6),a.setRegion(0,t-11,6,3)),a}toString(){return""+this.versionNumber}}ze.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ze.VERSIONS=[new ze(1,new Int32Array(0),new Y(7,new M(1,19)),new Y(10,new M(1,16)),new Y(13,new M(1,13)),new Y(17,new M(1,9))),new ze(2,Int32Array.from([6,18]),new Y(10,new M(1,34)),new Y(16,new M(1,28)),new Y(22,new M(1,22)),new Y(28,new M(1,16))),new ze(3,Int32Array.from([6,22]),new Y(15,new M(1,55)),new Y(26,new M(1,44)),new Y(18,new M(2,17)),new Y(22,new M(2,13))),new ze(4,Int32Array.from([6,26]),new Y(20,new M(1,80)),new Y(18,new M(2,32)),new Y(26,new M(2,24)),new Y(16,new M(4,9))),new ze(5,Int32Array.from([6,30]),new Y(26,new M(1,108)),new Y(24,new M(2,43)),new Y(18,new M(2,15),new M(2,16)),new Y(22,new M(2,11),new M(2,12))),new ze(6,Int32Array.from([6,34]),new Y(18,new M(2,68)),new Y(16,new M(4,27)),new Y(24,new M(4,19)),new Y(28,new M(4,15))),new ze(7,Int32Array.from([6,22,38]),new Y(20,new M(2,78)),new Y(18,new M(4,31)),new Y(18,new M(2,14),new M(4,15)),new Y(26,new M(4,13),new M(1,14))),new ze(8,Int32Array.from([6,24,42]),new Y(24,new M(2,97)),new Y(22,new M(2,38),new M(2,39)),new Y(22,new M(4,18),new M(2,19)),new Y(26,new M(4,14),new M(2,15))),new ze(9,Int32Array.from([6,26,46]),new Y(30,new M(2,116)),new Y(22,new M(3,36),new M(2,37)),new Y(20,new M(4,16),new M(4,17)),new Y(24,new M(4,12),new M(4,13))),new ze(10,Int32Array.from([6,28,50]),new Y(18,new M(2,68),new M(2,69)),new Y(26,new M(4,43),new M(1,44)),new Y(24,new M(6,19),new M(2,20)),new Y(28,new M(6,15),new M(2,16))),new ze(11,Int32Array.from([6,30,54]),new Y(20,new M(4,81)),new Y(30,new M(1,50),new M(4,51)),new Y(28,new M(4,22),new M(4,23)),new Y(24,new M(3,12),new M(8,13))),new ze(12,Int32Array.from([6,32,58]),new Y(24,new M(2,92),new M(2,93)),new Y(22,new M(6,36),new M(2,37)),new Y(26,new M(4,20),new M(6,21)),new Y(28,new M(7,14),new M(4,15))),new ze(13,Int32Array.from([6,34,62]),new Y(26,new M(4,107)),new Y(22,new M(8,37),new M(1,38)),new Y(24,new M(8,20),new M(4,21)),new Y(22,new M(12,11),new M(4,12))),new ze(14,Int32Array.from([6,26,46,66]),new Y(30,new M(3,115),new M(1,116)),new Y(24,new M(4,40),new M(5,41)),new Y(20,new M(11,16),new M(5,17)),new Y(24,new M(11,12),new M(5,13))),new ze(15,Int32Array.from([6,26,48,70]),new Y(22,new M(5,87),new M(1,88)),new Y(24,new M(5,41),new M(5,42)),new Y(30,new M(5,24),new M(7,25)),new Y(24,new M(11,12),new M(7,13))),new ze(16,Int32Array.from([6,26,50,74]),new Y(24,new M(5,98),new M(1,99)),new Y(28,new M(7,45),new M(3,46)),new Y(24,new M(15,19),new M(2,20)),new Y(30,new M(3,15),new M(13,16))),new ze(17,Int32Array.from([6,30,54,78]),new Y(28,new M(1,107),new M(5,108)),new Y(28,new M(10,46),new M(1,47)),new Y(28,new M(1,22),new M(15,23)),new Y(28,new M(2,14),new M(17,15))),new ze(18,Int32Array.from([6,30,56,82]),new Y(30,new M(5,120),new M(1,121)),new Y(26,new M(9,43),new M(4,44)),new Y(28,new M(17,22),new M(1,23)),new Y(28,new M(2,14),new M(19,15))),new ze(19,Int32Array.from([6,30,58,86]),new Y(28,new M(3,113),new M(4,114)),new Y(26,new M(3,44),new M(11,45)),new Y(26,new M(17,21),new M(4,22)),new Y(26,new M(9,13),new M(16,14))),new ze(20,Int32Array.from([6,34,62,90]),new Y(28,new M(3,107),new M(5,108)),new Y(26,new M(3,41),new M(13,42)),new Y(30,new M(15,24),new M(5,25)),new Y(28,new M(15,15),new M(10,16))),new ze(21,Int32Array.from([6,28,50,72,94]),new Y(28,new M(4,116),new M(4,117)),new Y(26,new M(17,42)),new Y(28,new M(17,22),new M(6,23)),new Y(30,new M(19,16),new M(6,17))),new ze(22,Int32Array.from([6,26,50,74,98]),new Y(28,new M(2,111),new M(7,112)),new Y(28,new M(17,46)),new Y(30,new M(7,24),new M(16,25)),new Y(24,new M(34,13))),new ze(23,Int32Array.from([6,30,54,78,102]),new Y(30,new M(4,121),new M(5,122)),new Y(28,new M(4,47),new M(14,48)),new Y(30,new M(11,24),new M(14,25)),new Y(30,new M(16,15),new M(14,16))),new ze(24,Int32Array.from([6,28,54,80,106]),new Y(30,new M(6,117),new M(4,118)),new Y(28,new M(6,45),new M(14,46)),new Y(30,new M(11,24),new M(16,25)),new Y(30,new M(30,16),new M(2,17))),new ze(25,Int32Array.from([6,32,58,84,110]),new Y(26,new M(8,106),new M(4,107)),new Y(28,new M(8,47),new M(13,48)),new Y(30,new M(7,24),new M(22,25)),new Y(30,new M(22,15),new M(13,16))),new ze(26,Int32Array.from([6,30,58,86,114]),new Y(28,new M(10,114),new M(2,115)),new Y(28,new M(19,46),new M(4,47)),new Y(28,new M(28,22),new M(6,23)),new Y(30,new M(33,16),new M(4,17))),new ze(27,Int32Array.from([6,34,62,90,118]),new Y(30,new M(8,122),new M(4,123)),new Y(28,new M(22,45),new M(3,46)),new Y(30,new M(8,23),new M(26,24)),new Y(30,new M(12,15),new M(28,16))),new ze(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new M(3,117),new M(10,118)),new Y(28,new M(3,45),new M(23,46)),new Y(30,new M(4,24),new M(31,25)),new Y(30,new M(11,15),new M(31,16))),new ze(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new M(7,116),new M(7,117)),new Y(28,new M(21,45),new M(7,46)),new Y(30,new M(1,23),new M(37,24)),new Y(30,new M(19,15),new M(26,16))),new ze(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new M(5,115),new M(10,116)),new Y(28,new M(19,47),new M(10,48)),new Y(30,new M(15,24),new M(25,25)),new Y(30,new M(23,15),new M(25,16))),new ze(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new M(13,115),new M(3,116)),new Y(28,new M(2,46),new M(29,47)),new Y(30,new M(42,24),new M(1,25)),new Y(30,new M(23,15),new M(28,16))),new ze(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new M(17,115)),new Y(28,new M(10,46),new M(23,47)),new Y(30,new M(10,24),new M(35,25)),new Y(30,new M(19,15),new M(35,16))),new ze(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new M(17,115),new M(1,116)),new Y(28,new M(14,46),new M(21,47)),new Y(30,new M(29,24),new M(19,25)),new Y(30,new M(11,15),new M(46,16))),new ze(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new M(13,115),new M(6,116)),new Y(28,new M(14,46),new M(23,47)),new Y(30,new M(44,24),new M(7,25)),new Y(30,new M(59,16),new M(1,17))),new ze(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new M(12,121),new M(7,122)),new Y(28,new M(12,47),new M(26,48)),new Y(30,new M(39,24),new M(14,25)),new Y(30,new M(22,15),new M(41,16))),new ze(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new M(6,121),new M(14,122)),new Y(28,new M(6,47),new M(34,48)),new Y(30,new M(46,24),new M(10,25)),new Y(30,new M(2,15),new M(64,16))),new ze(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new M(17,122),new M(4,123)),new Y(28,new M(29,46),new M(14,47)),new Y(30,new M(49,24),new M(10,25)),new Y(30,new M(24,15),new M(46,16))),new ze(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new M(4,122),new M(18,123)),new Y(28,new M(13,46),new M(32,47)),new Y(30,new M(48,24),new M(14,25)),new Y(30,new M(42,15),new M(32,16))),new ze(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new M(20,117),new M(4,118)),new Y(28,new M(40,47),new M(7,48)),new Y(30,new M(43,24),new M(22,25)),new Y(30,new M(10,15),new M(67,16))),new ze(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new M(19,118),new M(6,119)),new Y(28,new M(18,47),new M(31,48)),new Y(30,new M(34,24),new M(34,25)),new Y(30,new M(20,15),new M(61,16)))];var wn;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(wn||(wn={}));class ai{constructor(t,a){this.value=t,this.isMasked=a}unmaskBitMatrix(t,a){for(let r=0;r<a;r++)for(let c=0;c<a;c++)this.isMasked(r,c)&&t.flip(c,r)}}ai.values=new Map([[wn.DATA_MASK_000,new ai(wn.DATA_MASK_000,(N,t)=>(N+t&1)===0)],[wn.DATA_MASK_001,new ai(wn.DATA_MASK_001,(N,t)=>(N&1)===0)],[wn.DATA_MASK_010,new ai(wn.DATA_MASK_010,(N,t)=>t%3===0)],[wn.DATA_MASK_011,new ai(wn.DATA_MASK_011,(N,t)=>(N+t)%3===0)],[wn.DATA_MASK_100,new ai(wn.DATA_MASK_100,(N,t)=>(Math.floor(N/2)+Math.floor(t/3)&1)===0)],[wn.DATA_MASK_101,new ai(wn.DATA_MASK_101,(N,t)=>N*t%6===0)],[wn.DATA_MASK_110,new ai(wn.DATA_MASK_110,(N,t)=>N*t%6<3)],[wn.DATA_MASK_111,new ai(wn.DATA_MASK_111,(N,t)=>(N+t+N*t%3&1)===0)]]);class sr{constructor(t){const a=t.getHeight();if(a<21||(a&3)!==1)throw new Z;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const a=this.bitMatrix.getHeight();let r=0;const c=a-7;for(let u=a-1;u>=c;u--)r=this.copyBit(8,u,r);for(let u=a-8;u<a;u++)r=this.copyBit(u,8,r);if(this.parsedFormatInfo=Sn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),a=Math.floor((t-17)/4);if(a<=6)return ze.getVersionForNumber(a);let r=0;const c=t-11;for(let h=5;h>=0;h--)for(let g=t-9;g>=c;g--)r=this.copyBit(g,h,r);let u=ze.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;r=0;for(let h=5;h>=0;h--)for(let g=t-9;g>=c;g--)r=this.copyBit(h,g,r);if(u=ze.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new Z}copyBit(t,a,r){return(this.isMirror?this.bitMatrix.get(a,t):this.bitMatrix.get(t,a))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),a=this.readVersion(),r=ai.values.get(t.getDataMask()),c=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,c);const u=a.buildFunctionPattern();let h=!0;const g=new Uint8Array(a.getTotalCodewords());let w=0,E=0,C=0;for(let O=c-1;O>0;O-=2){O===6&&O--;for(let R=0;R<c;R++){const B=h?c-1-R:R;for(let U=0;U<2;U++)u.get(O-U,B)||(C++,E<<=1,this.bitMatrix.get(O-U,B)&&(E|=1),C===8&&(g[w++]=E,C=0,E=0))}h=!h}if(w!==a.getTotalCodewords())throw new Z;return g}remask(){if(this.parsedFormatInfo===null)return;const t=ai.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,a)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let a=0,r=t.getWidth();a<r;a++)for(let c=a+1,u=t.getHeight();c<u;c++)t.get(a,c)!==t.get(c,a)&&(t.flip(c,a),t.flip(a,c))}}class Os{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a,r){if(t.length!==a.getTotalCodewords())throw new I;const c=a.getECBlocksForLevel(r);let u=0;const h=c.getECBlocks();for(const U of h)u+=U.getCount();const g=new Array(u);let w=0;for(const U of h)for(let F=0;F<U.getCount();F++){const V=U.getDataCodewords(),ie=c.getECCodewordsPerBlock()+V;g[w++]=new Os(V,new Uint8Array(ie))}const E=g[0].codewords.length;let C=g.length-1;for(;C>=0&&g[C].codewords.length!==E;)C--;C++;const O=E-c.getECCodewordsPerBlock();let R=0;for(let U=0;U<O;U++)for(let F=0;F<w;F++)g[F].codewords[U]=t[R++];for(let U=C;U<w;U++)g[U].codewords[O]=t[R++];const B=g[0].codewords.length;for(let U=O;U<B;U++)for(let F=0;F<w;F++){const V=F<C?U:U+1;g[F].codewords[V]=t[R++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ri;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(ri||(ri={}));class He{constructor(t,a,r,c){this.value=t,this.stringValue=a,this.characterCountBitsForVersions=r,this.bits=c,He.FOR_BITS.set(c,this),He.FOR_VALUE.set(t,this)}static forBits(t){const a=He.FOR_BITS.get(t);if(a===void 0)throw new I;return a}getCharacterCountBits(t){const a=t.getVersionNumber();let r;return a<=9?r=0:a<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof He))return!1;const a=t;return this.value===a.value}toString(){return this.stringValue}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.TERMINATOR=new He(ri.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),He.NUMERIC=new He(ri.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),He.ALPHANUMERIC=new He(ri.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),He.STRUCTURED_APPEND=new He(ri.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),He.BYTE=new He(ri.BYTE,"BYTE",Int32Array.from([8,16,16]),4),He.ECI=new He(ri.ECI,"ECI",Int32Array.from([0,0,0]),7),He.KANJI=new He(ri.KANJI,"KANJI",Int32Array.from([8,10,12]),8),He.FNC1_FIRST_POSITION=new He(ri.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),He.FNC1_SECOND_POSITION=new He(ri.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),He.HANZI=new He(ri.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Xt{static decode(t,a,r,c){const u=new Si(t);let h=new Qe;const g=new Array;let w=-1,E=-1;try{let C=null,O=!1,R;do{if(u.available()<4)R=He.TERMINATOR;else{const B=u.readBits(4);R=He.forBits(B)}switch(R){case He.TERMINATOR:break;case He.FNC1_FIRST_POSITION:case He.FNC1_SECOND_POSITION:O=!0;break;case He.STRUCTURED_APPEND:if(u.available()<16)throw new Z;w=u.readBits(8),E=u.readBits(8);break;case He.ECI:const B=Xt.parseECIValue(u);if(C=te.getCharacterSetECIByValue(B),C===null)throw new Z;break;case He.HANZI:const U=u.readBits(4),F=u.readBits(R.getCharacterCountBits(a));U===Xt.GB2312_SUBSET&&Xt.decodeHanziSegment(u,h,F);break;default:const V=u.readBits(R.getCharacterCountBits(a));switch(R){case He.NUMERIC:Xt.decodeNumericSegment(u,h,V);break;case He.ALPHANUMERIC:Xt.decodeAlphanumericSegment(u,h,V,O);break;case He.BYTE:Xt.decodeByteSegment(u,h,V,C,g,c);break;case He.KANJI:Xt.decodeKanjiSegment(u,h,V);break;default:throw new Z}break}}while(R!==He.TERMINATOR)}catch{throw new Z}return new It(t,h.toString(),g.length===0?null:g,r===null?null:r.toString(),w,E)}static decodeHanziSegment(t,a,r){if(r*13>t.available())throw new Z;const c=new Uint8Array(2*r);let u=0;for(;r>0;){const h=t.readBits(13);let g=h/96<<8&4294967295|h%96;g<959?g+=41377:g+=42657,c[u]=g>>8&255,c[u+1]=g&255,u+=2,r--}try{a.append(Te.decode(c,Ne.GB2312))}catch(h){throw new Z(h)}}static decodeKanjiSegment(t,a,r){if(r*13>t.available())throw new Z;const c=new Uint8Array(2*r);let u=0;for(;r>0;){const h=t.readBits(13);let g=h/192<<8&4294967295|h%192;g<7936?g+=33088:g+=49472,c[u]=g>>8,c[u+1]=g,u+=2,r--}try{a.append(Te.decode(c,Ne.SHIFT_JIS))}catch(h){throw new Z(h)}}static decodeByteSegment(t,a,r,c,u,h){if(8*r>t.available())throw new Z;const g=new Uint8Array(r);for(let E=0;E<r;E++)g[E]=t.readBits(8);let w;c===null?w=Ne.guessEncoding(g,h):w=c.getName();try{a.append(Te.decode(g,w))}catch(E){throw new Z(E)}u.push(g)}static toAlphaNumericChar(t){if(t>=Xt.ALPHANUMERIC_CHARS.length)throw new Z;return Xt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,a,r,c){const u=a.length();for(;r>1;){if(t.available()<11)throw new Z;const h=t.readBits(11);a.append(Xt.toAlphaNumericChar(Math.floor(h/45))),a.append(Xt.toAlphaNumericChar(h%45)),r-=2}if(r===1){if(t.available()<6)throw new Z;a.append(Xt.toAlphaNumericChar(t.readBits(6)))}if(c)for(let h=u;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,""))}static decodeNumericSegment(t,a,r){for(;r>=3;){if(t.available()<10)throw new Z;const c=t.readBits(10);if(c>=1e3)throw new Z;a.append(Xt.toAlphaNumericChar(Math.floor(c/100))),a.append(Xt.toAlphaNumericChar(Math.floor(c/10)%10)),a.append(Xt.toAlphaNumericChar(c%10)),r-=3}if(r===2){if(t.available()<7)throw new Z;const c=t.readBits(7);if(c>=100)throw new Z;a.append(Xt.toAlphaNumericChar(Math.floor(c/10))),a.append(Xt.toAlphaNumericChar(c%10))}else if(r===1){if(t.available()<4)throw new Z;const c=t.readBits(4);if(c>=10)throw new Z;a.append(Xt.toAlphaNumericChar(c))}}static parseECIValue(t){const a=t.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const r=t.readBits(8);return(a&63)<<8&4294967295|r}if((a&224)===192){const r=t.readBits(16);return(a&31)<<16&4294967295|r}throw new Z}}Xt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Xt.GB2312_SUBSET=1;class Go{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const a=t[0];t[0]=t[2],t[2]=a}}class ju{constructor(){this.rsDecoder=new zn(Me.QR_CODE_FIELD_256)}decodeBooleanArray(t,a){return this.decodeBitMatrix(Je.parseFromBooleanArray(t),a)}decodeBitMatrix(t,a){const r=new sr(t);let c=null;try{return this.decodeBitMatrixParser(r,a)}catch(u){c=u}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const u=this.decodeBitMatrixParser(r,a);return u.setOther(new Go(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(t,a){const r=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),h=Os.getDataBlocks(u,r,c);let g=0;for(const C of h)g+=C.getNumDataCodewords();const w=new Uint8Array(g);let E=0;for(const C of h){const O=C.getCodewords(),R=C.getNumDataCodewords();this.correctErrors(O,R);for(let B=0;B<R;B++)w[E++]=O[B]}return Xt.decode(w,r,c,a)}correctErrors(t,a){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-a)}catch{throw new L}for(let c=0;c<a;c++)t[c]=r[c]}}class or extends Re{constructor(t,a,r){super(t,a),this.estimatedModuleSize=r}aboutEquals(t,a,r){if(Math.abs(a-this.getY())<=t&&Math.abs(r-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,a,r){const c=(this.getX()+a)/2,u=(this.getY()+t)/2,h=(this.estimatedModuleSize+r)/2;return new or(c,u,h)}}class fi{constructor(t,a,r,c,u,h,g){this.image=t,this.startX=a,this.startY=r,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,a=this.height,r=this.width,c=t+r,u=this.startY+a/2,h=new Int32Array(3),g=this.image;for(let w=0;w<a;w++){const E=u+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));h[0]=0,h[1]=0,h[2]=0;let C=t;for(;C<c&&!g.get(C,E);)C++;let O=0;for(;C<c;){if(g.get(C,E))if(O===1)h[1]++;else if(O===2){if(this.foundPatternCross(h)){const R=this.handlePossibleCenter(h,E,C);if(R!==null)return R}h[0]=h[2],h[1]=1,h[2]=0,O=1}else h[++O]++;else O===1&&O++,h[O]++;C++}if(this.foundPatternCross(h)){const R=this.handlePossibleCenter(h,E,c);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(t,a){return a-t[2]-t[1]/2}foundPatternCross(t){const a=this.moduleSize,r=a/2;for(let c=0;c<3;c++)if(Math.abs(a-t[c])>=r)return!1;return!0}crossCheckVertical(t,a,r,c){const u=this.image,h=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let w=t;for(;w>=0&&u.get(a,w)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&!u.get(a,w)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(a,w)&&g[1]<=r;)g[1]++,w++;if(w===h||g[1]>r)return NaN;for(;w<h&&!u.get(a,w)&&g[2]<=r;)g[2]++,w++;if(g[2]>r)return NaN;const E=g[0]+g[1]+g[2];return 5*Math.abs(E-c)>=2*c?NaN:this.foundPatternCross(g)?fi.centerFromEnd(g,w):NaN}handlePossibleCenter(t,a,r){const c=t[0]+t[1]+t[2],u=fi.centerFromEnd(t,r),h=this.crossCheckVertical(a,u,2*t[1],c);if(!isNaN(h)){const g=(t[0]+t[1]+t[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(g,h,u))return E.combineEstimate(h,u,g);const w=new or(u,h,g);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Wr extends Re{constructor(t,a,r,c){super(t,a),this.estimatedModuleSize=r,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,a,r){if(Math.abs(a-this.getY())<=t&&Math.abs(r-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,a,r){const c=this.count+1,u=(this.count*this.getX()+a)/c,h=(this.count*this.getY()+t)/c,g=(this.count*this.estimatedModuleSize+r)/c;return new Wr(u,h,g,c)}}class Rs{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(t,a){this.image=t,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const a=t!=null&&t.get(Ee.TRY_HARDER)!==void 0,r=t!=null&&t.get(Ee.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let g=Math.floor(3*u/(4*$t.MAX_MODULES));(g<$t.MIN_SKIP||a)&&(g=$t.MIN_SKIP);let w=!1;const E=new Int32Array(5);for(let O=g-1;O<u&&!w;O+=g){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let R=0;for(let B=0;B<h;B++)if(c.get(B,O))(R&1)===1&&R++,E[R]++;else if((R&1)===0)if(R===4)if($t.foundPatternCross(E)){if(this.handlePossibleCenter(E,O,B,r)===!0)if(g=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>E[2]&&(O+=F-E[2]-g,B=h-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,R=3;continue}R=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,R=3;else E[++R]++;else E[R]++;$t.foundPatternCross(E)&&this.handlePossibleCenter(E,O,h,r)===!0&&(g=E[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Re.orderBestPatterns(C),new Rs(C)}static centerFromEnd(t,a){return a-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let a=0;for(let u=0;u<5;u++){const h=t[u];if(h===0)return!1;a+=h}if(a<7)return!1;const r=a/7,c=r/2;return Math.abs(r-t[0])<c&&Math.abs(r-t[1])<c&&Math.abs(3*r-t[2])<3*c&&Math.abs(r-t[3])<c&&Math.abs(r-t[4])<c}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,a,r,c){const u=this.getCrossCheckStateCount();let h=0;const g=this.image;for(;t>=h&&a>=h&&g.get(a-h,t-h);)u[2]++,h++;if(t<h||a<h)return!1;for(;t>=h&&a>=h&&!g.get(a-h,t-h)&&u[1]<=r;)u[1]++,h++;if(t<h||a<h||u[1]>r)return!1;for(;t>=h&&a>=h&&g.get(a-h,t-h)&&u[0]<=r;)u[0]++,h++;if(u[0]>r)return!1;const w=g.getHeight(),E=g.getWidth();for(h=1;t+h<w&&a+h<E&&g.get(a+h,t+h);)u[2]++,h++;if(t+h>=w||a+h>=E)return!1;for(;t+h<w&&a+h<E&&!g.get(a+h,t+h)&&u[3]<r;)u[3]++,h++;if(t+h>=w||a+h>=E||u[3]>=r)return!1;for(;t+h<w&&a+h<E&&g.get(a+h,t+h)&&u[4]<r;)u[4]++,h++;if(u[4]>=r)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-c)<2*c&&$t.foundPatternCross(u)}crossCheckVertical(t,a,r,c){const u=this.image,h=u.getHeight(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(a,w);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(a,w)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&u.get(a,w)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(a,w);)g[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(a,w)&&g[3]<r;)g[3]++,w++;if(w===h||g[3]>=r)return NaN;for(;w<h&&u.get(a,w)&&g[4]<r;)g[4]++,w++;if(g[4]>=r)return NaN;const E=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(E-c)>=2*c?NaN:$t.foundPatternCross(g)?$t.centerFromEnd(g,w):NaN}crossCheckHorizontal(t,a,r,c){const u=this.image,h=u.getWidth(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(w,a);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(w,a)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&u.get(w,a)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(w,a);)g[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(w,a)&&g[3]<r;)g[3]++,w++;if(w===h||g[3]>=r)return NaN;for(;w<h&&u.get(w,a)&&g[4]<r;)g[4]++,w++;if(g[4]>=r)return NaN;const E=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(E-c)>=c?NaN:$t.foundPatternCross(g)?$t.centerFromEnd(g,w):NaN}handlePossibleCenter(t,a,r,c){const u=t[0]+t[1]+t[2]+t[3]+t[4];let h=$t.centerFromEnd(t,r),g=this.crossCheckVertical(a,Math.floor(h),t[2],u);if(!isNaN(g)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(g),t[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(h),t[2],u)))){const w=u/7;let E=!1;const C=this.possibleCenters;for(let O=0,R=C.length;O<R;O++){const B=C[O];if(B.aboutEquals(w,g,h)){C[O]=B.combineEstimate(g,h,w),E=!0;break}}if(!E){const O=new Wr(h,g,w);C.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const r of this.possibleCenters)if(r.getCount()>=$t.CENTER_QUORUM)if(a==null)a=r;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-r.getX())-Math.abs(a.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,a=0;const r=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=$t.CENTER_QUORUM&&(t++,a+=h.getEstimatedModuleSize());if(t<3)return!1;const c=a/r;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*a}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new Q;const a=this.possibleCenters;let r;if(t>3){let c=0,u=0;for(const w of this.possibleCenters){const E=w.getEstimatedModuleSize();c+=E,u+=E*E}r=c/t;let h=Math.sqrt(u/t-r*r);a.sort((w,E)=>{const C=Math.abs(E.getEstimatedModuleSize()-r),O=Math.abs(w.getEstimatedModuleSize()-r);return C<O?-1:C>O?1:0});const g=Math.max(.2*r,h);for(let w=0;w<a.length&&a.length>3;w++){const E=a[w];Math.abs(E.getEstimatedModuleSize()-r)>g&&(a.splice(w,1),w--)}}if(a.length>3){let c=0;for(const u of a)c+=u.getEstimatedModuleSize();r=c/a.length,a.sort((u,h)=>{if(h.getCount()===u.getCount()){const g=Math.abs(h.getEstimatedModuleSize()-r),w=Math.abs(u.getEstimatedModuleSize()-r);return g<w?1:g>w?-1:0}else return h.getCount()-u.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class Zi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ee.NEED_RESULT_POINT_CALLBACK);const r=new $t(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const a=t.getTopLeft(),r=t.getTopRight(),c=t.getBottomLeft(),u=this.calculateModuleSize(a,r,c);if(u<1)throw new Q("No pattern found in proccess finder.");const h=Zi.computeDimension(a,r,c,u),g=ze.getProvisionalVersionForDimension(h),w=g.getDimensionForVersion()-7;let E=null;if(g.getAlignmentPatternCenters().length>0){const B=r.getX()-a.getX()+c.getX(),U=r.getY()-a.getY()+c.getY(),F=1-3/w,V=Math.floor(a.getX()+F*(B-a.getX())),ie=Math.floor(a.getY()+F*(U-a.getY()));for(let _e=4;_e<=16;_e<<=1)try{E=this.findAlignmentInRegion(u,V,ie,_e);break}catch(pe){if(!(pe instanceof Q))throw pe}}const C=Zi.createTransform(a,r,c,E,h),O=Zi.sampleGrid(this.image,C,h);let R;return E===null?R=[c,a,r]:R=[c,a,r,E],new sn(O,R)}static createTransform(t,a,r,c,u){const h=u-3.5;let g,w,E,C;return c!==null?(g=c.getX(),w=c.getY(),E=h-3,C=E):(g=a.getX()-t.getX()+r.getX(),w=a.getY()-t.getY()+r.getY(),E=h,C=h),Wn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,E,C,3.5,h,t.getX(),t.getY(),a.getX(),a.getY(),g,w,r.getX(),r.getY())}static sampleGrid(t,a,r){return ei.getInstance().sampleGridWithTransform(t,r,r,a)}static computeDimension(t,a,r,c){const u=Ze.round(Re.distance(t,a)/c),h=Ze.round(Re.distance(t,r)/c);let g=Math.floor((u+h)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new Q("Dimensions could be not found.")}return g}calculateModuleSize(t,a,r){return(this.calculateModuleSizeOneWay(t,a)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,a){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(a.getX()),Math.floor(a.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?c/7:isNaN(c)?r/7:(r+c)/14}sizeOfBlackWhiteBlackRunBothWays(t,a,r,c){let u=this.sizeOfBlackWhiteBlackRun(t,a,r,c),h=1,g=t-(r-t);g<0?(h=t/(t-g),g=0):g>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let w=Math.floor(a-(c-a)*h);return h=1,w<0?(h=a/(a-w),w=0):w>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(w-a),w=this.image.getHeight()-1),g=Math.floor(t+(g-t)*h),u+=this.sizeOfBlackWhiteBlackRun(t,a,g,w),u-1}sizeOfBlackWhiteBlackRun(t,a,r,c){const u=Math.abs(c-a)>Math.abs(r-t);if(u){let B=t;t=a,a=B,B=r,r=c,c=B}const h=Math.abs(r-t),g=Math.abs(c-a);let w=-h/2;const E=t<r?1:-1,C=a<c?1:-1;let O=0;const R=r+E;for(let B=t,U=a;B!==R;B+=E){const F=u?U:B,V=u?B:U;if(O===1===this.image.get(F,V)){if(O===2)return Ze.distance(B,U,t,a);O++}if(w+=g,w>0){if(U===c)break;U+=C,w-=h}}return O===2?Ze.distance(r+E,c,t,a):NaN}findAlignmentInRegion(t,a,r,c){const u=Math.floor(c*t),h=Math.max(0,a-u),g=Math.min(this.image.getWidth()-1,a+u);if(g-h<t*3)throw new Q("Alignment top exceeds estimated module size.");const w=Math.max(0,r-u),E=Math.min(this.image.getHeight()-1,r+u);if(E-w<t*3)throw new Q("Alignment bottom exceeds estimated module size.");return new fi(this.image,h,w,g-h,E-w,t,this.resultPointCallback).find()}}class ra{constructor(){this.decoder=new ju}getDecoder(){return this.decoder}decode(t,a){let r,c;if(a!=null&&a.get(Ee.PURE_BARCODE)!==void 0){const w=ra.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(w,a),c=ra.NO_POINTS}else{const w=new Zi(t.getBlackMatrix()).detect(a);r=this.decoder.decodeBitMatrix(w.getBits(),a),c=w.getPoints()}r.getOther()instanceof Go&&r.getOther().applyMirroredCorrection(c);const u=new Ce(r.getText(),r.getRawBytes(),void 0,c,ye.QR_CODE,void 0),h=r.getByteSegments();h!==null&&u.putMetadata(rt.BYTE_SEGMENTS,h);const g=r.getECLevel();return g!==null&&u.putMetadata(rt.ERROR_CORRECTION_LEVEL,g),r.hasStructuredAppend()&&(u.putMetadata(rt.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(rt.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(a===null||r===null)throw new Q;const c=this.moduleSize(a,t);let u=a[1],h=r[1],g=a[0],w=r[0];if(g>=w||u>=h)throw new Q;if(h-u!==w-g&&(w=g+(h-u),w>=t.getWidth()))throw new Q;const E=Math.round((w-g+1)/c),C=Math.round((h-u+1)/c);if(E<=0||C<=0)throw new Q;if(C!==E)throw new Q;const O=Math.floor(c/2);u+=O,g+=O;const R=g+Math.floor((E-1)*c)-w;if(R>0){if(R>O)throw new Q;g-=R}const B=u+Math.floor((C-1)*c)-h;if(B>0){if(B>O)throw new Q;u-=B}const U=new Je(E,C);for(let F=0;F<C;F++){const V=u+Math.floor(F*c);for(let ie=0;ie<E;ie++)t.get(g+Math.floor(ie*c),V)&&U.set(ie,F)}return U}static moduleSize(t,a){const r=a.getHeight(),c=a.getWidth();let u=t[0],h=t[1],g=!0,w=0;for(;u<c&&h<r;){if(g!==a.get(u,h)){if(++w===5)break;g=!g}u++,h++}if(u===c||h===r)throw new Q;return(u-t[0])/7}}ra.NO_POINTS=new Array;class Ve{PDF417Common(){}static getBitCountSum(t){return Ze.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ve.EMPTY_INT_ARRAY;const a=new Int32Array(t.length);let r=0;for(const c of t)a[r++]=c;return a}static getCodeword(t){const a=me.binarySearch(Ve.SYMBOL_TABLE,t&262143);return a<0?-1:(Ve.CODEWORD_TABLE[a]-1)%Ve.NUMBER_OF_CODEWORDS}}Ve.NUMBER_OF_CODEWORDS=929,Ve.MAX_CODEWORDS_IN_BARCODE=Ve.NUMBER_OF_CODEWORDS-1,Ve.MIN_ROWS_IN_BARCODE=3,Ve.MAX_ROWS_IN_BARCODE=90,Ve.MODULES_IN_CODEWORD=17,Ve.MODULES_IN_STOP_PATTERN=18,Ve.BARS_IN_MODULE=8,Ve.EMPTY_INT_ARRAY=new Int32Array([]),Ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vo{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class tt{static detectMultiple(t,a,r){let c=t.getBlackMatrix(),u=tt.detect(r,c);return u.length||(c=c.clone(),c.rotate180(),u=tt.detect(r,c)),new Vo(c,u)}static detect(t,a){const r=new Array;let c=0,u=0,h=!1;for(;c<a.getHeight();){const g=tt.findVertices(a,c,u);if(g[0]==null&&g[3]==null){if(!h)break;h=!1,u=0;for(const w of r)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=tt.ROW_STEP;continue}if(h=!0,r.push(g),!t)break;g[2]!=null?(u=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return r}static findVertices(t,a,r){const c=t.getHeight(),u=t.getWidth(),h=new Array(8);return tt.copyToResult(h,tt.findRowsWithPattern(t,c,u,a,r,tt.START_PATTERN),tt.INDEXES_START_PATTERN),h[4]!=null&&(r=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),tt.copyToResult(h,tt.findRowsWithPattern(t,c,u,a,r,tt.STOP_PATTERN),tt.INDEXES_STOP_PATTERN),h}static copyToResult(t,a,r){for(let c=0;c<r.length;c++)t[r[c]]=a[c]}static findRowsWithPattern(t,a,r,c,u,h){const g=new Array(4);let w=!1;const E=new Int32Array(h.length);for(;c<a;c+=tt.ROW_STEP){let O=tt.findGuardPattern(t,u,c,r,!1,h,E);if(O!=null){for(;c>0;){const R=tt.findGuardPattern(t,u,--c,r,!1,h,E);if(R!=null)O=R;else{c++;break}}g[0]=new Re(O[0],c),g[1]=new Re(O[1],c),w=!0;break}}let C=c+1;if(w){let O=0,R=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;C<a;C++){const B=tt.findGuardPattern(t,R[0],C,r,!1,h,E);if(B!=null&&Math.abs(R[0]-B[0])<tt.MAX_PATTERN_DRIFT&&Math.abs(R[1]-B[1])<tt.MAX_PATTERN_DRIFT)R=B,O=0;else{if(O>tt.SKIPPED_ROW_COUNT_MAX)break;O++}}C-=O+1,g[2]=new Re(R[0],C),g[3]=new Re(R[1],C)}return C-c<tt.BARCODE_MIN_HEIGHT&&me.fill(g,null),g}static findGuardPattern(t,a,r,c,u,h,g){me.fillWithin(g,0,g.length,0);let w=a,E=0;for(;t.get(w,r)&&w>0&&E++<tt.MAX_PIXEL_DRIFT;)w--;let C=w,O=0,R=h.length;for(let B=u;C<c;C++)if(t.get(C,r)!==B)g[O]++;else{if(O===R-1){if(tt.patternMatchVariance(g,h,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return new Int32Array([w,C]);w+=g[0]+g[1],re.arraycopy(g,2,g,0,O-1),g[O-1]=0,g[O]=0,O--}else O++;g[O]=1,B=!B}return O===R-1&&tt.patternMatchVariance(g,h,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE?new Int32Array([w,C-1]):null}static patternMatchVariance(t,a,r){let c=t.length,u=0,h=0;for(let E=0;E<c;E++)u+=t[E],h+=a[E];if(u<h)return 1/0;let g=u/h;r*=g;let w=0;for(let E=0;E<c;E++){let C=t[E],O=a[E]*g,R=C>O?C-O:O-C;if(R>r)return 1/0;w+=R}return w/u}}tt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),tt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),tt.MAX_AVG_VARIANCE=.42,tt.MAX_INDIVIDUAL_VARIANCE=.8,tt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),tt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),tt.MAX_PIXEL_DRIFT=3,tt.MAX_PATTERN_DRIFT=5,tt.SKIPPED_ROW_COUNT_MAX=25,tt.ROW_STEP=5,tt.BARCODE_MIN_HEIGHT=10;class Yt{constructor(t,a){if(a.length===0)throw new I;this.field=t;let r=a.length;if(r>1&&a[0]===0){let c=1;for(;c<r&&a[c]===0;)c++;c===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-c),re.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let a=this.coefficients[0],r=this.coefficients.length;for(let c=1;c<r;c++)a=this.field.add(this.field.multiply(t,a),this.coefficients[c]);return a}add(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,r=t.coefficients;if(a.length>r.length){let h=a;a=r,r=h}let c=new Int32Array(r.length),u=r.length-a.length;re.arraycopy(r,0,c,0,u);for(let h=u;h<r.length;h++)c[h]=this.field.add(a[h-u],r[h]);return new Yt(this.field,c)}subtract(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Yt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Yt(this.field,new Int32Array([0]));let a=this.coefficients,r=a.length,c=t.coefficients,u=c.length,h=new Int32Array(r+u-1);for(let g=0;g<r;g++){let w=a[g];for(let E=0;E<u;E++)h[g+E]=this.field.add(h[g+E],this.field.multiply(w,c[E]))}return new Yt(this.field,h)}negative(){let t=this.coefficients.length,a=new Int32Array(t);for(let r=0;r<t;r++)a[r]=this.field.subtract(0,this.coefficients[r]);return new Yt(this.field,a)}multiplyScalar(t){if(t===0)return new Yt(this.field,new Int32Array([0]));if(t===1)return this;let a=this.coefficients.length,r=new Int32Array(a);for(let c=0;c<a;c++)r[c]=this.field.multiply(this.coefficients[c],t);return new Yt(this.field,r)}multiplyByMonomial(t,a){if(t<0)throw new I;if(a===0)return new Yt(this.field,new Int32Array([0]));let r=this.coefficients.length,c=new Int32Array(r+t);for(let u=0;u<r;u++)c[u]=this.field.multiply(this.coefficients[u],a);return new Yt(this.field,c)}toString(){let t=new Qe;for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(a===0||r!==1)&&t.append(r),a!==0&&(a===1?t.append("x"):(t.append("x^"),t.append(a))))}return t.toString()}}class Is{add(t,a){return(t+a)%this.modulus}subtract(t,a){return(this.modulus+t-a)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new I;return this.logTable[t]}inverse(t){if(t===0)throw new Ui;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Oa extends Is{constructor(t,a){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let c=0;c<t;c++)this.expTable[c]=r,r=r*a%t;for(let c=0;c<t-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Yt(this,new Int32Array([0])),this.one=new Yt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new I;if(a===0)return this.zero;let r=new Int32Array(t+1);return r[0]=a,new Yt(this,r)}}Oa.PDF417_GF=new Oa(Ve.NUMBER_OF_CODEWORDS,3);class la{constructor(){this.field=Oa.PDF417_GF}decode(t,a,r){let c=new Yt(this.field,t),u=new Int32Array(a),h=!1;for(let U=a;U>0;U--){let F=c.evaluateAt(this.field.exp(U));u[a-U]=F,F!==0&&(h=!0)}if(!h)return 0;let g=this.field.getOne();if(r!=null)for(const U of r){let F=this.field.exp(t.length-1-U),V=new Yt(this.field,new Int32Array([this.field.subtract(0,F),1]));g=g.multiply(V)}let w=new Yt(this.field,u),E=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),w,a),C=E[0],O=E[1],R=this.findErrorLocations(C),B=this.findErrorMagnitudes(O,C,R);for(let U=0;U<R.length;U++){let F=t.length-1-this.field.log(R[U]);if(F<0)throw L.getChecksumInstance();t[F]=this.field.subtract(t[F],B[U])}return R.length}runEuclideanAlgorithm(t,a,r){if(t.getDegree()<a.getDegree()){let R=t;t=a,a=R}let c=t,u=a,h=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(r/2);){let R=c,B=h;if(c=u,h=g,c.isZero())throw L.getChecksumInstance();u=R;let U=this.field.getZero(),F=c.getCoefficient(c.getDegree()),V=this.field.inverse(F);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let ie=u.getDegree()-c.getDegree(),_e=this.field.multiply(u.getCoefficient(u.getDegree()),V);U=U.add(this.field.buildMonomial(ie,_e)),u=u.subtract(c.multiplyByMonomial(ie,_e))}g=U.multiply(h).subtract(B).negative()}let w=g.getCoefficient(0);if(w===0)throw L.getChecksumInstance();let E=this.field.inverse(w),C=g.multiply(E),O=u.multiply(E);return[C,O]}findErrorLocations(t){let a=t.getDegree(),r=new Int32Array(a),c=0;for(let u=1;u<this.field.getSize()&&c<a;u++)t.evaluateAt(u)===0&&(r[c]=this.field.inverse(u),c++);if(c!==a)throw L.getChecksumInstance();return r}findErrorMagnitudes(t,a,r){let c=a.getDegree(),u=new Int32Array(c);for(let E=1;E<=c;E++)u[c-E]=this.field.multiply(E,a.getCoefficient(E));let h=new Yt(this.field,u),g=r.length,w=new Int32Array(g);for(let E=0;E<g;E++){let C=this.field.inverse(r[E]),O=this.field.subtract(0,t.evaluateAt(C)),R=this.field.inverse(h.evaluateAt(C));w[E]=this.field.multiply(O,R)}return w}}class sa{constructor(t,a,r,c,u){t instanceof sa?this.constructor_2(t):this.constructor_1(t,a,r,c,u)}constructor_1(t,a,r,c,u){const h=a==null||r==null,g=c==null||u==null;if(h&&g)throw new Q;h?(a=new Re(0,c.getY()),r=new Re(0,u.getY())):g&&(c=new Re(t.getWidth()-1,a.getY()),u=new Re(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=a,this.bottomLeft=r,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(a.getX(),r.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(a.getY(),c.getY())),this.maxY=Math.trunc(Math.max(r.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,a){return t==null?a:a==null?t:new sa(t.image,t.topLeft,t.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(t,a,r){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,g=this.bottomRight;if(t>0){let w=r?this.topLeft:this.topRight,E=Math.trunc(w.getY()-t);E<0&&(E=0);let C=new Re(w.getX(),E);r?c=C:h=C}if(a>0){let w=r?this.bottomLeft:this.bottomRight,E=Math.trunc(w.getY()+a);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let C=new Re(w.getX(),E);r?u=C:g=C}return new sa(this.image,c,u,h,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Bl{constructor(t,a,r,c){this.columnCount=t,this.errorCorrectionLevel=c,this.rowCountUpperPart=a,this.rowCountLowerPart=r,this.rowCount=a+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class cr{constructor(){this.buffer=""}static form(t,a){let r=-1;function c(h,g,w,E,C,O){if(h==="%%")return"%";if(a[++r]===void 0)return;h=E?parseInt(E.substr(1)):void 0;let R=C?parseInt(C.substr(1)):void 0,B;switch(O){case"s":B=a[r];break;case"c":B=a[r][0];break;case"f":B=parseFloat(a[r]).toFixed(h);break;case"p":B=parseFloat(a[r]).toPrecision(h);break;case"e":B=parseFloat(a[r]).toExponential(h);break;case"x":B=parseInt(a[r]).toString(R||16);break;case"d":B=parseFloat(parseInt(a[r],R||10).toPrecision(h)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(R);let U=parseInt(w),F=w&&w[0]+""=="0"?"0":" ";for(;B.length<U;)B=g!==void 0?B+F:F+B;return B}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,c)}format(t,...a){this.buffer+=cr.form(t,a)}toString(){return this.buffer}}class ma{constructor(t){this.boundingBox=new sa(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let a=this.getCodeword(t);if(a!=null)return a;for(let r=1;r<ma.MAX_NEARBY_DISTANCE;r++){let c=this.imageRowToCodewordIndex(t)-r;if(c>=0&&(a=this.codewords[c],a!=null)||(c=this.imageRowToCodewordIndex(t)+r,c<this.codewords.length&&(a=this.codewords[c],a!=null)))return a}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,a){this.codewords[this.imageRowToCodewordIndex(t)]=a}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new cr;let a=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",a++);continue}t.format("%3d: %3d|%3d%n",a++,r.getRowNumber(),r.getValue())}return t.toString()}}ma.MAX_NEARBY_DISTANCE=5;class xa{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let a=this.values.get(t);a==null&&(a=0),a++,this.values.set(t,a)}getValue(){let t=-1,a=new Array;for(const[r,c]of this.values.entries()){const u={getKey:()=>r,getValue:()=>c};u.getValue()>t?(t=u.getValue(),a=[],a.push(u.getKey())):u.getValue()===t&&a.push(u.getKey())}return Ve.toIntArray(a)}getConfidence(t){return this.values.get(t)}}class Ds extends ma{constructor(t,a){super(t),this._isLeft=a}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,t);let r=this.getBoundingBox(),c=this._isLeft?r.getTopLeft():r.getTopRight(),u=this._isLeft?r.getBottomLeft():r.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=-1,E=1,C=0;for(let O=h;O<g;O++){if(a[O]==null)continue;let R=a[O],B=R.getRowNumber()-w;if(B===0)C++;else if(B===1)E=Math.max(E,C),C=1,w=R.getRowNumber();else if(B<0||R.getRowNumber()>=t.getRowCount()||B>O)a[O]=null;else{let U;E>2?U=(E-2)*B:U=B;let F=U>=O;for(let V=1;V<=U&&!F;V++)F=a[O-V]!=null;F?a[O]=null:(w=R.getRowNumber(),C=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let a=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let c=r.getRowNumber();if(c>=a.length)continue;a[c]++}return a}adjustIncompleteIndicatorColumnRowNumbers(t){let a=this.getBoundingBox(),r=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(r.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),w=-1;for(let E=u;E<h;E++){if(g[E]==null)continue;let C=g[E];C.setRowNumberAsRowIndicatorColumn();let O=C.getRowNumber()-w;O===0||(O===1?w=C.getRowNumber():C.getRowNumber()>=t.getRowCount()?g[E]=null:w=C.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),a=new xa,r=new xa,c=new xa,u=new xa;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let w=g.getValue()%30,E=g.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:r.setValue(w*3+1);break;case 1:u.setValue(w/3),c.setValue(w%3);break;case 2:a.setValue(w+1);break}}if(a.getValue().length===0||r.getValue().length===0||c.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||r.getValue()[0]+c.getValue()[0]<Ve.MIN_ROWS_IN_BARCODE||r.getValue()[0]+c.getValue()[0]>Ve.MAX_ROWS_IN_BARCODE)return null;let h=new Bl(a.getValue()[0],r.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,a){for(let r=0;r<t.length;r++){let c=t[r];if(t[r]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>a.getRowCount()){t[r]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==a.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(u/3)!==a.getErrorCorrectionLevel()||u%3!==a.getRowCountLowerPart())&&(t[r]=null);break;case 2:u+1!==a.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class vn{constructor(t,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ve.MAX_CODEWORDS_IN_BARCODE,a;do a=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let r=this.detectionResultColumns[a].getCodewords();for(let c=0;c<r.length;c++)r[c]!=null&&(r[c].hasValidRowNumber()||this.adjustRowNumbers(a,c,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&a[r]!=null&&t[r].getRowNumber()===a[r].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[r];u!=null&&(u.setRowNumber(t[r].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let c=a[r].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let g=this.detectionResultColumns[h].getCodewords()[r];g!=null&&(u=vn.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,a=this.detectionResultColumns[0].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let c=a[r].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let g=this.detectionResultColumns[h].getCodewords()[r];g!=null&&(u=vn.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,a,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),a=0):++a),a}adjustRowNumbers(t,a,r){if(!this.detectionResultColumns[t-1])return;let c=r[a],u=this.detectionResultColumns[t-1].getCodewords(),h=u;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=u[a],g[3]=h[a],a>0&&(g[0]=r[a-1],g[4]=u[a-1],g[5]=h[a-1]),a>1&&(g[8]=r[a-2],g[10]=u[a-2],g[11]=h[a-2]),a<r.length-1&&(g[1]=r[a+1],g[6]=u[a+1],g[7]=h[a+1]),a<r.length-2&&(g[9]=r[a+2],g[12]=u[a+2],g[13]=h[a+2]);for(let w of g)if(vn.adjustRowNumber(c,w))return}static adjustRowNumber(t,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===t.getBucket()?(t.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,a){this.detectionResultColumns[t]=a}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new cr;for(let r=0;r<t.getCodewords().length;r++){a.format("CW %3d:",r);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){a.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[r];if(u==null){a.format("    |   ");continue}a.format(" %3d|%3d",u.getRowNumber(),u.getValue())}a.format("%n")}return a.toString()}}class vi{constructor(t,a,r,c){this.rowNumber=vi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(a),this.bucket=Math.trunc(r),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==vi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}vi.BARCODE_ROW_UNKNOWN=-1;class Dn{static initialize(){for(let t=0;t<Ve.SYMBOL_TABLE.length;t++){let a=Ve.SYMBOL_TABLE[t],r=a&1;for(let c=0;c<Ve.BARS_IN_MODULE;c++){let u=0;for(;(a&1)===r;)u+=1,a>>=1;r=a&1,Dn.RATIOS_TABLE[t]||(Dn.RATIOS_TABLE[t]=new Array(Ve.BARS_IN_MODULE)),Dn.RATIOS_TABLE[t][Ve.BARS_IN_MODULE-c-1]=Math.fround(u/Ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let a=Dn.getDecodedCodewordValue(Dn.sampleBitCounts(t));return a!==-1?a:Dn.getClosestDecodedValue(t)}static sampleBitCounts(t){let a=Ze.sum(t),r=new Int32Array(Ve.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<Ve.MODULES_IN_CODEWORD;h++){let g=a/(2*Ve.MODULES_IN_CODEWORD)+h*a/Ve.MODULES_IN_CODEWORD;u+t[c]<=g&&(u+=t[c],c++),r[c]++}return r}static getDecodedCodewordValue(t){let a=Dn.getBitValue(t);return Ve.getCodeword(a)===-1?-1:a}static getBitValue(t){let a=0;for(let r=0;r<t.length;r++)for(let c=0;c<t[r];c++)a=a<<1|(r%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(t){let a=Ze.sum(t),r=new Array(Ve.BARS_IN_MODULE);if(a>1)for(let h=0;h<r.length;h++)r[h]=Math.fround(t[h]/a);let c=Ai.MAX_VALUE,u=-1;this.bSymbolTableReady||Dn.initialize();for(let h=0;h<Dn.RATIOS_TABLE.length;h++){let g=0,w=Dn.RATIOS_TABLE[h];for(let E=0;E<Ve.BARS_IN_MODULE;E++){let C=Math.fround(w[E]-r[E]);if(g+=Math.fround(C*C),g>=c)break}g<c&&(c=g,u=Ve.SYMBOL_TABLE[h])}return u}}Dn.bSymbolTableReady=!1,Dn.RATIOS_TABLE=new Array(Ve.SYMBOL_TABLE.length).map(N=>new Array(Ve.BARS_IN_MODULE));class ur{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Xo{static parseLong(t,a=void 0){return parseInt(t,a)}}class kl extends y{}kl.kind="NullPointerException";class Ms{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,a,r){if(t==null)throw new kl;if(a<0||a>t.length||r<0||a+r>t.length||a+r<0)throw new ue;if(r===0)return;for(let c=0;c<r;c++)this.write(t[a+c])}flush(){}close(){}}class Jr extends y{}class Ll extends Ms{constructor(t=32){if(super(),this.count=0,t<0)throw new I("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new Jr;r=X.MAX_VALUE}this.buf=me.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,a,r){if(a<0||a>t.length||r<0||a+r-t.length>0)throw new ue;this.ensureCapacity(this.count+r),re.arraycopy(t,a,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return me.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Mt;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function Yo(){if(typeof window<"u")return window.BigInt||null;if(typeof au<"u")return au.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let zl;function pa(N){if(typeof zl>"u"&&(zl=Yo()),zl===null)throw new Error("BigInt is not supported!");return zl(N)}function Bs(){let N=[];N[0]=pa(1);let t=pa(900);N[1]=t;for(let a=2;a<16;a++)N[a]=N[a-1]*t;return N}class ae{static decode(t,a){let r=new Qe(""),c=te.ISO8859_1;r.enableDecoding(c);let u=1,h=t[u++],g=new ur;for(;u<t[0];){switch(h){case ae.TEXT_COMPACTION_MODE_LATCH:u=ae.textCompaction(t,u,r);break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:u=ae.byteCompaction(h,t,c,u,r);break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u++]);break;case ae.NUMERIC_COMPACTION_MODE_LATCH:u=ae.numericCompaction(t,u,r);break;case ae.ECI_CHARSET:te.getCharacterSetECIByValue(t[u++]);break;case ae.ECI_GENERAL_PURPOSE:u+=2;break;case ae.ECI_USER_DEFINED:u++;break;case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ae.decodeMacroBlock(t,u,g);break;case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:throw new Z;default:u--,u=ae.textCompaction(t,u,r);break}if(u<t.length)h=t[u++];else throw Z.getFormatInstance()}if(r.length()===0)throw Z.getFormatInstance();let w=new It(null,r.toString(),null,a);return w.setOther(g),w}static decodeMacroBlock(t,a,r){if(a+ae.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Z.getFormatInstance();let c=new Int32Array(ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<ae.NUMBER_OF_SEQUENCE_CODEWORDS;g++,a++)c[g]=t[a];r.setSegmentIndex(X.parseInt(ae.decodeBase900toBase10(c,ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Qe;a=ae.textCompaction(t,a,u),r.setFileId(u.toString());let h=-1;for(t[a]===ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<t[0];)switch(t[a]){case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,t[a]){case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Qe;a=ae.textCompaction(t,a+1,g),r.setFileName(g.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Qe;a=ae.textCompaction(t,a+1,w),r.setSender(w.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new Qe;a=ae.textCompaction(t,a+1,E),r.setAddressee(E.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Qe;a=ae.numericCompaction(t,a+1,C),r.setSegmentCount(X.parseInt(C.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new Qe;a=ae.numericCompaction(t,a+1,O),r.setTimestamp(Xo.parseLong(O.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new Qe;a=ae.numericCompaction(t,a+1,R),r.setChecksum(X.parseInt(R.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new Qe;a=ae.numericCompaction(t,a+1,B),r.setFileSize(Xo.parseLong(B.toString()));break;default:throw Z.getFormatInstance()}break;case ae.MACRO_PDF417_TERMINATOR:a++,r.setLastSegment(!0);break;default:throw Z.getFormatInstance()}if(h!==-1){let g=a-h;r.isLastSegment()&&g--,r.setOptionalData(me.copyOfRange(t,h,h+g))}return a}static textCompaction(t,a,r){let c=new Int32Array((t[0]-a)*2),u=new Int32Array((t[0]-a)*2),h=0,g=!1;for(;a<t[0]&&!g;){let w=t[a++];if(w<ae.TEXT_COMPACTION_MODE_LATCH)c[h]=w/30,c[h+1]=w%30,h+=2;else switch(w){case ae.TEXT_COMPACTION_MODE_LATCH:c[h++]=ae.TEXT_COMPACTION_MODE_LATCH;break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:a--,g=!0;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=t[a++],u[h]=w,h++;break}}return ae.decodeTextCompaction(c,u,h,r),a}static decodeTextCompaction(t,a,r,c){let u=Mt.ALPHA,h=Mt.ALPHA,g=0;for(;g<r;){let w=t[g],E="";switch(u){case Mt.ALPHA:if(w<26)E=String.fromCharCode(65+w);else switch(w){case 26:E=" ";break;case ae.LL:u=Mt.LOWER;break;case ae.ML:u=Mt.MIXED;break;case ae.PS:h=u,u=Mt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.LOWER:if(w<26)E=String.fromCharCode(97+w);else switch(w){case 26:E=" ";break;case ae.AS:h=u,u=Mt.ALPHA_SHIFT;break;case ae.ML:u=Mt.MIXED;break;case ae.PS:h=u,u=Mt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.MIXED:if(w<ae.PL)E=ae.MIXED_CHARS[w];else switch(w){case ae.PL:u=Mt.PUNCT;break;case 26:E=" ";break;case ae.LL:u=Mt.LOWER;break;case ae.AL:u=Mt.ALPHA;break;case ae.PS:h=u,u=Mt.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.PUNCT:if(w<ae.PAL)E=ae.PUNCT_CHARS[w];else switch(w){case ae.PAL:u=Mt.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(u=h,w<26)E=String.fromCharCode(65+w);else switch(w){case 26:E=" ";break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(u=h,w<ae.PAL)E=ae.PUNCT_CHARS[w];else switch(w){case ae.PAL:u=Mt.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Mt.ALPHA;break}break}E!==""&&c.append(E),g++}}static byteCompaction(t,a,r,c,u){let h=new Ll,g=0,w=0,E=!1;switch(t){case ae.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),O=a[c++];for(;c<a[0]&&!E;)switch(C[g++]=O,w=900*w+O,O=a[c++],O){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:c--,E=!0;break;default:if(g%5===0&&g>0){for(let R=0;R<6;++R)h.write(Number(pa(w)>>pa(8*(5-R))));w=0,g=0}break}c===a[0]&&O<ae.TEXT_COMPACTION_MODE_LATCH&&(C[g++]=O);for(let R=0;R<g;R++)h.write(C[R]);break;case ae.BYTE_COMPACTION_MODE_LATCH_6:for(;c<a[0]&&!E;){let R=a[c++];if(R<ae.TEXT_COMPACTION_MODE_LATCH)g++,w=900*w+R;else switch(R){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:c--,E=!0;break}if(g%5===0&&g>0){for(let B=0;B<6;++B)h.write(Number(pa(w)>>pa(8*(5-B))));w=0,g=0}}break}return u.append(Te.decode(h.toByteArray(),r)),c}static numericCompaction(t,a,r){let c=0,u=!1,h=new Int32Array(ae.MAX_NUMERIC_CODEWORDS);for(;a<t[0]&&!u;){let g=t[a++];if(a===t[0]&&(u=!0),g<ae.TEXT_COMPACTION_MODE_LATCH)h[c]=g,c++;else switch(g){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:a--,u=!0;break}(c%ae.MAX_NUMERIC_CODEWORDS===0||g===ae.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(r.append(ae.decodeBase900toBase10(h,c)),c=0)}return a}static decodeBase900toBase10(t,a){let r=pa(0);for(let u=0;u<a;u++)r+=ae.EXP900[a-u-1]*pa(t[u]);let c=r.toString();if(c.charAt(0)!=="1")throw new Z;return c.substring(1)}}ae.TEXT_COMPACTION_MODE_LATCH=900,ae.BYTE_COMPACTION_MODE_LATCH=901,ae.NUMERIC_COMPACTION_MODE_LATCH=902,ae.BYTE_COMPACTION_MODE_LATCH_6=924,ae.ECI_USER_DEFINED=925,ae.ECI_GENERAL_PURPOSE=926,ae.ECI_CHARSET=927,ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ae.MACRO_PDF417_TERMINATOR=922,ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ae.MAX_NUMERIC_CODEWORDS=15,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ae.PL=25,ae.LL=27,ae.AS=27,ae.ML=28,ae.AL=28,ae.PS=29,ae.PAL=29,ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ae.EXP900=Yo()?Bs():[],ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class st{constructor(){}static decode(t,a,r,c,u,h,g){let w=new sa(t,a,r,c,u),E=null,C=null,O;for(let U=!0;;U=!1){if(a!=null&&(E=st.getRowIndicatorColumn(t,w,a,!0,h,g)),c!=null&&(C=st.getRowIndicatorColumn(t,w,c,!1,h,g)),O=st.merge(E,C),O==null)throw Q.getNotFoundInstance();let F=O.getBoundingBox();if(U&&F!=null&&(F.getMinY()<w.getMinY()||F.getMaxY()>w.getMaxY()))w=F;else break}O.setBoundingBox(w);let R=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,E),O.setDetectionResultColumn(R,C);let B=E!=null;for(let U=1;U<=R;U++){let F=B?U:R-U;if(O.getDetectionResultColumn(F)!==void 0)continue;let V;F===0||F===R?V=new Ds(w,F===0):V=new ma(w),O.setDetectionResultColumn(F,V);let ie=-1,_e=ie;for(let pe=w.getMinY();pe<=w.getMaxY();pe++){if(ie=st.getStartColumn(O,F,pe,B),ie<0||ie>w.getMaxX()){if(_e===-1)continue;ie=_e}let xe=st.detectCodeword(t,w.getMinX(),w.getMaxX(),B,ie,pe,h,g);xe!=null&&(V.setCodeword(pe,xe),_e=ie,h=Math.min(h,xe.getWidth()),g=Math.max(g,xe.getWidth()))}}return st.createDecoderResult(O)}static merge(t,a){if(t==null&&a==null)return null;let r=st.getBarcodeMetadata(t,a);if(r==null)return null;let c=sa.merge(st.adjustBoundingBox(t),st.adjustBoundingBox(a));return new vn(r,c)}static adjustBoundingBox(t){if(t==null)return null;let a=t.getRowHeights();if(a==null)return null;let r=st.getMax(a),c=0;for(let g of a)if(c+=r-g,g>0)break;let u=t.getCodewords();for(let g=0;c>0&&u[g]==null;g++)c--;let h=0;for(let g=a.length-1;g>=0&&(h+=r-a[g],!(a[g]>0));g--);for(let g=u.length-1;h>0&&u[g]==null;g--)h--;return t.getBoundingBox().addMissingRows(c,h,t.isLeft())}static getMax(t){let a=-1;for(let r of t)a=Math.max(a,r);return a}static getBarcodeMetadata(t,a){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let c;return a==null||(c=a.getBarcodeMetadata())==null?r:r.getColumnCount()!==c.getColumnCount()&&r.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&r.getRowCount()!==c.getRowCount()?null:r}static getRowIndicatorColumn(t,a,r,c,u,h){let g=new Ds(a,c);for(let w=0;w<2;w++){let E=w===0?1:-1,C=Math.trunc(Math.trunc(r.getX()));for(let O=Math.trunc(Math.trunc(r.getY()));O<=a.getMaxY()&&O>=a.getMinY();O+=E){let R=st.detectCodeword(t,0,t.getWidth(),c,C,O,u,h);R!=null&&(g.setCodeword(O,R),c?C=R.getStartX():C=R.getEndX())}}return g}static adjustCodewordCount(t,a){let r=a[0][1],c=r.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-st.getNumberOfECCodeWords(t.getBarcodeECLevel());if(c.length===0){if(u<1||u>Ve.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();r.setValue(u)}else c[0]!==u&&r.setValue(u)}static createDecoderResult(t){let a=st.createBarcodeMatrix(t);st.adjustCodewordCount(t,a);let r=new Array,c=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],h=new Array;for(let w=0;w<t.getBarcodeRowCount();w++)for(let E=0;E<t.getBarcodeColumnCount();E++){let C=a[w][E+1].getValue(),O=w*t.getBarcodeColumnCount()+E;C.length===0?r.push(O):C.length===1?c[O]=C[0]:(h.push(O),u.push(C))}let g=new Array(u.length);for(let w=0;w<g.length;w++)g[w]=u[w];return st.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),c,Ve.toIntArray(r),Ve.toIntArray(h),g)}static createDecoderResultFromAmbiguousValues(t,a,r,c,u){let h=new Int32Array(c.length),g=100;for(;g-- >0;){for(let w=0;w<h.length;w++)a[c[w]]=u[w][h[w]];try{return st.decodeCodewords(a,t,r)}catch(w){if(!(w instanceof L))throw w}if(h.length===0)throw L.getChecksumInstance();for(let w=0;w<h.length;w++)if(h[w]<u[w].length-1){h[w]++;break}else if(h[w]=0,w===h.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(t){let a=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let c=0;c<a.length;c++)for(let u=0;u<a[c].length;u++)a[c][u]=new xa;let r=0;for(let c of t.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][r].setValue(u.getValue())}}}r++}return a}static isValidBarcodeColumn(t,a){return a>=0&&a<=t.getBarcodeColumnCount()+1}static getStartColumn(t,a,r,c){let u=c?1:-1,h=null;if(st.isValidBarcodeColumn(t,a-u)&&(h=t.getDetectionResultColumn(a-u).getCodeword(r)),h!=null)return c?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(a).getCodewordNearby(r),h!=null)return c?h.getStartX():h.getEndX();if(st.isValidBarcodeColumn(t,a-u)&&(h=t.getDetectionResultColumn(a-u).getCodewordNearby(r)),h!=null)return c?h.getEndX():h.getStartX();let g=0;for(;st.isValidBarcodeColumn(t,a-u);){a-=u;for(let w of t.getDetectionResultColumn(a).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+u*g*(w.getEndX()-w.getStartX());g++}return c?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,a,r,c,u,h,g,w){u=st.adjustCodewordStartColumn(t,a,r,c,u,h);let E=st.getModuleBitCount(t,a,r,c,u,h);if(E==null)return null;let C,O=Ze.sum(E);if(c)C=u+O;else{for(let U=0;U<E.length/2;U++){let F=E[U];E[U]=E[E.length-1-U],E[E.length-1-U]=F}C=u,u=C-O}if(!st.checkCodewordSkew(O,g,w))return null;let R=Dn.getDecodedValue(E),B=Ve.getCodeword(R);return B===-1?null:new vi(u,C,st.getCodewordBucketNumber(R),B)}static getModuleBitCount(t,a,r,c,u,h){let g=u,w=new Int32Array(8),E=0,C=c?1:-1,O=c;for(;(c?g<r:g>=a)&&E<w.length;)t.get(g,h)===O?(w[E]++,g+=C):(E++,O=!O);return E===w.length||g===(c?r:a)&&E===w.length-1?w:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,a,r,c,u,h){let g=u,w=c?-1:1;for(let E=0;E<2;E++){for(;(c?g>=a:g<r)&&c===t.get(g,h);){if(Math.abs(u-g)>st.CODEWORD_SKEW_SIZE)return u;g+=w}w=-w,c=!c}return g}static checkCodewordSkew(t,a,r){return a-st.CODEWORD_SKEW_SIZE<=t&&t<=r+st.CODEWORD_SKEW_SIZE}static decodeCodewords(t,a,r){if(t.length===0)throw Z.getFormatInstance();let c=1<<a+1,u=st.correctErrors(t,r,c);st.verifyCodewordCount(t,c);let h=ae.decode(t,""+a);return h.setErrorsCorrected(u),h.setErasures(r.length),h}static correctErrors(t,a,r){if(a!=null&&a.length>r/2+st.MAX_ERRORS||r<0||r>st.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return st.errorCorrection.decode(t,r,a)}static verifyCodewordCount(t,a){if(t.length<4)throw Z.getFormatInstance();let r=t[0];if(r>t.length)throw Z.getFormatInstance();if(r===0)if(a<t.length)t[0]=t.length-a;else throw Z.getFormatInstance()}static getBitCountForCodeword(t){let a=new Int32Array(8),r=0,c=a.length-1;for(;!((t&1)!==r&&(r=t&1,c--,c<0));)a[c]++,t>>=1;return a}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return st.getCodewordBucketNumber(st.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let a=new cr;for(let r=0;r<t.length;r++){a.format("Row %2d: ",r);for(let c=0;c<t[r].length;c++){let u=t[r][c];u.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}a.format("%n")}return a.toString()}}st.CODEWORD_SKEW_SIZE=2,st.MAX_ERRORS=3,st.MAX_EC_CODEWORDS=512,st.errorCorrection=new la;class Mn{decode(t,a=null){let r=Mn.decode(t,a,!1);if(r==null||r.length===0||r[0]==null)throw Q.getNotFoundInstance();return r[0]}decodeMultiple(t,a=null){try{return Mn.decode(t,a,!0)}catch(r){throw r instanceof Z||r instanceof L?Q.getNotFoundInstance():r}}static decode(t,a,r){const c=new Array,u=tt.detectMultiple(t,a,r);for(const h of u.getPoints()){const g=st.decode(u.getBits(),h[4],h[5],h[6],h[7],Mn.getMinCodewordWidth(h),Mn.getMaxCodewordWidth(h)),w=new Ce(g.getText(),g.getRawBytes(),void 0,h,ye.PDF_417);w.putMetadata(rt.ERROR_CORRECTION_LEVEL,g.getECLevel());const E=g.getOther();E!=null&&w.putMetadata(rt.PDF417_EXTRA_METADATA,E),c.push(w)}return c.map(h=>h)}static getMaxWidth(t,a){return t==null||a==null?0:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMinWidth(t,a){return t==null||a==null?X.MAX_VALUE:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Mn.getMaxWidth(t[0],t[4]),Mn.getMaxWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.max(Mn.getMaxWidth(t[1],t[5]),Mn.getMaxWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Mn.getMinWidth(t[0],t[4]),Mn.getMinWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.min(Mn.getMinWidth(t[1],t[5]),Mn.getMinWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ul extends y{}Ul.kind="ReaderException";class qo{constructor(t,a){this.verbose=t===!0,a&&this.setHints(a)}decode(t,a){return a&&this.setHints(a),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const a=!d(t)&&t.get(Ee.TRY_HARDER)===!0,r=d(t)?null:t.get(Ee.POSSIBLE_FORMATS),c=new Array;if(!d(r)){const u=r.some(h=>h===ye.UPC_A||h===ye.UPC_E||h===ye.EAN_13||h===ye.EAN_8||h===ye.CODABAR||h===ye.CODE_39||h===ye.CODE_93||h===ye.CODE_128||h===ye.ITF||h===ye.RSS_14||h===ye.RSS_EXPANDED);u&&!a&&c.push(new Ci(t,this.verbose)),r.includes(ye.QR_CODE)&&c.push(new ra),r.includes(ye.DATA_MATRIX)&&c.push(new aa),r.includes(ye.AZTEC)&&c.push(new tr),r.includes(ye.PDF_417)&&c.push(new Mn),u&&a&&c.push(new Ci(t,this.verbose))}c.length===0&&(a||c.push(new Ci(t,this.verbose)),c.push(new ra),c.push(new aa),c.push(new tr),c.push(new Mn),a&&c.push(new Ci(t,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Ul("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(t,this.hints)}catch(r){if(r instanceof Ul)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class Ko extends Ae{constructor(t=null,a=500){const r=new qo;r.setHints(t),super(r,a)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Gu extends Ae{constructor(t=500){super(new Mn,t)}}class Vu extends Ae{constructor(t=500){super(new ra,t)}}var ks;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(ks||(ks={}));var _n=ks;class $r{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Qt(t,Int32Array.from([1])))}buildGenerator(t){const a=this.cachedGenerators;if(t>=a.length){let r=a[a.length-1];const c=this.field;for(let u=a.length;u<=t;u++){const h=r.multiply(new Qt(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));a.push(h),r=h}}return a[t]}encode(t,a){if(a===0)throw new I("No error correction bytes");const r=t.length-a;if(r<=0)throw new I("No data bytes provided");const c=this.buildGenerator(a),u=new Int32Array(r);re.arraycopy(t,0,u,0,r);let h=new Qt(this.field,u);h=h.multiplyByMonomial(a,1);const w=h.divide(c)[1].getCoefficients(),E=a-w.length;for(let C=0;C<E;C++)t[r+C]=0;re.arraycopy(w,0,t,r+E,w.length)}}class nn{constructor(){}static applyMaskPenaltyRule1(t){return nn.applyMaskPenaltyRule1Internal(t,!0)+nn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let a=0;const r=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let h=0;h<u-1;h++){const g=r[h];for(let w=0;w<c-1;w++){const E=g[w];E===g[w+1]&&E===r[h+1][w]&&E===r[h+1][w+1]&&a++}}return nn.N2*a}static applyMaskPenaltyRule3(t){let a=0;const r=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let h=0;h<u;h++)for(let g=0;g<c;g++){const w=r[h];g+6<c&&w[g]===1&&w[g+1]===0&&w[g+2]===1&&w[g+3]===1&&w[g+4]===1&&w[g+5]===0&&w[g+6]===1&&(nn.isWhiteHorizontal(w,g-4,g)||nn.isWhiteHorizontal(w,g+7,g+11))&&a++,h+6<u&&r[h][g]===1&&r[h+1][g]===0&&r[h+2][g]===1&&r[h+3][g]===1&&r[h+4][g]===1&&r[h+5][g]===0&&r[h+6][g]===1&&(nn.isWhiteVertical(r,g,h-4,h)||nn.isWhiteVertical(r,g,h+7,h+11))&&a++}return a*nn.N3}static isWhiteHorizontal(t,a,r){a=Math.max(a,0),r=Math.min(r,t.length);for(let c=a;c<r;c++)if(t[c]===1)return!1;return!0}static isWhiteVertical(t,a,r,c){r=Math.max(r,0),c=Math.min(c,t.length);for(let u=r;u<c;u++)if(t[u][a]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let a=0;const r=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let w=0;w<u;w++){const E=r[w];for(let C=0;C<c;C++)E[C]===1&&a++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*nn.N4}static getDataMaskBit(t,a,r){let c,u;switch(t){case 0:c=r+a&1;break;case 1:c=r&1;break;case 2:c=a%3;break;case 3:c=(r+a)%3;break;case 4:c=Math.floor(r/2)+Math.floor(a/3)&1;break;case 5:u=r*a,c=(u&1)+u%3;break;case 6:u=r*a,c=(u&1)+u%3&1;break;case 7:u=r*a,c=u%3+(r+a&1)&1;break;default:throw new I("Invalid mask pattern: "+t)}return c===0}static applyMaskPenaltyRule1Internal(t,a){let r=0;const c=a?t.getHeight():t.getWidth(),u=a?t.getWidth():t.getHeight(),h=t.getArray();for(let g=0;g<c;g++){let w=0,E=-1;for(let C=0;C<u;C++){const O=a?h[g][C]:h[C][g];O===E?w++:(w>=5&&(r+=nn.N1+(w-5)),w=1,E=O)}w>=5&&(r+=nn.N1+(w-5))}return r}}nn.N1=3,nn.N2=3,nn.N3=40,nn.N4=10;class Fl{constructor(t,a){this.width=t,this.height=a;const r=new Array(a);for(let c=0;c!==a;c++)r[c]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,a){return this.bytes[a][t]}getArray(){return this.bytes}setNumber(t,a,r){this.bytes[a][t]=r}setBoolean(t,a,r){this.bytes[a][t]=r?1:0}clear(t){for(const a of this.bytes)me.fill(a,t)}equals(t){if(!(t instanceof Fl))return!1;const a=t;if(this.width!==a.width||this.height!==a.height)return!1;for(let r=0,c=this.height;r<c;++r){const u=this.bytes[r],h=a.bytes[r];for(let g=0,w=this.width;g<w;++g)if(u[g]!==h[g])return!1}return!0}toString(){const t=new Qe;for(let a=0,r=this.height;a<r;++a){const c=this.bytes[a];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ra{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Qe;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ra.NUM_MASK_PATTERNS}}Ra.NUM_MASK_PATTERNS=8;class zt extends y{}zt.kind="WriterException";class Xe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,a,r,c,u){Xe.clearMatrix(u),Xe.embedBasicPatterns(r,u),Xe.embedTypeInfo(a,c,u),Xe.maybeEmbedVersionInfo(r,u),Xe.embedDataBits(t,c,u)}static embedBasicPatterns(t,a){Xe.embedPositionDetectionPatternsAndSeparators(a),Xe.embedDarkDotAtLeftBottomCorner(a),Xe.maybeEmbedPositionAdjustmentPatterns(t,a),Xe.embedTimingPatterns(a)}static embedTypeInfo(t,a,r){const c=new q;Xe.makeTypeInfoBits(t,a,c);for(let u=0,h=c.getSize();u<h;++u){const g=c.get(c.getSize()-1-u),w=Xe.TYPE_INFO_COORDINATES[u],E=w[0],C=w[1];if(r.setBoolean(E,C,g),u<8){const O=r.getWidth()-u-1;r.setBoolean(O,8,g)}else{const R=r.getHeight()-7+(u-8);r.setBoolean(8,R,g)}}}static maybeEmbedVersionInfo(t,a){if(t.getVersionNumber()<7)return;const r=new q;Xe.makeVersionInfoBits(t,r);let c=17;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const g=r.get(c);c--,a.setBoolean(u,a.getHeight()-11+h,g),a.setBoolean(a.getHeight()-11+h,u,g)}}static embedDataBits(t,a,r){let c=0,u=-1,h=r.getWidth()-1,g=r.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);g>=0&&g<r.getHeight();){for(let w=0;w<2;++w){const E=h-w;if(!Xe.isEmpty(r.get(E,g)))continue;let C;c<t.getSize()?(C=t.get(c),++c):C=!1,a!==255&&nn.getDataMaskBit(a,E,g)&&(C=!C),r.setBoolean(E,g,C)}g+=u}u=-u,g+=u,h-=2}if(c!==t.getSize())throw new zt("Not all bits consumed: "+c+"/"+t.getSize())}static findMSBSet(t){return 32-X.numberOfLeadingZeros(t)}static calculateBCHCode(t,a){if(a===0)throw new I("0 polynomial");const r=Xe.findMSBSet(a);for(t<<=r-1;Xe.findMSBSet(t)>=r;)t^=a<<Xe.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,a,r){if(!Ra.isValidMaskPattern(a))throw new zt("Invalid mask pattern");const c=t.getBits()<<3|a;r.appendBits(c,5);const u=Xe.calculateBCHCode(c,Xe.TYPE_INFO_POLY);r.appendBits(u,10);const h=new q;if(h.appendBits(Xe.TYPE_INFO_MASK_PATTERN,15),r.xor(h),r.getSize()!==15)throw new zt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,a){a.appendBits(t.getVersionNumber(),6);const r=Xe.calculateBCHCode(t.getVersionNumber(),Xe.VERSION_INFO_POLY);if(a.appendBits(r,12),a.getSize()!==18)throw new zt("should not happen but we got: "+a.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let a=8;a<t.getWidth()-8;++a){const r=(a+1)%2;Xe.isEmpty(t.get(a,6))&&t.setNumber(a,6,r),Xe.isEmpty(t.get(6,a))&&t.setNumber(6,a,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new zt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,a,r){for(let c=0;c<8;++c){if(!Xe.isEmpty(r.get(t+c,a)))throw new zt;r.setNumber(t+c,a,0)}}static embedVerticalSeparationPattern(t,a,r){for(let c=0;c<7;++c){if(!Xe.isEmpty(r.get(t,a+c)))throw new zt;r.setNumber(t,a+c,0)}}static embedPositionAdjustmentPattern(t,a,r){for(let c=0;c<5;++c){const u=Xe.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)r.setNumber(t+h,a+c,u[h])}}static embedPositionDetectionPattern(t,a,r){for(let c=0;c<7;++c){const u=Xe.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)r.setNumber(t+h,a+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(t){const a=Xe.POSITION_DETECTION_PATTERN[0].length;Xe.embedPositionDetectionPattern(0,0,t),Xe.embedPositionDetectionPattern(t.getWidth()-a,0,t),Xe.embedPositionDetectionPattern(0,t.getWidth()-a,t);const r=8;Xe.embedHorizontalSeparationPattern(0,r-1,t),Xe.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Xe.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const c=7;Xe.embedVerticalSeparationPattern(c,0,t),Xe.embedVerticalSeparationPattern(t.getHeight()-c-1,0,t),Xe.embedVerticalSeparationPattern(c,t.getHeight()-c,t)}static maybeEmbedPositionAdjustmentPatterns(t,a){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,c=Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let u=0,h=c.length;u!==h;u++){const g=c[u];if(g>=0)for(let w=0;w!==h;w++){const E=c[w];E>=0&&Xe.isEmpty(a.get(E,g))&&Xe.embedPositionAdjustmentPattern(E-2,g-2,a)}}}}Xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xe.VERSION_INFO_POLY=7973,Xe.TYPE_INFO_POLY=1335,Xe.TYPE_INFO_MASK_PATTERN=21522;class Xu{constructor(t,a){this.dataBytes=t,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class qt{constructor(){}static calculateMaskPenalty(t){return nn.applyMaskPenaltyRule1(t)+nn.applyMaskPenaltyRule2(t)+nn.applyMaskPenaltyRule3(t)+nn.applyMaskPenaltyRule4(t)}static encode(t,a,r=null){let c=qt.DEFAULT_BYTE_MODE_ENCODING;const u=r!==null&&r.get(_n.CHARACTER_SET)!==void 0;u&&(c=r.get(_n.CHARACTER_SET).toString());const h=this.chooseMode(t,c),g=new q;if(h===He.BYTE&&(u||qt.DEFAULT_BYTE_MODE_ENCODING!==c)){const pe=te.getCharacterSetECIByName(c);pe!==void 0&&this.appendECI(pe,g)}this.appendModeInfo(h,g);const w=new q;this.appendBytes(t,h,w,c);let E;if(r!==null&&r.get(_n.QR_VERSION)!==void 0){const pe=Number.parseInt(r.get(_n.QR_VERSION).toString(),10);E=ze.getVersionForNumber(pe);const xe=this.calculateBitsNeeded(h,g,w,E);if(!this.willFit(xe,E,a))throw new zt("Data too big for requested version")}else E=this.recommendVersion(a,h,g,w);const C=new q;C.appendBitArray(g);const O=h===He.BYTE?w.getSizeInBytes():t.length;this.appendLengthInfo(O,E,h,C),C.appendBitArray(w);const R=E.getECBlocksForLevel(a),B=E.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(B,C);const U=this.interleaveWithECBytes(C,E.getTotalCodewords(),B,R.getNumBlocks()),F=new Ra;F.setECLevel(a),F.setMode(h),F.setVersion(E);const V=E.getDimensionForVersion(),ie=new Fl(V,V),_e=this.chooseMaskPattern(U,a,E,ie);return F.setMaskPattern(_e),Xe.buildMatrix(U,a,E,_e,ie),F.setMatrix(ie),F}static recommendVersion(t,a,r,c){const u=this.calculateBitsNeeded(a,r,c,ze.getVersionForNumber(1)),h=this.chooseVersion(u,t),g=this.calculateBitsNeeded(a,r,c,h);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,a,r,c){return a.getSize()+t.getCharacterCountBits(c)+r.getSize()}static getAlphanumericCode(t){return t<qt.ALPHANUMERIC_TABLE.length?qt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,a=null){if(te.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(t))return He.KANJI;let r=!1,c=!1;for(let u=0,h=t.length;u<h;++u){const g=t.charAt(u);if(qt.isDigit(g))r=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return He.BYTE}return c?He.ALPHANUMERIC:r?He.NUMERIC:He.BYTE}static isOnlyDoubleByteKanji(t){let a;try{a=Te.encode(t,te.SJIS)}catch{return!1}const r=a.length;if(r%2!==0)return!1;for(let c=0;c<r;c+=2){const u=a[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,a,r,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let g=0;g<Ra.NUM_MASK_PATTERNS;g++){Xe.buildMatrix(t,a,r,g,c);let w=this.calculateMaskPenalty(c);w<u&&(u=w,h=g)}return h}static chooseVersion(t,a){for(let r=1;r<=40;r++){const c=ze.getVersionForNumber(r);if(qt.willFit(t,c,a))return c}throw new zt("Data too big")}static willFit(t,a,r){const c=a.getTotalCodewords(),h=a.getECBlocksForLevel(r).getTotalECCodewords(),g=c-h,w=(t+7)/8;return g>=w}static terminateBits(t,a){const r=t*8;if(a.getSize()>r)throw new zt("data bits cannot fit in the QR Code"+a.getSize()+" > "+r);for(let h=0;h<4&&a.getSize()<r;++h)a.appendBit(!1);const c=a.getSize()&7;if(c>0)for(let h=c;h<8;h++)a.appendBit(!1);const u=t-a.getSizeInBytes();for(let h=0;h<u;++h)a.appendBits((h&1)===0?236:17,8);if(a.getSize()!==r)throw new zt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,a,r,c,u,h){if(c>=r)throw new zt("Block ID too large");const g=t%r,w=r-g,E=Math.floor(t/r),C=E+1,O=Math.floor(a/r),R=O+1,B=E-O,U=C-R;if(B!==U)throw new zt("EC bytes mismatch");if(r!==w+g)throw new zt("RS blocks mismatch");if(t!==(O+B)*w+(R+U)*g)throw new zt("Total bytes mismatch");c<w?(u[0]=O,h[0]=B):(u[0]=R,h[0]=U)}static interleaveWithECBytes(t,a,r,c){if(t.getSizeInBytes()!==r)throw new zt("Number of bits and data bytes does not match");let u=0,h=0,g=0;const w=new Array;for(let C=0;C<c;++C){const O=new Int32Array(1),R=new Int32Array(1);qt.getNumDataBytesAndNumECBytesForBlockID(a,r,c,C,O,R);const B=O[0],U=new Uint8Array(B);t.toBytes(8*u,U,0,B);const F=qt.generateECBytes(U,R[0]);w.push(new Xu(U,F)),h=Math.max(h,B),g=Math.max(g,F.length),u+=O[0]}if(r!==u)throw new zt("Data bytes does not match offset");const E=new q;for(let C=0;C<h;++C)for(const O of w){const R=O.getDataBytes();C<R.length&&E.appendBits(R[C],8)}for(let C=0;C<g;++C)for(const O of w){const R=O.getErrorCorrectionBytes();C<R.length&&E.appendBits(R[C],8)}if(a!==E.getSizeInBytes())throw new zt("Interleaving error: "+a+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(t,a){const r=t.length,c=new Int32Array(r+a);for(let h=0;h<r;h++)c[h]=t[h]&255;new $r(Me.QR_CODE_FIELD_256).encode(c,a);const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=c[r+h];return u}static appendModeInfo(t,a){a.appendBits(t.getBits(),4)}static appendLengthInfo(t,a,r,c){const u=r.getCharacterCountBits(a);if(t>=1<<u)throw new zt(t+" is bigger than "+((1<<u)-1));c.appendBits(t,u)}static appendBytes(t,a,r,c){switch(a){case He.NUMERIC:qt.appendNumericBytes(t,r);break;case He.ALPHANUMERIC:qt.appendAlphanumericBytes(t,r);break;case He.BYTE:qt.append8BitBytes(t,r,c);break;case He.KANJI:qt.appendKanjiBytes(t,r);break;default:throw new zt("Invalid mode: "+a)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const a=qt.getDigit(t);return a>=0&&a<=9}static appendNumericBytes(t,a){const r=t.length;let c=0;for(;c<r;){const u=qt.getDigit(t.charAt(c));if(c+2<r){const h=qt.getDigit(t.charAt(c+1)),g=qt.getDigit(t.charAt(c+2));a.appendBits(u*100+h*10+g,10),c+=3}else if(c+1<r){const h=qt.getDigit(t.charAt(c+1));a.appendBits(u*10+h,7),c+=2}else a.appendBits(u,4),c++}}static appendAlphanumericBytes(t,a){const r=t.length;let c=0;for(;c<r;){const u=qt.getAlphanumericCode(t.charCodeAt(c));if(u===-1)throw new zt;if(c+1<r){const h=qt.getAlphanumericCode(t.charCodeAt(c+1));if(h===-1)throw new zt;a.appendBits(u*45+h,11),c+=2}else a.appendBits(u,6),c++}}static append8BitBytes(t,a,r){let c;try{c=Te.encode(t,r)}catch(u){throw new zt(u)}for(let u=0,h=c.length;u!==h;u++){const g=c[u];a.appendBits(g,8)}}static appendKanjiBytes(t,a){let r;try{r=Te.encode(t,te.SJIS)}catch(u){throw new zt(u)}const c=r.length;for(let u=0;u<c;u+=2){const h=r[u]&255,g=r[u+1]&255,w=h<<8&4294967295|g;let E=-1;if(w>=33088&&w<=40956?E=w-33088:w>=57408&&w<=60351&&(E=w-49472),E===-1)throw new zt("Invalid byte sequence");const C=(E>>8)*192+(E&255);a.appendBits(C,13)}}static appendECI(t,a){a.appendBits(He.ECI.getBits(),4),a.appendBits(t.getValue(),8)}}qt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),qt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class Ia{write(t,a,r,c=null){if(t.length===0)throw new I("Found empty contents");if(a<0||r<0)throw new I("Requested dimensions are too small: "+a+"x"+r);let u=ft.L,h=Ia.QUIET_ZONE_SIZE;c!==null&&(c.get(_n.ERROR_CORRECTION)!==void 0&&(u=ft.fromString(c.get(_n.ERROR_CORRECTION).toString())),c.get(_n.MARGIN)!==void 0&&(h=Number.parseInt(c.get(_n.MARGIN).toString(),10)));const g=qt.encode(t,u,c);return this.renderResult(g,a,r,h)}writeToDom(t,a,r,c,u=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(a,r,c,u);t&&t.appendChild(h)}renderResult(t,a,r,c){const u=t.getMatrix();if(u===null)throw new At;const h=u.getWidth(),g=u.getHeight(),w=h+c*2,E=g+c*2,C=Math.max(a,w),O=Math.max(r,E),R=Math.min(Math.floor(C/w),Math.floor(O/E)),B=Math.floor((C-h*R)/2),U=Math.floor((O-g*R)/2),F=this.createSVGElement(C,O);for(let V=0,ie=U;V<g;V++,ie+=R)for(let _e=0,pe=B;_e<h;_e++,pe+=R)if(u.get(_e,V)===1){const xe=this.createSvgRectElement(pe,ie,R,R);F.appendChild(xe)}return F}createSVGElement(t,a){const r=document.createElementNS(Ia.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",a.toString()),r}createSvgRectElement(t,a,r,c){const u=document.createElementNS(Ia.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",a.toString()),u.setAttributeNS(null,"height",r.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Ia.QUIET_ZONE_SIZE=4,Ia.SVG_NS="http://www.w3.org/2000/svg";class fr{encode(t,a,r,c,u){if(t.length===0)throw new I("Found empty contents");if(a!==ye.QR_CODE)throw new I("Can only encode QR_CODE, but got "+a);if(r<0||c<0)throw new I(`Requested dimensions are too small: ${r}x${c}`);let h=ft.L,g=fr.QUIET_ZONE_SIZE;u!==null&&(u.get(_n.ERROR_CORRECTION)!==void 0&&(h=ft.fromString(u.get(_n.ERROR_CORRECTION).toString())),u.get(_n.MARGIN)!==void 0&&(g=Number.parseInt(u.get(_n.MARGIN).toString(),10)));const w=qt.encode(t,h,u);return fr.renderResult(w,r,c,g)}static renderResult(t,a,r,c){const u=t.getMatrix();if(u===null)throw new At;const h=u.getWidth(),g=u.getHeight(),w=h+c*2,E=g+c*2,C=Math.max(a,w),O=Math.max(r,E),R=Math.min(Math.floor(C/w),Math.floor(O/E)),B=Math.floor((C-h*R)/2),U=Math.floor((O-g*R)/2),F=new Je(C,O);for(let V=0,ie=U;V<g;V++,ie+=R)for(let _e=0,pe=B;_e<h;_e++,pe+=R)u.get(_e,V)===1&&F.setRegion(pe,ie,R,R);return F}}fr.QUIET_ZONE_SIZE=4;class Yu{encode(t,a,r,c,u){let h;if(a===ye.QR_CODE)h=new fr;else throw new I("No encoder available for format "+a);return h.encode(t,a,r,c,u)}}class ji extends ke{constructor(t,a,r,c,u,h,g,w){if(super(h,g),this.yuvData=t,this.dataWidth=a,this.dataHeight=r,this.left=c,this.top=u,c+h>a||u+g>r)throw new I("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(h,g)}getRow(t,a){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const c=(t+this.top)*this.dataWidth+this.left;return re.arraycopy(this.yuvData,c,a,0,r),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.yuvData;const r=t*a,c=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return re.arraycopy(this.yuvData,u,c,0,r),c;for(let h=0;h<a;h++){const g=h*t;re.arraycopy(this.yuvData,u,c,g,t),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,a,r,c){return new ji(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+a,r,c,!1)}renderThumbnail(){const t=this.getWidth()/ji.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/ji.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*a),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){const g=h*t;for(let w=0;w<t;w++){const E=c[u+w*ji.THUMBNAIL_SCALE_FACTOR]&255;r[g+w]=4278190080|E*65793}u+=this.dataWidth*ji.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/ji.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ji.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,a){const r=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<a;c++,u+=this.dataWidth){const h=u+t/2;for(let g=u,w=u+t-1;g<h;g++,w--){const E=r[g];r[g]=r[w],r[w]=E}}}invert(){return new qe(this)}}ji.THUMBNAIL_SCALE_FACTOR=2;class Ls extends ke{constructor(t,a,r,c,u,h,g){if(super(a,r),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=g,t.BYTES_PER_ELEMENT===4){const w=a*r,E=new Uint8ClampedArray(w);for(let C=0;C<w;C++){const O=t[C],R=O>>16&255,B=O>>7&510,U=O&255;E[C]=(R+B+U)/4&255}this.luminances=E}else this.luminances=t;if(c===void 0&&(this.dataWidth=a),u===void 0&&(this.dataHeight=r),h===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+r>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(t,a){if(t<0||t>=this.getHeight())throw new I("Requested row is outside the image: "+t);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const c=(t+this.top)*this.dataWidth+this.left;return re.arraycopy(this.luminances,c,a,0,r),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.luminances;const r=t*a,c=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return re.arraycopy(this.luminances,u,c,0,r),c;for(let h=0;h<a;h++){const g=h*t;re.arraycopy(this.luminances,u,c,g,t),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,a,r,c){return new Ls(this.luminances,r,c,this.dataWidth,this.dataHeight,this.left+t,this.top+a)}invert(){return new qe(this)}}class Qo extends te{static forName(t){return this.getCharacterSetECIByName(t)}}class el{}el.ISO_8859_1=te.ISO8859_1;class hr{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Wo{static singletonList(t){return[t]}static min(t,a){return t.sort(a)[0]}}class Jo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Da extends Jo{constructor(t,a,r){super(t),this.value=a,this.bitCount=r}appendTo(t,a){t.appendBits(this.value,this.bitCount)}add(t,a){return new Da(this,t,a)}addBinaryShift(t,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Da(this,t,a)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+X.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Pl extends Da{constructor(t,a,r){super(t,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=r}appendTo(t,a){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(a[this.binaryShiftStart+r],8)}addBinaryShift(t,a){return new Pl(this,t,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $o(N,t,a){return new Pl(N,t,a)}function dr(N,t,a){return new Da(N,t,a)}const gr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],wa=0,Hl=1,hi=2,zs=3,Ti=4,tl=new Da(null,0,0),Ma=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function qu(N){for(let t of N)me.fill(t,-1);return N[wa][Ti]=0,N[Hl][Ti]=0,N[Hl][wa]=28,N[zs][Ti]=0,N[hi][Ti]=0,N[hi][wa]=15,N}const nl=qu(me.createInt32Array(6,6));class Ni{constructor(t,a,r,c){this.token=t,this.mode=a,this.binaryShiftByteCount=r,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,a){let r=this.bitCount,c=this.token;if(t!==this.mode){let h=Ma[this.mode][t];c=dr(c,h&65535,h>>16),r+=h>>16}let u=t===hi?4:5;return c=dr(c,a,u),new Ni(c,t,0,r+u)}shiftAndAppend(t,a){let r=this.token,c=this.mode===hi?4:5;return r=dr(r,nl[this.mode][t],c),r=dr(r,a,5),new Ni(r,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(t){let a=this.token,r=this.mode,c=this.bitCount;if(this.mode===Ti||this.mode===hi){let g=Ma[r][wa];a=dr(a,g&65535,g>>16),c+=g>>16,r=wa}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new Ni(a,r,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=$o(a,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ni(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let a=this.bitCount+(Ma[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?a+=Ni.calculateBinaryShiftCost(t)-Ni.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(a+=10),a<=t.bitCount}toBitArray(t){let a=[];for(let c=this.endBinaryShift(t.length).token;c!==null;c=c.getPrevious())a.unshift(c);let r=new q;for(const c of a)c.appendTo(r,t);return r}toString(){return Ne.format("%s bits=%d bytes=%d",gr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Ni.INITIAL_STATE=new Ni(tl,wa,0,0);function ec(N){const t=Ne.getCharCode(" "),a=Ne.getCharCode("."),r=Ne.getCharCode(",");N[wa][t]=1;const c=Ne.getCharCode("Z"),u=Ne.getCharCode("A");for(let R=u;R<=c;R++)N[wa][R]=R-u+2;N[Hl][t]=1;const h=Ne.getCharCode("z"),g=Ne.getCharCode("a");for(let R=g;R<=h;R++)N[Hl][R]=R-g+2;N[hi][t]=1;const w=Ne.getCharCode("9"),E=Ne.getCharCode("0");for(let R=E;R<=w;R++)N[hi][R]=R-E+2;N[hi][r]=12,N[hi][a]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<C.length;R++)N[zs][Ne.getCharCode(C[R])]=R;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<O.length;R++)Ne.getCharCode(O[R])>0&&(N[Ti][Ne.getCharCode(O[R])]=R);return N}const il=ec(me.createInt32Array(5,256));class Ba{constructor(t){this.text=t}encode(){const t=Ne.getCharCode(" "),a=Ne.getCharCode(`
`);let r=Wo.singletonList(Ni.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ne.getCharCode("\r"):h=g===a?2:0;break;case Ne.getCharCode("."):h=g===t?3:0;break;case Ne.getCharCode(","):h=g===t?4:0;break;case Ne.getCharCode(":"):h=g===t?5:0;break;default:h=0}h>0?(r=Ba.updateStateListForPair(r,u,h),u++):r=this.updateStateListForChar(r,u)}return Wo.min(r,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,a){const r=[];for(let c of t)this.updateStateForChar(c,a,r);return Ba.simplifyStates(r)}updateStateForChar(t,a,r){let c=this.text[a]&255,u=il[t.getMode()][c]>0,h=null;for(let g=0;g<=Ti;g++){let w=il[g][c];if(w>0){if(h==null&&(h=t.endBinaryShift(a)),!u||g===t.getMode()||g===hi){const E=h.latchAndAppend(g,w);r.push(E)}if(!u&&nl[t.getMode()][g]>=0){const E=h.shiftAndAppend(g,w);r.push(E)}}}if(t.getBinaryShiftByteCount()>0||il[t.getMode()][c]===0){let g=t.addBinaryShiftChar(a);r.push(g)}}static updateStateListForPair(t,a,r){const c=[];for(let u of t)this.updateStateForPair(u,a,r,c);return this.simplifyStates(c)}static updateStateForPair(t,a,r,c){let u=t.endBinaryShift(a);if(c.push(u.latchAndAppend(Ti,r)),t.getMode()!==Ti&&c.push(u.shiftAndAppend(Ti,r)),r===3||r===4){let h=u.latchAndAppend(hi,16-r).latchAndAppend(hi,1);c.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(a).addBinaryShiftChar(a+1);c.push(h)}}static simplifyStates(t){let a=[];for(const r of t){let c=!0;for(const u of a){if(u.isBetterThanOrEqualTo(r)){c=!1;break}r.isBetterThanOrEqualTo(u)&&(a=a.filter(h=>h!==u))}c&&a.push(r)}return a}}class _t{constructor(){}static encodeBytes(t){return _t.encode(t,_t.DEFAULT_EC_PERCENT,_t.DEFAULT_AZTEC_LAYERS)}static encode(t,a,r){let c=new Ba(t).encode(),u=X.truncDivision(c.getSize()*a,100)+11,h=c.getSize()+u,g,w,E,C,O;if(r!==_t.DEFAULT_AZTEC_LAYERS){if(g=r<0,w=Math.abs(r),w>(g?_t.MAX_NB_BITS_COMPACT:_t.MAX_NB_BITS))throw new I(Ne.format("Illegal value %s for layers",r));E=_t.totalBitsInLayer(w,g),C=_t.WORD_SIZE[w];let xe=E-E%C;if(O=_t.stuffBits(c,C),O.getSize()+u>xe)throw new I("Data to large for user specified layer");if(g&&O.getSize()>C*64)throw new I("Data to large for user specified layer")}else{C=0,O=null;for(let xe=0;;xe++){if(xe>_t.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(g=xe<=3,w=g?xe+1:xe,E=_t.totalBitsInLayer(w,g),h>E)continue;(O==null||C!==_t.WORD_SIZE[w])&&(C=_t.WORD_SIZE[w],O=_t.stuffBits(c,C));let ut=E-E%C;if(!(g&&O.getSize()>C*64)&&O.getSize()+u<=ut)break}}let R=_t.generateCheckWords(O,E,C),B=O.getSize()/C,U=_t.generateModeMessage(g,w,B),F=(g?11:14)+w*4,V=new Int32Array(F),ie;if(g){ie=F;for(let xe=0;xe<V.length;xe++)V[xe]=xe}else{ie=F+1+2*X.truncDivision(X.truncDivision(F,2)-1,15);let xe=X.truncDivision(F,2),ut=X.truncDivision(ie,2);for(let nt=0;nt<xe;nt++){let hn=nt+X.truncDivision(nt,15);V[xe-nt-1]=ut-hn-1,V[xe+nt]=ut+hn+1}}let _e=new Je(ie);for(let xe=0,ut=0;xe<w;xe++){let nt=(w-xe)*4+(g?9:12);for(let hn=0;hn<nt;hn++){let di=hn*2;for(let Gn=0;Gn<2;Gn++)R.get(ut+di+Gn)&&_e.set(V[xe*2+Gn],V[xe*2+hn]),R.get(ut+nt*2+di+Gn)&&_e.set(V[xe*2+hn],V[F-1-xe*2-Gn]),R.get(ut+nt*4+di+Gn)&&_e.set(V[F-1-xe*2-Gn],V[F-1-xe*2-hn]),R.get(ut+nt*6+di+Gn)&&_e.set(V[F-1-xe*2-hn],V[xe*2+Gn])}ut+=nt*8}if(_t.drawModeMessage(_e,g,ie,U),g)_t.drawBullsEye(_e,X.truncDivision(ie,2),5);else{_t.drawBullsEye(_e,X.truncDivision(ie,2),7);for(let xe=0,ut=0;xe<X.truncDivision(F,2)-1;xe+=15,ut+=16)for(let nt=X.truncDivision(ie,2)&1;nt<ie;nt+=2)_e.set(X.truncDivision(ie,2)-ut,nt),_e.set(X.truncDivision(ie,2)+ut,nt),_e.set(nt,X.truncDivision(ie,2)-ut),_e.set(nt,X.truncDivision(ie,2)+ut)}let pe=new hr;return pe.setCompact(g),pe.setSize(ie),pe.setLayers(w),pe.setCodeWords(B),pe.setMatrix(_e),pe}static drawBullsEye(t,a,r){for(let c=0;c<r;c+=2)for(let u=a-c;u<=a+c;u++)t.set(u,a-c),t.set(u,a+c),t.set(a-c,u),t.set(a+c,u);t.set(a-r,a-r),t.set(a-r+1,a-r),t.set(a-r,a-r+1),t.set(a+r,a-r),t.set(a+r,a-r+1),t.set(a+r,a+r-1)}static generateModeMessage(t,a,r){let c=new q;return t?(c.appendBits(a-1,2),c.appendBits(r-1,6),c=_t.generateCheckWords(c,28,4)):(c.appendBits(a-1,5),c.appendBits(r-1,11),c=_t.generateCheckWords(c,40,4)),c}static drawModeMessage(t,a,r,c){let u=X.truncDivision(r,2);if(a)for(let h=0;h<7;h++){let g=u-3+h;c.get(h)&&t.set(g,u-5),c.get(h+7)&&t.set(u+5,g),c.get(20-h)&&t.set(g,u+5),c.get(27-h)&&t.set(u-5,g)}else for(let h=0;h<10;h++){let g=u-5+h+X.truncDivision(h,5);c.get(h)&&t.set(g,u-7),c.get(h+10)&&t.set(u+7,g),c.get(29-h)&&t.set(g,u+7),c.get(39-h)&&t.set(u-7,g)}}static generateCheckWords(t,a,r){let c=t.getSize()/r,u=new $r(_t.getGF(r)),h=X.truncDivision(a,r),g=_t.bitsToWords(t,r,h);u.encode(g,h-c);let w=a%r,E=new q;E.appendBits(0,w);for(const C of Array.from(g))E.appendBits(C,r);return E}static bitsToWords(t,a,r){let c=new Int32Array(r),u,h;for(u=0,h=t.getSize()/a;u<h;u++){let g=0;for(let w=0;w<a;w++)g|=t.get(u*a+w)?1<<a-w-1:0;c[u]=g}return c}static getGF(t){switch(t){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new I("Unsupported word size "+t)}}static stuffBits(t,a){let r=new q,c=t.getSize(),u=(1<<a)-2;for(let h=0;h<c;h+=a){let g=0;for(let w=0;w<a;w++)(h+w>=c||t.get(h+w))&&(g|=1<<a-1-w);(g&u)===u?(r.appendBits(g&u,a),h--):(g&u)===0?(r.appendBits(g|1,a),h--):r.appendBits(g,a)}return r}static totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}_t.DEFAULT_EC_PERCENT=33,_t.DEFAULT_AZTEC_LAYERS=0,_t.MAX_NB_BITS=32,_t.MAX_NB_BITS_COMPACT=4,_t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class al{encode(t,a,r,c){return this.encodeWithHints(t,a,r,c,null)}encodeWithHints(t,a,r,c,u){let h=el.ISO_8859_1,g=_t.DEFAULT_EC_PERCENT,w=_t.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(_n.CHARACTER_SET)&&(h=Qo.forName(u.get(_n.CHARACTER_SET).toString())),u.has(_n.ERROR_CORRECTION)&&(g=X.parseInt(u.get(_n.ERROR_CORRECTION).toString())),u.has(_n.AZTEC_LAYERS)&&(w=X.parseInt(u.get(_n.AZTEC_LAYERS).toString()))),al.encodeLayers(t,a,r,c,h,g,w)}static encodeLayers(t,a,r,c,u,h,g){if(a!==ye.AZTEC)throw new I("Can only encode AZTEC, but got "+a);let w=_t.encode(Ne.getBytes(t,u),h,g);return al.renderResult(w,r,c)}static renderResult(t,a,r){let c=t.getMatrix();if(c==null)throw new At;let u=c.getWidth(),h=c.getHeight(),g=Math.max(a,u),w=Math.max(r,h),E=Math.min(g/u,w/h),C=(g-u*E)/2,O=(w-h*E)/2,R=new Je(g,w);for(let B=0,U=O;B<h;B++,U+=E)for(let F=0,V=C;F<u;F++,V+=E)c.get(F,B)&&R.setRegion(V,U,E,E);return R}}l.AbstractExpandedDecoder=pn,l.ArgumentException=v,l.ArithmeticException=Ui,l.AztecCode=hr,l.AztecCodeReader=tr,l.AztecCodeWriter=al,l.AztecDecoder=Pe,l.AztecDetector=Xr,l.AztecDetectorResult=bt,l.AztecEncoder=_t,l.AztecHighLevelEncoder=Ba,l.AztecPoint=Cn,l.BarcodeFormat=ye,l.Binarizer=G,l.BinaryBitmap=k,l.BitArray=q,l.BitMatrix=Je,l.BitSource=Si,l.BrowserAztecCodeReader=ve,l.BrowserBarcodeReader=Hu,l.BrowserCodeReader=Ae,l.BrowserDatamatrixCodeReader=Ml,l.BrowserMultiFormatReader=Ko,l.BrowserPDF417Reader=Gu,l.BrowserQRCodeReader=Vu,l.BrowserQRCodeSvgWriter=Ia,l.CharacterSetECI=te,l.ChecksumException=L,l.Code128Reader=de,l.Code39Reader=pt,l.DataMatrixDecodedBitStreamParser=ia,l.DataMatrixReader=aa,l.DecodeHintType=Ee,l.DecoderResult=It,l.DefaultGridSampler=Vr,l.DetectorResult=sn,l.EAN13Reader=Fi,l.EncodeHintType=_n,l.Exception=y,l.FormatException=Z,l.GenericGF=Me,l.GenericGFPoly=Qt,l.GlobalHistogramBinarizer=$,l.GridSampler=Un,l.GridSamplerInstance=ei,l.HTMLCanvasElementLuminanceSource=$e,l.HybridBinarizer=se,l.ITFReader=et,l.IllegalArgumentException=I,l.IllegalStateException=At,l.InvertedLuminanceSource=qe,l.LuminanceSource=ke,l.MathUtils=Ze,l.MultiFormatOneDReader=Ci,l.MultiFormatReader=qo,l.MultiFormatWriter=Yu,l.NotFoundException=Q,l.OneDReader=Ue,l.PDF417DecodedBitStreamParser=ae,l.PDF417DecoderErrorCorrection=la,l.PDF417Reader=Mn,l.PDF417ResultMetadata=ur,l.PerspectiveTransform=Wn,l.PlanarYUVLuminanceSource=ji,l.QRCodeByteMatrix=Fl,l.QRCodeDataMask=ai,l.QRCodeDecodedBitStreamParser=Xt,l.QRCodeDecoderErrorCorrectionLevel=ft,l.QRCodeDecoderFormatInformation=Sn,l.QRCodeEncoder=qt,l.QRCodeEncoderQRCode=Ra,l.QRCodeMaskUtil=nn,l.QRCodeMatrixUtil=Xe,l.QRCodeMode=He,l.QRCodeReader=ra,l.QRCodeVersion=ze,l.QRCodeWriter=fr,l.RGBLuminanceSource=Ls,l.RSS14Reader=Lt,l.RSSExpandedReader=ge,l.ReaderException=Ul,l.ReedSolomonDecoder=zn,l.ReedSolomonEncoder=$r,l.ReedSolomonException=ht,l.Result=Ce,l.ResultMetadataType=rt,l.ResultPoint=Re,l.StringUtils=Ne,l.UnsupportedOperationException=Oe,l.VideoInputDevice=P,l.WhiteRectangleDetector=We,l.WriterException=zt,l.ZXingArrays=me,l.ZXingCharset=Qo,l.ZXingInteger=X,l.ZXingStandardCharsets=el,l.ZXingStringBuilder=Qe,l.ZXingStringEncoding=Te,l.ZXingSystem=re,l.createAbstractExpandedDecoder=ir,Object.defineProperty(l,"__esModule",{value:!0})}))})(Co,Co.exports)),Co.exports}var on=hC();const dC=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Rm=(function(){function n(o,l,d){if(this.formatMap=new Map([[Be.QR_CODE,on.BarcodeFormat.QR_CODE],[Be.AZTEC,on.BarcodeFormat.AZTEC],[Be.CODABAR,on.BarcodeFormat.CODABAR],[Be.CODE_39,on.BarcodeFormat.CODE_39],[Be.CODE_93,on.BarcodeFormat.CODE_93],[Be.CODE_128,on.BarcodeFormat.CODE_128],[Be.DATA_MATRIX,on.BarcodeFormat.DATA_MATRIX],[Be.MAXICODE,on.BarcodeFormat.MAXICODE],[Be.ITF,on.BarcodeFormat.ITF],[Be.EAN_13,on.BarcodeFormat.EAN_13],[Be.EAN_8,on.BarcodeFormat.EAN_8],[Be.PDF_417,on.BarcodeFormat.PDF_417],[Be.RSS_14,on.BarcodeFormat.RSS_14],[Be.RSS_EXPANDED,on.BarcodeFormat.RSS_EXPANDED],[Be.UPC_A,on.BarcodeFormat.UPC_A],[Be.UPC_E,on.BarcodeFormat.UPC_E],[Be.UPC_EAN_EXTENSION,on.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!dC)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=d;var m=this.createZXingFormats(o),p=new Map;p.set(on.DecodeHintType.POSSIBLE_FORMATS,m),p.set(on.DecodeHintType.TRY_HARDER,!1),this.hints=p}return n.prototype.decodeAsync=function(o){var l=this;return new Promise(function(d,m){try{d(l.decode(o))}catch(p){m(p)}})},n.prototype.decode=function(o){var l=new on.MultiFormatReader(this.verbose,this.hints),d=new on.HTMLCanvasElementLuminanceSource(o),m=new on.BinaryBitmap(new on.HybridBinarizer(d)),p=l.decode(m);return{text:p.text,format:Rp.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,d,m){o.set(l,d)}),o},n.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},n.prototype.createZXingFormats=function(o){for(var l=[],d=0,m=o;d<m.length;d++){var p=m[d];this.formatMap.has(p)?l.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return l},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),gC=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function b(v){try{y(d.next(v))}catch(I){A(I)}}function S(v){try{y(d.throw(v))}catch(I){A(I)}}function y(v){v.done?p(v.value):m(v.value).then(b,S)}y((d=d.apply(n,o||[])).next())})},mC=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function b(y){return function(v){return S([y,v])}}function S(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(l=0)),l;)try{if(d=1,m&&(p=y[0]&2?m.return:y[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,y[1])).done)return p;switch(m=0,p&&(y=[y[0]&2,p.value]),y[0]){case 0:case 1:p=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!p||y[1]>p[0]&&y[1]<p[3])){l.label=y[1];break}if(y[0]===6&&l.label<p[1]){l.label=p[1],p=y;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(y);break}p[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(n,l)}catch(v){y=[6,v],m=0}finally{d=p=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Im=(function(){function n(o,l,d){if(this.formatMap=new Map([[Be.QR_CODE,"qr_code"],[Be.AZTEC,"aztec"],[Be.CODABAR,"codabar"],[Be.CODE_39,"code_39"],[Be.CODE_93,"code_93"],[Be.CODE_128,"code_128"],[Be.DATA_MATRIX,"data_matrix"],[Be.ITF,"itf"],[Be.EAN_13,"ean_13"],[Be.EAN_8,"ean_8"],[Be.PDF_417,"pdf417"],[Be.UPC_A,"upc_a"],[Be.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=d;var m=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var o=new BarcodeDetector({formats:["qr_code"]});return typeof o<"u"},n.prototype.decodeAsync=function(o){return gC(this,void 0,void 0,function(){var l,d;return mC(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(o)];case 1:if(l=m.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(l),[2,{text:d.rawValue,format:Rp.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(o){for(var l=null,d=0,m=0,p=o;m<p.length;m++){var A=p[m],b=A.boundingBox.width*A.boundingBox.height;b>d&&(d=b,l=A)}if(!l)throw"No largest barcode found";return l},n.prototype.createBarcodeDetectorFormats=function(o){for(var l=[],d=0,m=o;d<m.length;d++){var p=m[d];this.formatMap.has(p)?l.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},n.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},n.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,d,m){o.set(l,d)}),o},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),Dm=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function b(v){try{y(d.next(v))}catch(I){A(I)}}function S(v){try{y(d.throw(v))}catch(I){A(I)}}function y(v){v.done?p(v.value):m(v.value).then(b,S)}y((d=d.apply(n,o||[])).next())})},Mm=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function b(y){return function(v){return S([y,v])}}function S(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(l=0)),l;)try{if(d=1,m&&(p=y[0]&2?m.return:y[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,y[1])).done)return p;switch(m=0,p&&(y=[y[0]&2,p.value]),y[0]){case 0:case 1:p=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!p||y[1]>p[0]&&y[1]<p[3])){l.label=y[1];break}if(y[0]===6&&l.label<p[1]){l.label=p[1],p=y;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(y);break}p[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(n,l)}catch(v){y=[6,v],m=0}finally{d=p=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},xC=(function(){function n(o,l,d,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,l&&Im.isSupported()?(this.primaryDecoder=new Im(o,d,m),this.secondaryDecoder=new Rm(o,d,m)):this.primaryDecoder=new Rm(o,d,m)}return n.prototype.decodeAsync=function(o){return Dm(this,void 0,void 0,function(){var l;return Mm(this,function(d){switch(d.label){case 0:l=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(o)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(o){return Dm(this,void 0,void 0,function(){var l,d;return Mm(this,function(m){switch(m.label){case 0:l=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(o)];case 2:return[2,m.sent()];case 3:if(d=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(o)];throw d;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(o){if(this.verbose){var l=performance.now()-o;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,l=0,d=this.executionResults;l<d.length;l++){var m=d[l];o+=m}var p=o/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),X1=(function(){var n=function(o,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])},n(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");n(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}})(),Ou=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function b(v){try{y(d.next(v))}catch(I){A(I)}}function S(v){try{y(d.throw(v))}catch(I){A(I)}}function y(v){v.done?p(v.value):m(v.value).then(b,S)}y((d=d.apply(n,o||[])).next())})},Ru=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function b(y){return function(v){return S([y,v])}}function S(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(l=0)),l;)try{if(d=1,m&&(p=y[0]&2?m.return:y[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,y[1])).done)return p;switch(m=0,p&&(y=[y[0]&2,p.value]),y[0]){case 0:case 1:p=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!p||y[1]>p[0]&&y[1]<p[3])){l.label=y[1];break}if(y[0]===6&&l.label<p[1]){l.label=p[1],p=y;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(y);break}p[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(n,l)}catch(v){y=[6,v],m=0}finally{d=p=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},Dp=(function(){function n(o,l){this.name=o,this.track=l}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(o){var l={};l[this.name]=o;var d={advanced:[l]};return this.track.applyConstraints(d)},n.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var l=o[this.name];return l}return null},n})(),pC=(function(n){X1(o,n);function o(l,d){return n.call(this,l,d)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(l){var d={};d[this.name]=l;var m={advanced:[d]};return this.track.applyConstraints(m)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),d=l[this.name];return{min:d.min,max:d.max,step:d.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o})(Dp),wC=(function(n){X1(o,n);function o(l){return n.call(this,"zoom",l)||this}return o})(pC),_C=(function(n){X1(o,n);function o(l){return n.call(this,"torch",l)||this}return o})(Dp),yC=(function(){function n(o){this.track=o}return n.prototype.zoomFeature=function(){return new wC(this.track)},n.prototype.torchFeature=function(){return new _C(this.track)},n})(),EC=(function(){function n(o,l,d){this.isClosed=!1,this.parentElement=o,this.mediaStream=l,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),o.append(this.surface)}return n.prototype.createVideoElement=function(o){var l=document.createElement("video");return l.style.width="".concat(o,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},n.prototype.setupSurface=function(){var o=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var d=o.surface.clientWidth,m=o.surface.clientHeight;o.callbacks.onRenderSurfaceReady(d,m),o.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(o,l,d,m){return Ou(this,void 0,void 0,function(){var p,A;return Ru(this,function(b){switch(b.label){case 0:return p=new n(o,l,m),d.aspectRatio?(A={aspectRatio:d.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:b.sent(),b.label=2;case 2:return p.setupSurface(),[2,p]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(o){this.failIfClosed();var l=this,d=function(){setTimeout(o,200),l.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(o){return Ou(this,void 0,void 0,function(){return Ru(this,function(l){if("aspectRatio"in o)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(o)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var o=this;return new Promise(function(l,d){var m=o.mediaStream.getVideoTracks(),p=m.length,A=0;o.mediaStream.getVideoTracks().forEach(function(b){o.mediaStream.removeTrack(b),b.stop(),++A,A>=p&&(o.isClosed=!0,o.parentElement.removeChild(o.surface),l())})})},n.prototype.getCapabilities=function(){return new yC(this.getFirstTrackOrFail())},n})(),AC=(function(){function n(o){this.mediaStream=o}return n.prototype.render=function(o,l,d){return Ou(this,void 0,void 0,function(){return Ru(this,function(m){return[2,EC.create(o,this.mediaStream,l,d)]})})},n.create=function(o){return Ou(this,void 0,void 0,function(){var l,d;return Ru(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:o},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return d=m.sent(),[2,new n(d)]}})})},n})(),Bm=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function b(v){try{y(d.next(v))}catch(I){A(I)}}function S(v){try{y(d.throw(v))}catch(I){A(I)}}function y(v){v.done?p(v.value):m(v.value).then(b,S)}y((d=d.apply(n,o||[])).next())})},km=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function b(y){return function(v){return S([y,v])}}function S(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(l=0)),l;)try{if(d=1,m&&(p=y[0]&2?m.return:y[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,y[1])).done)return p;switch(m=0,p&&(y=[y[0]&2,p.value]),y[0]){case 0:case 1:p=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!p||y[1]>p[0]&&y[1]<p[3])){l.label=y[1];break}if(y[0]===6&&l.label<p[1]){l.label=p[1],p=y;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(y);break}p[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(n,l)}catch(v){y=[6,v],m=0}finally{d=p=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},bC=(function(){function n(){}return n.failIfNotSupported=function(){return Bm(this,void 0,void 0,function(){return km(this,function(o){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(o){return Bm(this,void 0,void 0,function(){return km(this,function(l){return[2,AC.create(o)]})})},n})(),CC=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function b(v){try{y(d.next(v))}catch(I){A(I)}}function S(v){try{y(d.throw(v))}catch(I){A(I)}}function y(v){v.done?p(v.value):m(v.value).then(b,S)}y((d=d.apply(n,o||[])).next())})},SC=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function b(y){return function(v){return S([y,v])}}function S(y){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,y[0]&&(l=0)),l;)try{if(d=1,m&&(p=y[0]&2?m.return:y[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,y[1])).done)return p;switch(m=0,p&&(y=[y[0]&2,p.value]),y[0]){case 0:case 1:p=y;break;case 4:return l.label++,{value:y[1],done:!1};case 5:l.label++,m=y[1],y=[0];continue;case 7:y=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(y[0]===6||y[0]===2)){l=0;continue}if(y[0]===3&&(!p||y[1]>p[0]&&y[1]<p[3])){l.label=y[1];break}if(y[0]===6&&l.label<p[1]){l.label=p[1],p=y;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(y);break}p[2]&&l.ops.pop(),l.trys.pop();continue}y=o.call(n,l)}catch(v){y=[6,v],m=0}finally{d=p=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},vC=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var o=MediaStreamTrack;return MediaStreamTrack&&o.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var o=ws.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(o=ws.insecureContextCameraQueryError()),Promise.reject(o)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var o=location.host.split(":")[0];return o==="127.0.0.1"||o==="localhost"},n.getCamerasFromMediaDevices=function(){return CC(this,void 0,void 0,function(){var o,l,d,m,p,A,b;return SC(this,function(S){switch(S.label){case 0:return o=function(y){for(var v=y.getVideoTracks(),I=0,k=v;I<k.length;I++){var L=k[I];L.enabled=!1,L.stop(),y.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=S.sent(),m=[],p=0,A=d;p<A.length;p++)b=A[p],b.kind==="videoinput"&&m.push({id:b.deviceId,label:b.label});return o(l),[2,m]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,l){var d=function(p){for(var A=[],b=0,S=p;b<S.length;b++){var y=S[b];y.kind==="video"&&A.push({id:y.id,label:y.label})}o(A)},m=MediaStreamTrack;m.getSources(d)})},n})(),xn;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(xn||(xn={}));var TC=(function(){function n(){this.state=xn.NOT_STARTED,this.onGoingTransactionNewState=xn.UNKNOWN}return n.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},n.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===xn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=xn.UNKNOWN,this.directTransition(o)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===xn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=xn.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==xn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(o){switch(this.state){case xn.UNKNOWN:throw"Transition from unknown is not allowed";case xn.NOT_STARTED:this.failIfNewStateIs(o,[xn.PAUSED]);break;case xn.SCANNING:break;case xn.PAUSED:break}},n.prototype.failIfNewStateIs=function(o,l){for(var d=0,m=l;d<m.length;d++){var p=m[d];if(o===p)throw"Cannot transition from ".concat(this.state," to ").concat(o)}},n})(),NC=(function(){function n(o){this.stateManager=o}return n.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},n.prototype.directTransition=function(o){this.stateManager.directTransition(o)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===xn.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==xn.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===xn.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===xn.PAUSED},n})(),OC=(function(){function n(){}return n.create=function(){return new NC(new TC)},n})(),RC=(function(){var n=function(o,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])},n(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");n(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}})(),ki=(function(n){RC(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o})(oC),IC=(function(){function n(o,l){this.logger=l,this.fps=ki.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=o.disableFlip===!0,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=ki.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ip.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Ja(this.qrbox)},n.create=function(o,l){return new n(o,l)},n})(),DC=(function(){function n(o,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.elementId=o,this.verbose=!1;var d;typeof l=="boolean"?this.verbose=l===!0:l&&(d=l,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new uC(this.verbose),this.qrcode=new xC(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=OC.create()}return n.prototype.start=function(o,l,d,m){var p=this;if(!o)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;m?A=m:A=this.verbose?this.logger.log:function(){};var b=IC.create(l,this.logger);this.clearElement();var S=!1;b.videoConstraints&&(b.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=S,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:ki.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var I=this,k=this.stateManagerProxy.startTransition(xn.SCANNING);return new Promise(function(L,G){var re=y?b.videoConstraints:I.createVideoConstraints(o);if(!re){k.cancel(),G("videoConstraints should be defined");return}var ue={};(!y||b.aspectRatio)&&(ue.aspectRatio=b.aspectRatio);var be={onRenderSurfaceReady:function(me,X){I.setupUi(me,X,b),I.isScanning=!0,I.foreverScan(b,d,A)}};bC.failIfNotSupported().then(function(me){me.create(re).then(function(X){return X.render(p.element,ue,be).then(function(q){I.renderedCamera=q,k.execute(),L(null)}).catch(function(q){k.cancel(),G(q)})}).catch(function(X){k.cancel(),G(ws.errorGettingUserMedia(X))})}).catch(function(me){k.cancel(),G(ws.cameraStreamingNotSupported())})})},n.prototype.pause=function(o){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(xn.PAUSED),this.showPausedState(),(Ja(o)||o!==!0)&&(o=!1),o&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var o=this,l=function(){o.stateManagerProxy.directTransition(xn.SCANNING),o.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(xn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(o.element){var p=document.getElementById(ki.SHADED_REGION_ELEMENT_ID);p&&o.element.removeChild(p)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),d(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),l.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(o,l){return this.scanFileV2(o,l).then(function(d){return d.decodedText})},n.prototype.scanFileV2=function(o,l){var d=this;if(!o||!(o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ja(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,p){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(o);var A=new Image;A.onload=function(){var b=A.width,S=A.height,y=document.getElementById(d.elementId),v=y.clientWidth?y.clientWidth:ki.DEFAULT_WIDTH,I=Math.max(y.clientHeight?y.clientHeight:S,ki.FILE_SCAN_MIN_HEIGHT),k=d.computeCanvasDrawConfig(b,S,v,I);if(l){var L=d.createCanvasElement(v,I,"qr-canvas-visible");L.style.display="inline-block",y.appendChild(L);var G=L.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=v,G.canvas.height=I,G.drawImage(A,0,0,b,S,k.x,k.y,k.width,k.height)}var re=ki.FILE_SCAN_HIDDEN_CANVAS_PADDING,ue=Math.max(A.width,k.width),be=Math.max(A.height,k.height),me=ue+2*re,X=be+2*re,q=d.createCanvasElement(me,X);y.appendChild(q);var Se=q.getContext("2d");if(!Se)throw"Unable to get 2d context from canvas";Se.canvas.width=me,Se.canvas.height=X,Se.drawImage(A,0,0,b,S,re,re,ue,be);try{d.qrcode.decodeRobustlyAsync(q).then(function(Ee){m(Nm.createFromQrcodeResult(Ee))}).catch(p)}catch(Ee){p("QR code parse error, error = ".concat(Ee))}},A.onerror=p,A.onabort=p,A.onstalled=p,A.onsuspend=p,A.src=URL.createObjectURL(o)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return vC.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(o){if(o){if(!Ip.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(o)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(o){var l=[Be.QR_CODE,Be.AZTEC,Be.CODABAR,Be.CODE_39,Be.CODE_93,Be.CODE_128,Be.DATA_MATRIX,Be.MAXICODE,Be.ITF,Be.EAN_13,Be.EAN_8,Be.PDF_417,Be.RSS_14,Be.RSS_EXPANDED,Be.UPC_A,Be.UPC_E,Be.UPC_EAN_EXTENSION];if(!o||typeof o=="boolean"||!o.formatsToSupport)return l;if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(o.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],m=0,p=o.formatsToSupport;m<p.length;m++){var A=p[m];sC(A)?d.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},n.prototype.getUseBarCodeDetectorIfSupported=function(o){if(Ja(o))return!0;if(!Ja(o.useBarCodeDetectorIfSupported))return o.useBarCodeDetectorIfSupported!==!1;if(Ja(o.experimentalFeatures))return!0;var l=o.experimentalFeatures;return Ja(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(o,l,d){var m=this,p=d.qrbox;this.validateQrboxConfig(p);var A=this.toQrdimensions(o,l,p),b=function(y){if(y<ki.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ki.MIN_QR_BOX_SIZE,"px.")},S=function(y){return y>o&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=o),y};b(A.width),b(A.height),A.width=S(A.width)},n.prototype.validateQrboxConfig=function(o){if(typeof o!="number"&&typeof o!="function"&&(o.width===void 0||o.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(o,l,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(o,l)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return d},n.prototype.setupUi=function(o,l,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(o,l,d);var m=Ja(d.qrbox)?{width:o,height:l}:d.qrbox;this.validateQrboxConfig(m);var p=this.toQrdimensions(o,l,m);p.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=d.isShadedBoxEnabled()&&p.height<=l,b={x:0,y:0,width:o,height:l},S=A?this.getShadedRegionBounds(o,l,p):b,y=this.createCanvasElement(S.width,S.height),v={willReadFrequently:!0},I=y.getContext("2d",v);I.canvas.width=S.width,I.canvas.height=S.height,this.element.append(y),A&&this.possiblyInsertShadingElement(this.element,o,l,p),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=I,this.canvasElement=y},n.prototype.createScannerPausedUiElement=function(o){var l=document.createElement("div");l.innerText=ws.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",o.appendChild(l),this.scannerPausedUiElement=l},n.prototype.scanContext=function(o,l){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return o(m.text,Nm.createFromQrcodeResult(m)),d.possiblyUpdateShaders(!0),!0}).catch(function(m){d.possiblyUpdateShaders(!1);var p=ws.codeParseError(m);return l(p,cC.createFrom(p)),!1})},n.prototype.foreverScan=function(o,l,d){var m=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),A=p.videoWidth/p.clientWidth,b=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*A,y=this.qrRegion.height*b,v=this.qrRegion.x*A,I=this.qrRegion.y*b;this.context.drawImage(p,v,I,S,y,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(o,l,d)},m.getTimeoutFps(o.fps))};this.scanContext(l,d).then(function(L){!L&&o.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(l,d).finally(function(){k()})):k()}).catch(function(L){m.logger.logError("Error happend while scanning context",L),k()})}},n.prototype.createVideoConstraints=function(o){if(typeof o=="string")return{deviceId:{exact:o}};if(typeof o=="object"){var l="facingMode",d="deviceId",m={user:!0,environment:!0},p="exact",A=function(G){if(G in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(G,"'")},b=Object.keys(o);if(b.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(b.length," keys");var S=Object.keys(o)[0];if(S!==l&&S!==d)throw"Only '".concat(l,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(S===l){var y=o.facingMode;if(typeof y=="string"){if(A(y))return{facingMode:y}}else if(typeof y=="object")if(p in y){if(A(y["".concat(p)]))return{facingMode:{exact:y["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var v=typeof y;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var I=o.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(p in I)return{deviceId:{exact:I["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var k=typeof I;throw"Invalid type of 'deviceId' = ".concat(k)}}}var L=typeof o;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},n.prototype.computeCanvasDrawConfig=function(o,l,d,m){if(o<=d&&l<=m){var p=(d-o)/2,A=(m-l)/2;return{x:p,y:A,width:o,height:l}}else{var b=o,S=l;return o>d&&(l=d/o*l,o=d),l>m&&(o=m/l*o,l=m),this.logger.log("Image downsampled from "+"".concat(b,"X").concat(S)+" to ".concat(o,"X").concat(l,".")),this.computeCanvasDrawConfig(o,l,d,m)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},n.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=o?ki.BORDER_SHADER_MATCH_COLOR:ki.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(o,l,d){var m=o,p=l,A=document.createElement("canvas");return A.style.width="".concat(m,"px"),A.style.height="".concat(p,"px"),A.style.display="none",A.id=Ja(d)?"qr-canvas":d,A},n.prototype.getShadedRegionBounds=function(o,l,d){if(d.width>o||d.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-d.width)/2,y:(l-d.height)/2,width:d.width,height:d.height}},n.prototype.possiblyInsertShadingElement=function(o,l,d,m){if(!(l-m.width<1||d-m.height<1)){var p=document.createElement("div");p.style.position="absolute";var A=(l-m.width)/2,b=(d-m.height)/2;if(p.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(ki.SHADED_REGION_ELEMENT_ID),l-m.width<11||d-m.height<11)this.hasBorderShaders=!1;else{var S=5,y=40;this.insertShaderBorders(p,y,S,-S,null,0,!0),this.insertShaderBorders(p,y,S,-S,null,0,!1),this.insertShaderBorders(p,y,S,null,-S,0,!0),this.insertShaderBorders(p,y,S,null,-S,0,!1),this.insertShaderBorders(p,S,y+S,-S,null,-S,!0),this.insertShaderBorders(p,S,y+S,null,-S,-S,!0),this.insertShaderBorders(p,S,y+S,-S,null,-S,!1),this.insertShaderBorders(p,S,y+S,null,-S,-S,!1),this.hasBorderShaders=!0}o.append(p)}},n.prototype.insertShaderBorders=function(o,l,d,m,p,A,b){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=ki.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(l,"px"),S.style.height="".concat(d,"px"),m!==null&&(S.style.top="".concat(m,"px")),p!==null&&(S.style.bottom="".concat(p,"px")),b?S.style.left="".concat(A,"px"):S.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),o.appendChild(S)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(o){return 1e3/o},n})(),Lm;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Lm||(Lm={}));function zm({onDecoded:n}){const[o,l]=Ie.useState(!1),[d,m]=Ie.useState("Scanner is idle."),p=Ie.useMemo(()=>`qr-reader-${Math.random().toString(36).slice(2,8)}`,[]),A=Ie.useRef(null),b=async()=>{if(!A.current){l(!1);return}try{await A.current.stop(),await A.current.clear()}catch{}finally{A.current=null,l(!1),m("Scanner stopped.")}},S=async()=>{if(o)return;const y=new DC(p);A.current=y;try{l(!0),m("Starting camera..."),await y.start({facingMode:"environment"},{fps:10,qrbox:{width:240,height:240}},async v=>{n(v),m("QR chunk captured."),await b()},()=>{}),m("Point the camera at a packet QR.")}catch(v){m(v instanceof Error?`Could not start scanner: ${v.message}`:"Could not start scanner."),await b()}};return ne.jsxs("section",{className:"panel",children:[ne.jsx("h3",{children:"Scan Packet QR"}),ne.jsx("p",{className:"muted",children:"Scan one chunk at a time. Repeat until all chunks are captured."}),ne.jsxs("div",{className:"button-row",children:[ne.jsx("button",{type:"button",onClick:S,disabled:o,children:"Start Scanner"}),ne.jsx("button",{type:"button",onClick:()=>{b()},disabled:!o,children:"Stop Scanner"})]}),ne.jsx("p",{className:"muted",children:d}),ne.jsx("div",{id:p,className:"qr-reader-box"})]})}const MC=900*1e3;class BC{localEvents=[];remoteEvents=[];addLocalEvent(o){this.localEvents.push(o),this.pruneOldEntries()}addRemoteEvent(o){this.remoteEvents.push(o),this.pruneOldEntries()}getMergedEvents(){return[...this.localEvents,...this.remoteEvents].sort((o,l)=>o.timestamp-l.timestamp)}exportMergedJson(){return JSON.stringify({exportedAt:Date.now(),localCount:this.localEvents.length,remoteCount:this.remoteEvents.length,events:this.getMergedEvents()},null,2)}pruneOldEntries(){const o=Date.now()-MC;for(;this.localEvents.length>0&&this.localEvents[0].timestamp<o;)this.localEvents.shift();for(;this.remoteEvents.length>0&&this.remoteEvents[0].timestamp<o;)this.remoteEvents.shift()}}const du=[$n.HD_1080,$n.HD_720,$n.SD_480],kC=5,LC=220,zC=30,UC=2,FC=130,PC=16;class HC{qualityState=$n.HD_1080;stableSampleCount=0;get state(){return this.qualityState}evaluate(o){if(o.packetLossPct>=kC||o.rttMs>=LC||o.jitterMs>=zC){this.stableSampleCount=0;const p=du.indexOf(this.qualityState);return p<du.length-1?(this.qualityState=du[p+1],{nextState:this.qualityState,changed:!0}):{nextState:this.qualityState,changed:!1}}return o.packetLossPct<=UC&&o.rttMs<=FC&&o.jitterMs<=PC?(this.stableSampleCount+=1,this.stableSampleCount<8?{nextState:this.qualityState,changed:!1}:(this.stableSampleCount=0,du.indexOf(this.qualityState)>0?(this.qualityState=$n.RECOVERING,{nextState:this.qualityState,changed:!0}):{nextState:this.qualityState,changed:!1})):(this.stableSampleCount=0,{nextState:this.qualityState,changed:!1})}completeRecovery(){return this.qualityState!==$n.RECOVERING?{nextState:this.qualityState,changed:!1}:{nextState:$n.HD_1080,changed:!0}}forceState(o){const l=this.qualityState!==o;return this.qualityState=o,this.stableSampleCount=0,{nextState:this.qualityState,changed:l}}}const ZC={[$n.HD_1080]:{width:1920,height:1080,maxBitrate:35e5},[$n.HD_720]:{width:1280,height:720,maxBitrate:2e6},[$n.SD_480]:{width:854,height:480,maxBitrate:9e5}},r1=16e3,jC=500,GC=250;function Ca(n,o=0){return typeof n=="number"&&Number.isFinite(n)?n:o}const VC=1e3,XC=25e3,YC=1500,qC=250,l1=[$n.SD_480,$n.HD_720,$n.HD_1080];function KC(n){return n!==$n.RECOVERING}function Um(){return crypto.randomUUID()}function Fm(){return`web:${(navigator.userAgent||"unknown-user-agent").slice(0,120)}`}function Pm(n){try{return JSON.parse(n)}catch{return null}}class Uo{peerConnection;callbacks;localStream;remoteStream=new MediaStream;role;qualityController=new HC;diagnosticsLog=new BC;localIceCandidates=[];sessionId=Um();activeQuality=$n.HD_1080;chatChannel=null;diagChannel=null;statsTimer=null;connectWatchdog=null;previousOutboundBytes=0;previousStatsTimestampMs=0;lastChatSentAt=0;constructor({role:o,localStream:l,callbacks:d}){this.role=o,this.localStream=l,this.callbacks=d,this.peerConnection=new RTCPeerConnection({iceServers:[]}),this.attachCoreHandlers(),this.attachLocalMediaTracks(),o==="host"?this.initializeHostDataChannels():this.initializeJoinerDataChannels()}static createHost(o,l){return new Uo({role:"host",localStream:o,callbacks:l})}static createJoiner(o,l){return new Uo({role:"joiner",localStream:o,callbacks:l})}getDiagnosticsJson(){return this.diagnosticsLog.exportMergedJson()}getCurrentQualityState(){return this.activeQuality}getConnectionState(){return this.peerConnection.connectionState}async createOfferPayload(){this.localIceCandidates.length=0;const o=await this.peerConnection.createOffer();return await this.peerConnection.setLocalDescription(o),await this.waitForIceGatheringComplete(),this.startConnectWatchdog(),{sessionId:this.sessionId,sdpOffer:this.peerConnection.localDescription?.sdp??"",iceCandidates:[...this.localIceCandidates],mediaTarget:"1080p30",clientInfo:Fm()}}async acceptOfferAndCreateAnswer(o){this.sessionId=o.sessionId,await this.peerConnection.setRemoteDescription({type:"offer",sdp:o.sdpOffer});for(const d of o.iceCandidates)try{await this.peerConnection.addIceCandidate(d)}catch{}this.localIceCandidates.length=0;const l=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(l),await this.waitForIceGatheringComplete(),this.startConnectWatchdog(),{sessionId:o.sessionId,sdpAnswer:this.peerConnection.localDescription?.sdp??"",iceCandidates:[...this.localIceCandidates],acceptedMediaTarget:"1080p30",clientInfo:Fm()}}async applyAnswer(o){if(o.sessionId!==this.sessionId)throw new Error("The answer packet is for a different session.");await this.peerConnection.setRemoteDescription({type:"answer",sdp:o.sdpAnswer});for(const l of o.iceCandidates)try{await this.peerConnection.addIceCandidate(l)}catch{}}sendChatMessage(o){const l=Date.now();if(l-this.lastChatSentAt<GC)throw new Error("Please wait a moment before sending another message.");const d=this.sanitizeChatText(o);if(!d)throw new Error("Message is empty after security filtering.");const m={id:Um(),text:d,timestamp:l};this.lastChatSentAt=l,this.sendDataMessage("chat",m);const p={id:m.id,from:"local",text:d,timestamp:m.timestamp};return this.callbacks.onChatMessage?.(p),p}toggleMicrophoneEnabled(o){for(const l of this.localStream.getAudioTracks())l.enabled=o;this.sendControlState()}toggleCameraEnabled(o){for(const l of this.localStream.getVideoTracks())l.enabled=o;this.sendControlState()}isMicrophoneEnabled(){const o=this.localStream.getAudioTracks()[0];return o?o.enabled:!1}isCameraEnabled(){const o=this.localStream.getVideoTracks()[0];return o?o.enabled:!1}close(){this.statsTimer!==null&&(clearInterval(this.statsTimer),this.statsTimer=null),this.connectWatchdog!==null&&(clearTimeout(this.connectWatchdog),this.connectWatchdog=null),this.chatChannel?.close(),this.diagChannel?.close(),this.peerConnection.close()}attachCoreHandlers(){this.peerConnection.onicecandidate=o=>{o.candidate&&this.localIceCandidates.push(o.candidate.toJSON())},this.peerConnection.ontrack=o=>{const[l]=o.streams;if(l)for(const d of l.getTracks())this.remoteStream.addTrack(d);else this.remoteStream.addTrack(o.track);this.callbacks.onRemoteStream?.(this.remoteStream)},this.peerConnection.onconnectionstatechange=()=>{const o=this.peerConnection.connectionState;this.callbacks.onConnectionStateChange?.(o),o==="connected"&&(this.clearConnectWatchdog(),this.startStatsLoop()),o==="failed"&&this.callbacks.onFailure?.(yi.NAT_BLOCKED,"Direct peer path failed. This network pair likely blocks direct connection.")}}attachLocalMediaTracks(){for(const o of this.localStream.getTracks())this.peerConnection.addTrack(o,this.localStream)}initializeHostDataChannels(){this.chatChannel=this.peerConnection.createDataChannel("chat",{ordered:!0}),this.bindChatChannel(this.chatChannel),this.diagChannel=this.peerConnection.createDataChannel("diag",{ordered:!0}),this.bindDiagChannel(this.diagChannel)}initializeJoinerDataChannels(){this.peerConnection.ondatachannel=o=>{if(o.channel.label==="chat"){this.chatChannel=o.channel,this.bindChatChannel(o.channel);return}o.channel.label==="diag"&&(this.diagChannel=o.channel,this.bindDiagChannel(o.channel))}}bindChatChannel(o){o.onmessage=l=>{if(typeof l.data!="string"||l.data.length>r1)return;const d=Pm(l.data);if(!d||typeof d!="object"||!("type"in d)||!("payload"in d))return;const m=d;if(m.type==="chat"&&typeof m.payload=="object"&&m.payload){const p=m.payload,A=this.sanitizeChatText(p.text);if(!A)return;this.callbacks.onChatMessage?.({id:p.id,from:"remote",text:A,timestamp:p.timestamp});return}if(m.type==="control"&&typeof m.payload=="object"&&m.payload){const p=m.payload;typeof p.audioEnabled=="boolean"&&typeof p.videoEnabled=="boolean"&&typeof p.timestamp=="number"&&this.callbacks.onRemoteMediaState?.({audioEnabled:p.audioEnabled,videoEnabled:p.videoEnabled,timestamp:p.timestamp})}}}bindDiagChannel(o){o.onmessage=l=>{if(typeof l.data!="string"||l.data.length>r1)return;const d=Pm(l.data);if(!d||typeof d!="object"||!("type"in d)||!("payload"in d))return;const m=d;if(m.type==="diag"&&typeof m.payload=="object"&&m.payload){const p=this.safeDiagEvent(m.payload);p&&this.diagnosticsLog.addRemoteEvent(p)}}}sendControlState(){this.sendDataMessage("control",{audioEnabled:this.isMicrophoneEnabled(),videoEnabled:this.isCameraEnabled(),timestamp:Date.now()})}sendDataMessage(o,l){const d=o==="diag"?this.diagChannel:this.chatChannel;if(!d||d.readyState!=="open")return;const m=JSON.stringify({type:o,payload:l});m.length>r1||d.send(m)}sanitizeChatText(o){return o.replace(/[\p{Cc}]/gu," ").replace(/\s+/gu," ").trim().slice(0,jC)}safeDiagEvent(o){const l=o;return typeof l!="object"||l===null||typeof l.timestamp!="number"||typeof l.peerId!="string"||typeof l.rttMs!="number"||typeof l.jitterMs!="number"||typeof l.packetLossPct!="number"||typeof l.bitrateKbps!="number"||typeof l.frameWidth!="number"||typeof l.frameHeight!="number"||typeof l.fps!="number"||typeof l.audioLevel!="number"||typeof l.eventType!="string"||typeof l.message!="string"||l.peerId.length>32||l.eventType.length>64||l.message.length>512?null:{timestamp:l.timestamp,peerId:l.peerId,rttMs:l.rttMs,jitterMs:l.jitterMs,packetLossPct:l.packetLossPct,bitrateKbps:l.bitrateKbps,frameWidth:l.frameWidth,frameHeight:l.frameHeight,fps:l.fps,audioLevel:l.audioLevel,eventType:l.eventType,message:l.message}}startStatsLoop(){this.statsTimer===null&&(this.applyQualityProfile(this.activeQuality),this.statsTimer=window.setInterval(()=>{this.collectAndBroadcastStats()},VC))}async collectAndBroadcastStats(){const o=await this.collectStatsSample(),l={timestamp:Date.now(),peerId:this.role,rttMs:o.rttMs,jitterMs:o.jitterMs,packetLossPct:o.packetLossPct,bitrateKbps:o.bitrateKbps,frameWidth:o.frameWidth,frameHeight:o.frameHeight,fps:o.fps,audioLevel:o.audioLevel,eventType:"stats",message:"Periodic call-quality sample"};this.diagnosticsLog.addLocalEvent(l),this.sendDataMessage("diag",l);const d={rttMs:o.rttMs,jitterMs:o.jitterMs,packetLossPct:o.packetLossPct},m=this.qualityController.evaluate(d);if(m.changed){if(m.nextState===$n.RECOVERING){const p=l1.indexOf(this.activeQuality),A=Math.min(l1.length-1,p+1);this.activeQuality=l1[A],this.qualityController.forceState(this.activeQuality)}else KC(m.nextState)&&(this.activeQuality=m.nextState);await this.applyQualityProfile(this.activeQuality)}this.callbacks.onStats?.({...o,connectionState:this.peerConnection.connectionState,qualityState:this.activeQuality})}async collectStatsSample(){const o=await this.peerConnection.getStats();let l=null,d=null,m=null,p=null,A=null;o.forEach(Z=>{const we=Z,te=we.type,Oe=we.kind,Te=we.isRemote,Ne=we.state,Qe=we.nominated;te==="outbound-rtp"&&Oe==="video"&&Te!==!0&&(l=we),te==="remote-inbound-rtp"&&Oe==="video"&&(d=we),te==="inbound-rtp"&&Oe==="audio"&&Te!==!0&&(m=we),te==="candidate-pair"&&Ne==="succeeded"&&Qe===!0&&(p=we),te==="media-source"&&Oe==="audio"&&(A=we)});const b=Date.now(),S=Ca(l?.bytesSent),y=Math.max(0,S-this.previousOutboundBytes),v=Math.max(1,b-this.previousStatsTimestampMs),I=Math.round(y*8/v);this.previousOutboundBytes=S,this.previousStatsTimestampMs=b;const k=Ca(d?.packetsLost),L=Ca(d?.packetsReceived),G=k+L>0?k/(k+L)*100:0,re=Ca(d?.roundTripTime)*1e3,ue=Ca(p?.currentRoundTripTime)*1e3,be=Math.round(Math.max(re,ue)),me=Math.round(Ca(m?.jitter)*1e3),X=Math.round(Ca(l?.frameWidth)),q=Math.round(Ca(l?.frameHeight)),Se=Math.round(Ca(l?.framesPerSecond)),Ee=Math.round(Ca(A?.audioLevel)*1e3)/1e3;return{rttMs:be,jitterMs:me,packetLossPct:Math.round(G*100)/100,bitrateKbps:I,frameWidth:X,frameHeight:q,fps:Se,audioLevel:Ee}}async applyQualityProfile(o){const l=ZC[o];if(!l)return;const d=this.peerConnection.getSenders().find(S=>S.track?.kind==="video");if(!d)return;const m=d.getParameters(),p=m.encodings?.[0]??{},A={...m,encodings:[{...p,maxBitrate:l.maxBitrate}]};try{await d.setParameters(A)}catch{}const b=this.localStream.getVideoTracks()[0];if(!(!b||!b.applyConstraints))try{await b.applyConstraints({width:{ideal:l.width,max:1920},height:{ideal:l.height,max:1080},frameRate:{ideal:30,max:30}})}catch{}}startConnectWatchdog(){this.clearConnectWatchdog(),this.connectWatchdog=window.setTimeout(()=>{this.peerConnection.connectionState!=="connected"&&this.callbacks.onFailure?.(yi.CONNECTION_TIMEOUT,"Connection timed out. Please regenerate packets and retry.")},XC)}clearConnectWatchdog(){this.connectWatchdog!==null&&(clearTimeout(this.connectWatchdog),this.connectWatchdog=null)}waitForIceGatheringComplete(o=YC){return this.peerConnection.iceGatheringState==="complete"?Promise.resolve():new Promise(l=>{let d=null,m=!1;const p=()=>{m||(m=!0,v(),l())},A=window.setTimeout(p,o),b=()=>{d!==null&&clearTimeout(d),d=window.setTimeout(p,qC)},S=()=>{this.peerConnection.iceGatheringState==="complete"&&p()},y=I=>{if(!I.candidate){p();return}b()},v=()=>{clearTimeout(A),d!==null&&(clearTimeout(d),d=null),this.peerConnection.removeEventListener("icegatheringstatechange",S),this.peerConnection.removeEventListener("icecandidate",y)};this.peerConnection.addEventListener("icegatheringstatechange",S),this.peerConnection.addEventListener("icecandidate",y),b()})}}const Hm={audioEnabled:!0,videoEnabled:!0,timestamp:0},QC=/^[a-zA-Z0-9_-]{4,48}$/u,WC=14,Zm=2e5,jm=5,JC=6e4,$C=500;function Gm(n,o){const l=o.trim();if(!l)return n;const d=n.split(`
`).map(m=>m.trim()).filter(m=>m.length>0);return d.includes(l)?n:[...d,l].join(`
`)}function eS(n){return n instanceof Error&&n.message===yi.DEVICE_DENIED?{code:yi.DEVICE_DENIED,message:"Camera or microphone access was blocked. Please allow access and retry."}:n instanceof Error&&n.message===yi.MEDIA_UNSUPPORTED?{code:yi.MEDIA_UNSUPPORTED,message:"This browser cannot start media capture for this call."}:{code:"UNKNOWN",message:n instanceof Error?n.message:"Unknown error."}}function tS(n,o){if(!n.trim()||!o.trim())return{code:"MISSING_CREDENTIALS",message:"Room code and passphrase are both required."};const l=n.trim();if(!QC.test(l))return{code:"ROOM_CODE_INVALID",message:"Room code must be 4-48 characters using letters, numbers, - or _."};const d=o.trim(),m=/[A-Z]/u.test(d),p=/[a-z]/u.test(d),A=/[0-9]/u.test(d),b=/[^A-Za-z0-9]/u.test(d);return d.length<WC||!m||!p||!A||!b?{code:"PASSPHRASE_WEAK",message:"Passphrase must be at least 14 characters and include uppercase, lowercase, number, and symbol."}:null}function nS(n){switch(n){case"new":return"New";case"connecting":return"Connecting";case"connected":return"Connected";case"disconnected":return"Disconnected";case"failed":return"Failed";case"closed":return"Closed";default:return n}}function iS(){const[n,o]=Ie.useState("host"),[l,d]=Ie.useState(""),[m,p]=Ie.useState(""),[A,b]=Ie.useState("Enter room code and passphrase, then start as host or joiner."),[S,y]=Ie.useState(null),[v,I]=Ie.useState(""),[k,L]=Ie.useState(""),[G,re]=Ie.useState(""),[ue,be]=Ie.useState(""),[me,X]=Ie.useState([]),[q,Se]=Ie.useState(""),[Ee,Z]=Ie.useState(null),[we,te]=Ie.useState(!1),[Oe,Te]=Ie.useState(null),[Ne,Qe]=Ie.useState(null),[Je,Q]=Ie.useState(Hm),[$,se]=Ie.useState("new"),[ke,qe]=Ie.useState(!0),[$e,P]=Ie.useState(!0),[J,Ae]=Ie.useState(null),[Ce,Ye]=Ie.useState(0),[ye,ct]=Ie.useState(0),[rt,It]=Ie.useState(()=>C1(window.location.hash)),Zn=Ie.useRef(null),Qt=Ie.useRef(null),Ui=Ie.useMemo(()=>Ee?Ee.qualityState:null,[Ee]);Ie.useEffect(()=>{Zn.current&&(Zn.current.srcObject=Oe)},[Oe]),Ie.useEffect(()=>{Qt.current&&(Qt.current.srcObject=Ne)},[Ne]),Ie.useEffect(()=>()=>{J?.close(),Oe?.getTracks().forEach(ve=>ve.stop())},[J,Oe]),Ie.useEffect(()=>{const ve=()=>{It(C1(window.location.hash))};return window.addEventListener("hashchange",ve),window.location.hash?ve():window.location.hash=pu(),()=>{window.removeEventListener("hashchange",ve)}},[]);const Me=()=>{I(""),L(""),re(""),be(""),X([]),Z(null),Qe(null),Q(Hm),se("new"),qe(!0),P(!0)},ht=ve=>{Ae(ve),se(ve.getConnectionState())},At=()=>({onRemoteStream:ve=>{Qe(ve)},onChatMessage:ve=>{X(Ue=>[...Ue,ve])},onStats:ve=>{Z(ve)},onFailure:(ve,Ue)=>{y({code:ve,message:Ue}),b(Ue)},onConnectionStateChange:ve=>{se(ve),ve==="connected"&&b("Call connected.")},onRemoteMediaState:ve=>{Q(ve)}}),zn=()=>{const ve=tS(l,m);return ve?(y(ve),!1):!0},lt=()=>{if(Date.now()<ye){const ve=Math.ceil((ye-Date.now())/1e3);return y({code:"SECURITY_COOLDOWN",message:`Too many failed packet unlock attempts. Wait ${ve}s and try again.`}),!1}return!0},Pe=()=>{Ye(0),ct(0)},Ze=ve=>{ve===yi.PASS_PHRASE_MISMATCH&&Ye(Ue=>{const de=Ue+1;return de>=jm?(ct(Date.now()+JC),0):de})},Ai=async()=>{if(Oe)return Oe;try{const ve=await Np();return Te(ve),ve}catch(ve){const Ue=eS(ve);throw y(Ue),ve}},Re=()=>{J&&(J.close(),Ae(null))},sn=async()=>{if(zn()){te(!0),y(null),b("Preparing host offer packet...");try{Re(),Me();const ve=await Ai(),Ue=Uo.createHost(ve,At());ht(Ue);const de=await Ue.createOfferPayload(),pt=await mm({payload:de,passphrase:m.trim(),roomCode:l.trim(),type:"offer",senderRole:"host"}),et=xm(pt);I(et),b("Invite packet is ready. Share it with your peer.")}catch(ve){const Ue=a1(ve);y({code:Ue.code,message:Ue.message}),b(Ue.message)}finally{te(!1)}}},bt=async()=>{if(!zn()||!lt())return;const ve=k;if(ve.length>Zm){y({code:"PACKET_TOO_LARGE",message:"Packet input is too large and was blocked for safety."});return}te(!0),y(null),b("Reading host packet and creating answer...");try{const Ue=pm(ve),de=await z4({envelope:Ue,roomCode:l.trim(),passphrase:m.trim()});Re(),Me();const pt=await Ai(),et=Uo.createJoiner(pt,At());ht(et);const Wt=await et.acceptOfferAndCreateAnswer(de),Na=await mm({payload:Wt,passphrase:m.trim(),roomCode:l.trim(),type:"answer",senderRole:"joiner"}),Yr=xm(Na);re(Yr),L(""),Pe(),b("Answer packet is ready. Share it back to the host.")}catch(Ue){const de=a1(Ue);Ze(de.code),y({code:de.code,message:de.message}),b(de.message)}finally{te(!1)}},We=async()=>{if(!J){y({code:"HOST_NOT_READY",message:"Start host mode first so there is an active session."});return}if(lt()){if(ue.length>Zm){y({code:"PACKET_TOO_LARGE",message:"Packet input is too large and was blocked for safety."});return}te(!0),y(null),b("Applying answer packet and connecting...");try{const ve=pm(ue),Ue=await U4({envelope:ve,roomCode:l.trim(),passphrase:m.trim()});await J.applyAnswer(Ue),be(""),Pe(),b("Answer accepted. Waiting for peer connection...")}catch(ve){const Ue=a1(ve);Ze(Ue.code),y({code:Ue.code,message:Ue.message}),b(Ue.message)}finally{te(!1)}}},Un=ve=>{if(ve.preventDefault(),!(!J||!q.trim()))try{J.sendChatMessage(q.trim()),Se("")}catch(Ue){y({code:"CHAT_BLOCKED",message:Ue instanceof Error?Ue.message:"Chat message was blocked."})}},Wn=()=>{if(!J)return;const ve=!ke;J.toggleMicrophoneEnabled(ve),qe(J.isMicrophoneEnabled())},Vr=()=>{if(!J)return;const ve=!$e;J.toggleCameraEnabled(ve),P(J.isCameraEnabled())},ei=()=>{if(!J)return;const ve=J.getDiagnosticsJson(),Ue=new Blob([ve],{type:"application/json"}),de=URL.createObjectURL(Ue),pt=document.createElement("a");pt.href=de,pt.download=`call-diagnostics-${Date.now()}.json`,pt.click(),URL.revokeObjectURL(de)},Cn=ve=>{o(ve),b(`Switched to ${ve} mode.`),y(null)},Xr=()=>{const ve=rt.mode==="quick"?rt.roomId:null;window.location.hash=pu(ve)},tr=ve=>{window.location.hash=pu(ve)};return rt.mode==="quick"?ne.jsxs("main",{className:"app-shell",children:[ne.jsxs("header",{className:"hero meet-hero",children:[ne.jsx("h1",{children:"Meet-Style 1:1 Video Calling"}),ne.jsx("p",{children:"Start a secure link call in one click. No login required."})]}),ne.jsx(lC,{roomId:rt.roomId,onRoomChange:tr})]}):ne.jsxs("main",{className:"app-shell",children:[ne.jsxs("header",{className:"hero",children:[ne.jsx("h1",{children:"Direct P2P Video Calling"}),ne.jsx("p",{children:"Torrent-style manual connection. No signaling server, no relay server, no call backend."}),ne.jsxs("div",{className:"button-row mode-switch-row",children:[ne.jsx("button",{type:"button",className:"mode-pill active",children:"Advanced Packet Mode"}),ne.jsx("button",{type:"button",className:"mode-pill",onClick:Xr,children:"Simple Link Mode"})]})]}),ne.jsxs("section",{className:"panel",children:[ne.jsx("h2",{children:"Session Setup"}),ne.jsxs("div",{className:"grid two",children:[ne.jsxs("label",{children:["Room Code",ne.jsx("input",{value:l,onChange:ve=>d(ve.target.value),placeholder:"example: room-7391",autoComplete:"off"})]}),ne.jsxs("label",{children:["Passphrase",ne.jsx("input",{type:"password",value:m,onChange:ve=>p(ve.target.value),placeholder:"shared secret",autoComplete:"off"})]})]}),ne.jsxs("div",{className:"button-row",children:[ne.jsx("button",{type:"button",className:n==="host"?"active":"",onClick:()=>Cn("host"),children:"Host"}),ne.jsx("button",{type:"button",className:n==="joiner"?"active":"",onClick:()=>Cn("joiner"),children:"Joiner"})]})]}),n==="host"?ne.jsxs("section",{className:"panel",children:[ne.jsx("h2",{children:"Host Flow"}),ne.jsx("div",{className:"button-row",children:ne.jsx("button",{type:"button",onClick:()=>{sn()},disabled:we,children:"Create Invite Packet"})}),v?ne.jsx(wm,{title:"Host Invite Packet",packetText:v}):null,ne.jsxs("label",{children:["Paste Joiner Answer Packet",ne.jsx("textarea",{value:ue,onChange:ve=>be(ve.target.value),className:"packet-textarea",placeholder:"Paste answer packet lines here..."})]}),ne.jsx(zm,{onDecoded:ve=>be(Ue=>Gm(Ue,ve))}),ne.jsx("button",{type:"button",onClick:()=>{We()},disabled:we||!ue.trim(),children:"Apply Answer and Connect"})]}):ne.jsxs("section",{className:"panel",children:[ne.jsx("h2",{children:"Joiner Flow"}),ne.jsxs("label",{children:["Paste Host Invite Packet",ne.jsx("textarea",{value:k,onChange:ve=>L(ve.target.value),className:"packet-textarea",placeholder:"Paste host packet lines here..."})]}),ne.jsx(zm,{onDecoded:ve=>L(Ue=>Gm(Ue,ve))}),ne.jsx("button",{type:"button",onClick:()=>{bt()},disabled:we||!k.trim(),children:"Join and Create Answer"}),G?ne.jsx(wm,{title:"Joiner Answer Packet",packetText:G}):null]}),ne.jsxs("section",{className:"grid two video-grid",children:[ne.jsxs("div",{className:"panel",children:[ne.jsx("h3",{children:"Local Video"}),ne.jsx("video",{ref:Zn,muted:!0,autoPlay:!0,playsInline:!0})]}),ne.jsxs("div",{className:"panel",children:[ne.jsx("h3",{children:"Remote Video"}),ne.jsx("video",{ref:Qt,autoPlay:!0,playsInline:!0})]})]}),ne.jsxs("section",{className:"panel",children:[ne.jsx("h2",{children:"Call Controls"}),ne.jsxs("div",{className:"button-row",children:[ne.jsx("button",{type:"button",onClick:Wn,disabled:!J,children:ke?"Mute Mic":"Unmute Mic"}),ne.jsx("button",{type:"button",onClick:Vr,disabled:!J,children:$e?"Turn Camera Off":"Turn Camera On"}),ne.jsx("button",{type:"button",onClick:ei,disabled:!J,children:"Export Diagnostics JSON"})]}),ne.jsxs("p",{className:"muted",children:["Peer media state: audio ",Je.audioEnabled?"on":"off",", video"," ",Je.videoEnabled?"on":"off"]})]}),ne.jsxs("section",{className:"panel",children:[ne.jsx("h2",{children:"In-Call Chat"}),ne.jsx("div",{className:"chat-log",children:me.length===0?ne.jsx("p",{className:"muted",children:"No chat messages yet."}):me.map(ve=>ne.jsxs("article",{className:`chat-message ${ve.from}`,children:[ne.jsx("strong",{children:ve.from==="local"?"You":"Peer"}),ne.jsx("p",{children:ve.text})]},ve.id))}),ne.jsxs("form",{onSubmit:Un,className:"chat-form",children:[ne.jsx("input",{value:q,onChange:ve=>Se(ve.target.value.slice(0,$C)),placeholder:"Type a message..."}),ne.jsx("button",{type:"submit",disabled:!J||!q.trim(),children:"Send"})]})]}),ne.jsxs("section",{className:"panel",children:[ne.jsx("h2",{children:"Live Connection Stats"}),ne.jsxs("div",{className:"stats-grid",children:[ne.jsxs("div",{children:["Connection: ",nS($)]}),ne.jsxs("div",{children:["Quality state: ",Ui??"Not started"]}),ne.jsxs("div",{children:["RTT: ",Ee?`${Ee.rttMs} ms`:"N/A"]}),ne.jsxs("div",{children:["Jitter: ",Ee?`${Ee.jitterMs} ms`:"N/A"]}),ne.jsxs("div",{children:["Packet loss: ",Ee?`${Ee.packetLossPct}%`:"N/A"]}),ne.jsxs("div",{children:["Bitrate: ",Ee?`${Ee.bitrateKbps} kbps`:"N/A"]}),ne.jsxs("div",{children:["Resolution:"," ",Ee&&Ee.frameWidth>0?`${Ee.frameWidth}x${Ee.frameHeight}`:"N/A"]}),ne.jsxs("div",{children:["FPS: ",Ee?Ee.fps:"N/A"]})]})]}),ne.jsxs("section",{className:"panel status-panel",children:[ne.jsx("p",{children:A}),Ce>0?ne.jsxs("p",{className:"muted",children:["Failed unlock attempts: ",Ce," / ",jm]}):null,S?ne.jsxs("p",{className:"error",children:["[",S.code,"] ",S.message]}):null]})]})}lw.createRoot(document.getElementById("root")).render(ne.jsx(Ie.StrictMode,{children:ne.jsx(iS,{})}));
