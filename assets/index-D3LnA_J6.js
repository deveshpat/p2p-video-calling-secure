(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const A of p.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&d(A)}).observe(document,{childList:!0,subtree:!0});function l(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(m){if(m.ep)return;m.ep=!0;const p=l(m);fetch(m.href,p)}})();var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var M0={exports:{}},wo={};var Z2;function B3(){if(Z2)return wo;Z2=1;var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function l(d,m,p){var A=null;if(p!==void 0&&(A=""+p),m.key!==void 0&&(A=""+m.key),"key"in m){p={};for(var C in m)C!=="key"&&(p[C]=m[C])}else p=m;return m=p.ref,{$$typeof:n,type:d,key:A,ref:m!==void 0?m:null,props:p}}return wo.Fragment=o,wo.jsx=l,wo.jsxs=l,wo}var G2;function k3(){return G2||(G2=1,M0.exports=B3()),M0.exports}var Ee=k3(),B0={exports:{}},Ke={};var V2;function L3(){if(V2)return Ke;V2=1;var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.iterator;function L(P){return P===null||typeof P!="object"?null:(P=k&&P[k]||P["@@iterator"],typeof P=="function"?P:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,fe={};function be(P,$,Ae){this.props=P,this.context=$,this.refs=fe,this.updater=Ae||X}be.prototype.isReactComponent={},be.prototype.setState=function(P,$){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,$,"setState")},be.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function we(){}we.prototype=be.prototype;function Q(P,$,Ae){this.props=P,this.context=$,this.refs=fe,this.updater=Ae||X}var Y=Q.prototype=new we;Y.constructor=Q,re(Y,be.prototype),Y.isPureReactComponent=!0;var ve=Array.isArray;function ye(){}var Z={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function ee(P,$,Ae){var Se=Ae.ref;return{$$typeof:n,type:P,key:$,ref:Se!==void 0?Se:null,props:Ae}}function Ne(P,$){return ee(P.type,$,P.props)}function Te(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function Oe(P){var $={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Ae){return $[Ae]})}var Xe=/\/+/g;function qe(P,$){return typeof P=="object"&&P!==null&&P.key!=null?Oe(""+P.key):$.toString(36)}function W(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ye,ye):(P.status="pending",P.then(function($){P.status==="pending"&&(P.status="fulfilled",P.value=$)},function($){P.status==="pending"&&(P.status="rejected",P.reason=$)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function te(P,$,Ae,Se,Ve){var _e=typeof P;(_e==="undefined"||_e==="boolean")&&(P=null);var lt=!1;if(P===null)lt=!0;else switch(_e){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(P.$$typeof){case n:case o:lt=!0;break;case T:return lt=P._init,te(lt(P._payload),$,Ae,Se,Ve)}}if(lt)return Ve=Ve(P),lt=Se===""?"."+qe(P,0):Se,ve(Ve)?(Ae="",lt!=null&&(Ae=lt.replace(Xe,"$&/")+"/"),te(Ve,$,Ae,"",function(pi){return pi})):Ve!=null&&(Te(Ve)&&(Ve=Ne(Ve,Ae+(Ve.key==null||P&&P.key===Ve.key?"":(""+Ve.key).replace(Xe,"$&/")+"/")+lt)),$.push(Ve)),1;lt=0;var rt=Se===""?".":Se+":";if(ve(P))for(var St=0;St<P.length;St++)Se=P[St],_e=rt+qe(Se,St),lt+=te(Se,$,Ae,_e,Ve);else if(St=L(P),typeof St=="function")for(P=St.call(P),St=0;!(Se=P.next()).done;)Se=Se.value,_e=rt+qe(Se,St++),lt+=te(Se,$,Ae,_e,Ve);else if(_e==="object"){if(typeof P.then=="function")return te(W(P),$,Ae,Se,Ve);throw $=String(P),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return lt}function se(P,$,Ae){if(P==null)return P;var Se=[],Ve=0;return te(P,Se,"","",function(_e){return $.call(Ae,_e,Ve++)}),Se}function Le(P){if(P._status===-1){var $=P._result;$=$(),$.then(function(Ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=Ae)},function(Ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=Ae)}),P._status===-1&&(P._status=0,P._result=$)}if(P._status===1)return P._result.default;throw P._result}var Qe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},We={map:se,forEach:function(P,$,Ae){se(P,function(){$.apply(this,arguments)},Ae)},count:function(P){var $=0;return se(P,function(){$++}),$},toArray:function(P){return se(P,function($){return $})||[]},only:function(P){if(!Te(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ke.Activity=D,Ke.Children=We,Ke.Component=be,Ke.Fragment=l,Ke.Profiler=m,Ke.PureComponent=Q,Ke.StrictMode=d,Ke.Suspense=S,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(P){return Z.H.useMemoCache(P)}},Ke.cache=function(P){return function(){return P.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(P,$,Ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Se=re({},P.props),Ve=P.key;if($!=null)for(_e in $.key!==void 0&&(Ve=""+$.key),$)!pe.call($,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&$.ref===void 0||(Se[_e]=$[_e]);var _e=arguments.length-2;if(_e===1)Se.children=Ae;else if(1<_e){for(var lt=Array(_e),rt=0;rt<_e;rt++)lt[rt]=arguments[rt+2];Se.children=lt}return ee(P.type,Ve,Se)},Ke.createContext=function(P){return P={$$typeof:A,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:p,_context:P},P},Ke.createElement=function(P,$,Ae){var Se,Ve={},_e=null;if($!=null)for(Se in $.key!==void 0&&(_e=""+$.key),$)pe.call($,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Ve[Se]=$[Se]);var lt=arguments.length-2;if(lt===1)Ve.children=Ae;else if(1<lt){for(var rt=Array(lt),St=0;St<lt;St++)rt[St]=arguments[St+2];Ve.children=rt}if(P&&P.defaultProps)for(Se in lt=P.defaultProps,lt)Ve[Se]===void 0&&(Ve[Se]=lt[Se]);return ee(P,_e,Ve)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(P){return{$$typeof:C,render:P}},Ke.isValidElement=Te,Ke.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:Le}},Ke.memo=function(P,$){return{$$typeof:E,type:P,compare:$===void 0?null:$}},Ke.startTransition=function(P){var $=Z.T,Ae={};Z.T=Ae;try{var Se=P(),Ve=Z.S;Ve!==null&&Ve(Ae,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(ye,Qe)}catch(_e){Qe(_e)}finally{$!==null&&Ae.types!==null&&($.types=Ae.types),Z.T=$}},Ke.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ke.use=function(P){return Z.H.use(P)},Ke.useActionState=function(P,$,Ae){return Z.H.useActionState(P,$,Ae)},Ke.useCallback=function(P,$){return Z.H.useCallback(P,$)},Ke.useContext=function(P){return Z.H.useContext(P)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(P,$){return Z.H.useDeferredValue(P,$)},Ke.useEffect=function(P,$){return Z.H.useEffect(P,$)},Ke.useEffectEvent=function(P){return Z.H.useEffectEvent(P)},Ke.useId=function(){return Z.H.useId()},Ke.useImperativeHandle=function(P,$,Ae){return Z.H.useImperativeHandle(P,$,Ae)},Ke.useInsertionEffect=function(P,$){return Z.H.useInsertionEffect(P,$)},Ke.useLayoutEffect=function(P,$){return Z.H.useLayoutEffect(P,$)},Ke.useMemo=function(P,$){return Z.H.useMemo(P,$)},Ke.useOptimistic=function(P,$){return Z.H.useOptimistic(P,$)},Ke.useReducer=function(P,$,Ae){return Z.H.useReducer(P,$,Ae)},Ke.useRef=function(P){return Z.H.useRef(P)},Ke.useState=function(P){return Z.H.useState(P)},Ke.useSyncExternalStore=function(P,$,Ae){return Z.H.useSyncExternalStore(P,$,Ae)},Ke.useTransition=function(){return Z.H.useTransition()},Ke.version="19.2.4",Ke}var X2;function y1(){return X2||(X2=1,B0.exports=L3()),B0.exports}var xt=y1();const Mn=M3(xt);var k0={exports:{}},_o={},L0={exports:{}},z0={};var j2;function z3(){return j2||(j2=1,(function(n){function o(te,se){var Le=te.length;te.push(se);e:for(;0<Le;){var Qe=Le-1>>>1,We=te[Qe];if(0<m(We,se))te[Qe]=se,te[Le]=We,Le=Qe;else break e}}function l(te){return te.length===0?null:te[0]}function d(te){if(te.length===0)return null;var se=te[0],Le=te.pop();if(Le!==se){te[0]=Le;e:for(var Qe=0,We=te.length,P=We>>>1;Qe<P;){var $=2*(Qe+1)-1,Ae=te[$],Se=$+1,Ve=te[Se];if(0>m(Ae,Le))Se<We&&0>m(Ve,Ae)?(te[Qe]=Ve,te[Se]=Le,Qe=Se):(te[Qe]=Ae,te[$]=Le,Qe=$);else if(Se<We&&0>m(Ve,Le))te[Qe]=Ve,te[Se]=Le,Qe=Se;else break e}}return se}function m(te,se){var Le=te.sortIndex-se.sortIndex;return Le!==0?Le:te.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;n.unstable_now=function(){return p.now()}}else{var A=Date,C=A.now();n.unstable_now=function(){return A.now()-C}}var S=[],E=[],T=1,D=null,k=3,L=!1,X=!1,re=!1,fe=!1,be=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Y(te){for(var se=l(E);se!==null;){if(se.callback===null)d(E);else if(se.startTime<=te)d(E),se.sortIndex=se.expirationTime,o(S,se);else break;se=l(E)}}function ve(te){if(re=!1,Y(te),!X)if(l(S)!==null)X=!0,ye||(ye=!0,Oe());else{var se=l(E);se!==null&&W(ve,se.startTime-te)}}var ye=!1,Z=-1,pe=5,ee=-1;function Ne(){return fe?!0:!(n.unstable_now()-ee<pe)}function Te(){if(fe=!1,ye){var te=n.unstable_now();ee=te;var se=!0;try{e:{X=!1,re&&(re=!1,we(Z),Z=-1),L=!0;var Le=k;try{t:{for(Y(te),D=l(S);D!==null&&!(D.expirationTime>te&&Ne());){var Qe=D.callback;if(typeof Qe=="function"){D.callback=null,k=D.priorityLevel;var We=Qe(D.expirationTime<=te);if(te=n.unstable_now(),typeof We=="function"){D.callback=We,Y(te),se=!0;break t}D===l(S)&&d(S),Y(te)}else d(S);D=l(S)}if(D!==null)se=!0;else{var P=l(E);P!==null&&W(ve,P.startTime-te),se=!1}}break e}finally{D=null,k=Le,L=!1}se=void 0}}finally{se?Oe():ye=!1}}}var Oe;if(typeof Q=="function")Oe=function(){Q(Te)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,qe=Xe.port2;Xe.port1.onmessage=Te,Oe=function(){qe.postMessage(null)}}else Oe=function(){be(Te,0)};function W(te,se){Z=be(function(){te(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_next=function(te){switch(k){case 1:case 2:case 3:var se=3;break;default:se=k}var Le=k;k=se;try{return te()}finally{k=Le}},n.unstable_requestPaint=function(){fe=!0},n.unstable_runWithPriority=function(te,se){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var Le=k;k=te;try{return se()}finally{k=Le}},n.unstable_scheduleCallback=function(te,se,Le){var Qe=n.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?Qe+Le:Qe):Le=Qe,te){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=Le+We,te={id:T++,callback:se,priorityLevel:te,startTime:Le,expirationTime:We,sortIndex:-1},Le>Qe?(te.sortIndex=Le,o(E,te),l(S)===null&&te===l(E)&&(re?(we(Z),Z=-1):re=!0,W(ve,Le-Qe))):(te.sortIndex=We,o(S,te),X||L||(X=!0,ye||(ye=!0,Oe()))),te},n.unstable_shouldYield=Ne,n.unstable_wrapCallback=function(te){var se=k;return function(){var Le=k;k=se;try{return te.apply(this,arguments)}finally{k=Le}}}})(z0)),z0}var Y2;function U3(){return Y2||(Y2=1,L0.exports=z3()),L0.exports}var U0={exports:{}},qn={};var q2;function F3(){if(q2)return qn;q2=1;var n=y1();function o(S){var E="https://react.dev/errors/"+S;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)E+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+S+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var d={d:{f:l,r:function(){throw Error(o(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},m=Symbol.for("react.portal");function p(S,E,T){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:D==null?null:""+D,children:S,containerInfo:E,implementation:T}}var A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function C(S,E){if(S==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,qn.createPortal=function(S,E){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(o(299));return p(S,E,null,T)},qn.flushSync=function(S){var E=A.T,T=d.p;try{if(A.T=null,d.p=2,S)return S()}finally{A.T=E,d.p=T,d.d.f()}},qn.preconnect=function(S,E){typeof S=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,d.d.C(S,E))},qn.prefetchDNS=function(S){typeof S=="string"&&d.d.D(S)},qn.preinit=function(S,E){if(typeof S=="string"&&E&&typeof E.as=="string"){var T=E.as,D=C(T,E.crossOrigin),k=typeof E.integrity=="string"?E.integrity:void 0,L=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;T==="style"?d.d.S(S,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:D,integrity:k,fetchPriority:L}):T==="script"&&d.d.X(S,{crossOrigin:D,integrity:k,fetchPriority:L,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},qn.preinitModule=function(S,E){if(typeof S=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var T=C(E.as,E.crossOrigin);d.d.M(S,{crossOrigin:T,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&d.d.M(S)},qn.preload=function(S,E){if(typeof S=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var T=E.as,D=C(T,E.crossOrigin);d.d.L(S,T,{crossOrigin:D,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},qn.preloadModule=function(S,E){if(typeof S=="string")if(E){var T=C(E.as,E.crossOrigin);d.d.m(S,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:T,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else d.d.m(S)},qn.requestFormReset=function(S){d.d.r(S)},qn.unstable_batchedUpdates=function(S,E){return S(E)},qn.useFormState=function(S,E,T){return A.H.useFormState(S,E,T)},qn.useFormStatus=function(){return A.H.useHostTransitionStatus()},qn.version="19.2.4",qn}var K2;function P3(){if(K2)return U0.exports;K2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),U0.exports=F3(),U0.exports}var Q2;function H3(){if(Q2)return _o;Q2=1;var n=U3(),o=y1(),l=P3();function d(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function A(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function C(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function S(e){if(p(e)!==e)throw Error(d(188))}function E(e){var i=e.alternate;if(!i){if(i=p(e),i===null)throw Error(d(188));return i!==e?null:e}for(var s=e,f=i;;){var x=s.return;if(x===null)break;var _=x.alternate;if(_===null){if(f=x.return,f!==null){s=f;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===s)return S(x),e;if(_===f)return S(x),i;_=_.sibling}throw Error(d(188))}if(s.return!==f.return)s=x,f=_;else{for(var v=!1,I=x.child;I;){if(I===s){v=!0,s=x,f=_;break}if(I===f){v=!0,f=x,s=_;break}I=I.sibling}if(!v){for(I=_.child;I;){if(I===s){v=!0,s=_,f=x;break}if(I===f){v=!0,f=_,s=x;break}I=I.sibling}if(!v)throw Error(d(189))}}if(s.alternate!==f)throw Error(d(190))}if(s.tag!==3)throw Error(d(188));return s.stateNode.current===s?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var D=Object.assign,k=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),be=Symbol.for("react.profiler"),we=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Symbol.for("react.client.reference");function qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Xe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case be:return"Profiler";case fe:return"StrictMode";case ve:return"Suspense";case ye:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case Q:return e.displayName||"Context";case we:return(e._context.displayName||"Context")+".Consumer";case Y:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return i=e.displayName||null,i!==null?i:qe(e.type)||"Memo";case pe:i=e._payload,e=e._init;try{return qe(e(i))}catch{}}return null}var W=Array.isArray,te=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le={pending:!1,data:null,method:null,action:null},Qe=[],We=-1;function P(e){return{current:e}}function $(e){0>We||(e.current=Qe[We],Qe[We]=null,We--)}function Ae(e,i){We++,Qe[We]=e.current,e.current=i}var Se=P(null),Ve=P(null),_e=P(null),lt=P(null);function rt(e,i){switch(Ae(_e,i),Ae(Ve,e),Ae(Se,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?f2(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=f2(i),e=h2(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(Se),Ae(Se,e)}function St(){$(Se),$(Ve),$(_e)}function pi(e){e.memoizedState!==null&&Ae(lt,e);var i=Se.current,s=h2(i,e.type);i!==s&&(Ae(Ve,e),Ae(Se,s))}function rn(e){Ve.current===e&&($(Se),$(Ve)),lt.current===e&&($(lt),go._currentValue=Le)}var Ji,st;function zn(e){if(Ji===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ji=i&&i[1]||"",st=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ji+e+st}var Un=!1;function Bi(e,i){if(!e||Un)return"";Un=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var J=ae}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ae){J=ae}e.call(ce.prototype)}}else{try{throw Error()}catch(ae){J=ae}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&J&&typeof ae.stack=="string")return[ae.stack,J.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),v=_[0],I=_[1];if(v&&I){var z=v.split(`
`),K=I.split(`
`);for(x=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;x<K.length&&!K[x].includes("DetermineComponentFrameRoot");)x++;if(f===z.length||x===K.length)for(f=z.length-1,x=K.length-1;1<=f&&0<=x&&z[f]!==K[x];)x--;for(;1<=f&&0<=x;f--,x--)if(z[f]!==K[x]){if(f!==1||x!==1)do if(f--,x--,0>x||z[f]!==K[x]){var le=`
`+z[f].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=f&&0<=x);break}}}finally{Un=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?zn(s):""}function ln(e,i){switch(e.tag){case 26:case 27:case 5:return zn(e.type);case 16:return zn("Lazy");case 13:return e.child!==i&&i!==null?zn("Suspense Fallback"):zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return Bi(e.type,!1);case 11:return Bi(e.type.render,!1);case 1:return Bi(e.type,!0);case 31:return zn("Activity");default:return""}}function yt(e){try{var i="",s=null;do i+=ln(e,s),s=e,e=e.return;while(e);return i}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var nt=Object.prototype.hasOwnProperty,oa=n.unstable_scheduleCallback,Ie=n.unstable_cancelCallback,Ja=n.unstable_shouldYield,Nl=n.unstable_requestPaint,jt=n.unstable_now,Vr=n.unstable_getCurrentPriorityLevel,Yn=n.unstable_ImmediatePriority,$a=n.unstable_UserBlockingPriority,Ce=n.unstable_NormalPriority,Pe=n.unstable_LowPriority,yn=n.unstable_IdlePriority,ri=n.log,er=n.unstable_setDisableYieldValue,Ut=null,me=null;function Rt(e){if(typeof ri=="function"&&er(e),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(Ut,e)}catch{}}var $e=Math.clz32?Math.clz32:Ts,Wt=Math.log,Xr=Math.LN2;function Ts(e){return e>>>=0,e===0?32:31-(Wt(e)/Xr|0)|0}var jr=256,ht=262144,ki=4194304;function ca(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yr(e,i,s){var f=e.pendingLanes;if(f===0)return 0;var x=0,_=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var I=f&134217727;return I!==0?(f=I&~_,f!==0?x=ca(f):(v&=I,v!==0?x=ca(v):s||(s=I&~e,s!==0&&(x=ca(s))))):(I=f&~_,I!==0?x=ca(I):v!==0?x=ca(v):s||(s=f&~e,s!==0&&(x=ca(s)))),x===0?0:i!==0&&i!==x&&(i&_)===0&&(_=x&-x,s=i&-i,_>=s||_===32&&(s&4194048)!==0)?i:x}function Fn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Os(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function On(){var e=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),e}function ua(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function fa(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Li(e,i,s,f,x,_){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var I=e.entanglements,z=e.expirationTimes,K=e.hiddenUpdates;for(s=v&~s;0<s;){var le=31-$e(s),ce=1<<le;I[le]=0,z[le]=-1;var J=K[le];if(J!==null)for(K[le]=null,le=0;le<J.length;le++){var ae=J[le];ae!==null&&(ae.lane&=-536870913)}s&=~ce}f!==0&&Ho(e,f,0),_!==0&&x===0&&e.tag!==0&&(e.suspendedLanes|=_&~(v&~i))}function Ho(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var f=31-$e(i);e.entangledLanes|=i,e.entanglements[f]=e.entanglements[f]|1073741824|s&261930}function ha(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var f=31-$e(s),x=1<<f;x&i|e[f]&i&&(e[f]|=i),s&=~x}}function Rl(e,i){var s=i&-i;return s=(s&42)!==0?1:Bn(s),(s&(e.suspendedLanes|i))!==0?0:s}function Bn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $i(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qn(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:k2(e.type))}function Re(e,i){var s=se.p;try{return se.p=e,i()}finally{se.p=s}}var Wn=Math.random().toString(36).slice(2),gn="__reactFiber$"+Wn,Bt="__reactProps$"+Wn,wi="__reactContainer$"+Wn,tr="__reactEvents$"+Wn,Il="__reactListeners$"+Wn,zi="__reactHandles$"+Wn,Zo="__reactResources$"+Wn,qr="__reactMarker$"+Wn;function li(e){delete e[gn],delete e[Bt],delete e[tr],delete e[Il],delete e[zi]}function sn(e){var i=e[gn];if(i)return i;for(var s=e.parentNode;s;){if(i=s[wi]||s[gn]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=_2(e);e!==null;){if(s=e[gn])return s;e=_2(e)}return i}e=s,s=e.parentNode}return null}function vt(e){if(e=e[gn]||e[wi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function nr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(d(33))}function Jn(e){var i=e[Zo];return i||(i=e[Zo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function on(e){e[qr]=!0}var he=new Set,Go={};function It(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Go[e]=i,e=0;e<i.length;e++)he.add(i[e])}var Uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Et={},_t={};function ot(e){return nt.call(_t,e)?!0:nt.call(Et,e)?!1:Uu.test(e)?_t[e]=!0:(Et[e]=!0,!1)}function ir(e,i,s){if(ot(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function ar(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Ei(e,i,s,f){if(f===null)e.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+f)}}function At(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ea(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fu(e,i,s){var f=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,_=f.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return x.call(this)},set:function(v){s=""+v,_.call(this,v)}}),Object.defineProperty(e,i,{enumerable:f.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=ea(e)?"checked":"value";e._valueTracker=Fu(e,i,""+e[i])}}function ta(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),f="";return e&&(f=ea(e)?e.checked?"true":"false":e.value),e=f,e!==s?(i.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rr=/[\n"\\]/g;function at(e){return e.replace(rr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function An(e,i,s,f,x,_,v,I){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+At(i)):e.value!==""+At(i)&&(e.value=""+At(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?M(e,v,At(i)):s!=null?M(e,v,At(s)):f!=null&&e.removeAttribute("value"),x==null&&_!=null&&(e.defaultChecked=!!_),x!=null&&(e.checked=x&&typeof x!="function"&&typeof x!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.name=""+At(I):e.removeAttribute("name")}function j(e,i,s,f,x,_,v,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||s!=null){if(!(_!=="submit"&&_!=="reset"||i!=null)){Yt(e);return}s=s!=null?""+At(s):"",i=i!=null?""+At(i):s,I||i===e.value||(e.value=i),e.defaultValue=i}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,e.checked=I?e.checked:!!f,e.defaultChecked=!!f,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Yt(e)}function M(e,i,s){i==="number"&&Dl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Be(e,i,s,f){if(e=e.options,i){i={};for(var x=0;x<s.length;x++)i["$"+s[x]]=!0;for(s=0;s<e.length;s++)x=i.hasOwnProperty("$"+e[s].value),e[s].selected!==x&&(e[s].selected=x),x&&f&&(e[s].defaultSelected=!0)}else{for(s=""+At(s),i=null,x=0;x<e.length;x++){if(e[x].value===s){e[x].selected=!0,f&&(e[x].defaultSelected=!0);return}i!==null||e[x].disabled||(i=e[x])}i!==null&&(i.selected=!0)}}function mn(e,i,s){if(i!=null&&(i=""+At(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+At(s):""}function $n(e,i,s,f){if(i==null){if(f!=null){if(s!=null)throw Error(d(92));if(W(f)){if(1<f.length)throw Error(d(93));f=f[0]}s=f}s==null&&(s=""),i=s}s=At(i),e.defaultValue=s,f=e.textContent,f===s&&f!==""&&f!==null&&(e.value=f),Yt(e)}function lr(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var Ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ei(e,i,s){var f=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?f?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":f?e.setProperty(i,s):typeof s!="number"||s===0||Ns.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function ze(e,i,s){if(i!=null&&typeof i!="object")throw Error(d(62));if(e=e.style,s!=null){for(var f in s)!s.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?e.setProperty(f,""):f==="float"?e.cssFloat="":e[f]="");for(var x in i)f=i[x],i.hasOwnProperty(x)&&s[x]!==f&&ei(e,x,f)}else for(var _ in i)i.hasOwnProperty(_)&&ei(e,_,i[_])}function Zt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(e){return Pu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function si(){}var Kr=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qt=null,Ui=null;function na(e){var i=vt(e);if(i&&(e=i.stateNode)){var s=e[Bt]||null;e:switch(e=i.stateNode,i.type){case"input":if(An(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+at(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var f=s[i];if(f!==e&&f.form===e.form){var x=f[Bt]||null;if(!x)throw Error(d(90));An(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<s.length;i++)f=s[i],f.form===e.form&&ta(f)}break e;case"textarea":mn(e,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Be(e,!!s.multiple,i,!1)}}}var He=!1;function Xo(e,i,s){if(He)return e(i,s);He=!0;try{var f=e(i);return f}finally{if(He=!1,(qt!==null||Ui!==null)&&(Lc(),qt&&(i=qt,e=Ui,Ui=qt=null,na(i),e)))for(i=0;i<e.length;i++)na(e[i])}}function je(e,i){var s=e.stateNode;if(s===null)return null;var f=s[Bt]||null;if(f===null)return null;s=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(e=e.type,f=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!f;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(d(231,i,typeof s));return s}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Gt)try{var va={};Object.defineProperty(va,"passive",{get:function(){Is=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{Is=!1}var ia=null,aa=null,Ml=null;function or(){if(Ml)return Ml;var e,i=aa,s=i.length,f,x="value"in ia?ia.value:ia.textContent,_=x.length;for(e=0;e<s&&i[e]===x[e];e++);var v=s-e;for(f=1;f<=v&&i[s-f]===x[_-f];f++);return Ml=x.slice(e,1<f?1-f:void 0)}function da(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ga(){return!0}function Ds(){return!1}function bn(e){function i(s,f,x,_,v){this._reactName=s,this._targetInst=x,this.type=f,this.nativeEvent=_,this.target=v,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(s=e[I],this[I]=s?s(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ga:Ds,this.isPropagationStopped=Ds,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),i}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nn=bn(yi),cr=D({},yi,{view:0,detail:0}),jo=bn(cr),Bl,Ms,Qr,kl=D({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(Bl=e.screenX-Qr.screenX,Ms=e.screenY-Qr.screenY):Ms=Bl=0,Qr=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Ms}}),Tt=bn(kl),Yo=D({},kl,{dataTransfer:0}),Ll=bn(Yo),ma=D({},cr,{relatedTarget:0}),Bs=bn(ma),ie=D({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),et=bn(ie),Rn=D({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zl=bn(Rn),qo=D({},yi,{data:0}),Ko=bn(qo),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ks[e])?!!i[e]:!1}function Wr(){return xn}var Jt=D({},cr,{key:function(e){if(e.key){var i=Hu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(e){return e.type==="keypress"?da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ul=bn(Jt),Ta=D({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dt=bn(Ta),Ze=D({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Gu=bn(Ze),Vt=D({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oa=bn(Vt),ur=D({},kl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vu=bn(ur),Fi=D({},yi,{newState:0,oldState:0}),Ls=bn(Fi),Qo=[9,13,27,32],Jr=Gt&&"CompositionEvent"in window,fr=null;Gt&&"documentMode"in document&&(fr=document.documentMode);var Wo=Gt&&"TextEvent"in window&&!fr,Jo=Gt&&(!Jr||fr&&8<fr&&11>=fr),Na=" ",Fl=!1;function $o(e,i){switch(e){case"keyup":return Qo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function xa(e,i){switch(e){case"compositionend":return hr(i);case"keypress":return i.which!==32?null:(Fl=!0,Na);case"textInput":return e=i.data,e===Na&&Fl?null:e;default:return null}}function Pl(e,i){if(dr)return e==="compositionend"||!Jr&&$o(e,i)?(e=or(),Ml=aa=ia=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jo&&i.locale!=="ko"?null:i.data;default:return null}}var oi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!oi[e.type]:i==="textarea"}function Ai(e,i,s,f){qt?Ui?Ui.push(f):Ui=[f]:qt=f,i=Gc(i,"onChange"),0<i.length&&(s=new Nn("onChange","change",null,s,f),e.push({event:s,listeners:i}))}var $r=null,Ra=null;function Xu(e){r2(e,0)}function el(e){var i=nr(e);if(ta(i))return e}function bi(e,i){if(e==="change")return i}var ec=!1;if(Gt){var tl;if(Gt){var Ia="oninput"in document;if(!Ia){var dt=document.createElement("div");dt.setAttribute("oninput","return;"),Ia=typeof dt.oninput=="function"}tl=Ia}else tl=!1;ec=tl&&(!document.documentMode||9<document.documentMode)}function nl(){$r&&($r.detachEvent("onpropertychange",O),Ra=$r=null)}function O(e){if(e.propertyName==="value"&&el(Ra)){var i=[];Ai(i,Ra,e,Rs(e)),Xo(Xu,i)}}function t(e,i,s){e==="focusin"?(nl(),$r=i,Ra=s,$r.attachEvent("onpropertychange",O)):e==="focusout"&&nl()}function a(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Ra)}function r(e,i){if(e==="click")return el(i)}function c(e,i){if(e==="input"||e==="change")return el(i)}function u(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var h=typeof Object.is=="function"?Object.is:u;function g(e,i){if(h(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),f=Object.keys(i);if(s.length!==f.length)return!1;for(f=0;f<s.length;f++){var x=s[f];if(!nt.call(i,x)||!h(e[x],i[x]))return!1}return!0}function w(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y(e,i){var s=w(e);e=0;for(var f;s;){if(s.nodeType===3){if(f=e+s.textContent.length,e<=i&&f>=i)return{node:s,offset:i-e};e=f}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=w(s)}}function b(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?b(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function N(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Dl(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Dl(e.document)}return i}function R(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var B=Gt&&"documentMode"in document&&11>=document.documentMode,U=null,F=null,V=null,ne=!1;function xe(e,i,s){var f=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ne||U==null||U!==Dl(f)||(f=U,"selectionStart"in f&&R(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),V&&g(V,f)||(V=f,f=Gc(F,"onSelect"),0<f.length&&(i=new Nn("onSelect","select",null,i,s),e.push({event:i,listeners:f}),i.target=U)))}function ge(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var de={animationend:ge("Animation","AnimationEnd"),animationiteration:ge("Animation","AnimationIteration"),animationstart:ge("Animation","AnimationStart"),transitionrun:ge("Transition","TransitionRun"),transitionstart:ge("Transition","TransitionStart"),transitioncancel:ge("Transition","TransitionCancel"),transitionend:ge("Transition","TransitionEnd")},it={},Ye={};Gt&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete de.animationend.animation,delete de.animationiteration.animation,delete de.animationstart.animation),"TransitionEvent"in window||delete de.transitionend.transition);function cn(e){if(it[e])return it[e];if(!de[e])return e;var i=de[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return it[e]=i[s];return e}var ci=cn("animationend"),Pn=cn("animationiteration"),Mt=cn("animationstart"),In=cn("transitionrun"),ti=cn("transitionstart"),gr=cn("transitioncancel"),Da=cn("transitionend"),tc=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Us.push("scrollEnd");function ra(e,i){tc.set(e,i),It(i,[e])}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pi=[],Hl=0,ju=0;function ic(){for(var e=Hl,i=ju=Hl=0;i<e;){var s=Pi[i];Pi[i++]=null;var f=Pi[i];Pi[i++]=null;var x=Pi[i];Pi[i++]=null;var _=Pi[i];if(Pi[i++]=null,f!==null&&x!==null){var v=f.pending;v===null?x.next=x:(x.next=v.next,v.next=x),f.pending=x}_!==0&&P1(s,x,_)}}function ac(e,i,s,f){Pi[Hl++]=e,Pi[Hl++]=i,Pi[Hl++]=s,Pi[Hl++]=f,ju|=f,e.lanes|=f,e=e.alternate,e!==null&&(e.lanes|=f)}function Yu(e,i,s,f){return ac(e,i,s,f),rc(e)}function il(e,i){return ac(e,null,null,i),rc(e)}function P1(e,i,s){e.lanes|=s;var f=e.alternate;f!==null&&(f.lanes|=s);for(var x=!1,_=e.return;_!==null;)_.childLanes|=s,f=_.alternate,f!==null&&(f.childLanes|=s),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(x=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,x&&i!==null&&(x=31-$e(s),e=_.hiddenUpdates,f=e[x],f===null?e[x]=[i]:f.push(i),i.lane=s|536870912),_):null}function rc(e){if(50<lo)throw lo=0,i0=null,Error(d(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Zl={};function xp(e,i,s,f){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(e,i,s,f){return new xp(e,i,s,f)}function qu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ma(e,i){var s=e.alternate;return s===null?(s=Ci(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function H1(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function lc(e,i,s,f,x,_){var v=0;if(f=e,typeof e=="function")qu(e)&&(v=1);else if(typeof e=="string")v=y3(e,s,Se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Ci(31,s,i,x),e.elementType=ee,e.lanes=_,e;case re:return al(s.children,x,_,i);case fe:v=8,x|=24;break;case be:return e=Ci(12,s,i,x|2),e.elementType=be,e.lanes=_,e;case ve:return e=Ci(13,s,i,x),e.elementType=ve,e.lanes=_,e;case ye:return e=Ci(19,s,i,x),e.elementType=ye,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:v=10;break e;case we:v=9;break e;case Y:v=11;break e;case Z:v=14;break e;case pe:v=16,f=null;break e}v=29,s=Error(d(130,e===null?"null":typeof e,"")),f=null}return i=Ci(v,s,i,x),i.elementType=e,i.type=f,i.lanes=_,i}function al(e,i,s,f){return e=Ci(7,e,f,i),e.lanes=s,e}function Ku(e,i,s){return e=Ci(6,e,null,i),e.lanes=s,e}function Z1(e){var i=Ci(18,null,null,0);return i.stateNode=e,i}function Qu(e,i,s){return i=Ci(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var G1=new WeakMap;function Hi(e,i){if(typeof e=="object"&&e!==null){var s=G1.get(e);return s!==void 0?s:(i={value:e,source:i,stack:yt(i)},G1.set(e,i),i)}return{value:e,source:i,stack:yt(i)}}var Gl=[],Vl=0,sc=null,Fs=0,Zi=[],Gi=0,mr=null,pa=1,wa="";function Ba(e,i){Gl[Vl++]=Fs,Gl[Vl++]=sc,sc=e,Fs=i}function V1(e,i,s){Zi[Gi++]=pa,Zi[Gi++]=wa,Zi[Gi++]=mr,mr=e;var f=pa;e=wa;var x=32-$e(f)-1;f&=~(1<<x),s+=1;var _=32-$e(i)+x;if(30<_){var v=x-x%5;_=(f&(1<<v)-1).toString(32),f>>=v,x-=v,pa=1<<32-$e(i)+x|s<<x|f,wa=_+e}else pa=1<<_|s<<x|f,wa=e}function Wu(e){e.return!==null&&(Ba(e,1),V1(e,1,0))}function Ju(e){for(;e===sc;)sc=Gl[--Vl],Gl[Vl]=null,Fs=Gl[--Vl],Gl[Vl]=null;for(;e===mr;)mr=Zi[--Gi],Zi[Gi]=null,wa=Zi[--Gi],Zi[Gi]=null,pa=Zi[--Gi],Zi[Gi]=null}function X1(e,i){Zi[Gi++]=pa,Zi[Gi++]=wa,Zi[Gi++]=mr,pa=i.id,wa=i.overflow,mr=e}var Hn=null,Kt=null,pt=!1,xr=null,Vi=!1,$u=Error(d(519));function pr(e){var i=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(Hi(i,e)),$u}function j1(e){var i=e.stateNode,s=e.type,f=e.memoizedProps;switch(i[gn]=e,i[Bt]=f,s){case"dialog":ut("cancel",i),ut("close",i);break;case"iframe":case"object":case"embed":ut("load",i);break;case"video":case"audio":for(s=0;s<oo.length;s++)ut(oo[s],i);break;case"source":ut("error",i);break;case"img":case"image":case"link":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"input":ut("invalid",i),j(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ut("invalid",i);break;case"textarea":ut("invalid",i),$n(i,f.value,f.defaultValue,f.children)}s=f.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||f.suppressHydrationWarning===!0||c2(i.textContent,s)?(f.popover!=null&&(ut("beforetoggle",i),ut("toggle",i)),f.onScroll!=null&&ut("scroll",i),f.onScrollEnd!=null&&ut("scrollend",i),f.onClick!=null&&(i.onclick=si),i=!0):i=!1,i||pr(e,!0)}function Y1(e){for(Hn=e.return;Hn;)switch(Hn.tag){case 5:case 31:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:Hn=Hn.return}}function Xl(e){if(e!==Hn)return!1;if(!pt)return Y1(e),pt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||w0(e.type,e.memoizedProps)),s=!s),s&&Kt&&pr(e),Y1(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Kt=w2(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Kt=w2(e)}else i===27?(i=Kt,Ir(e.type)?(e=b0,b0=null,Kt=e):Kt=i):Kt=Hn?ji(e.stateNode.nextSibling):null;return!0}function rl(){Kt=Hn=null,pt=!1}function ef(){var e=xr;return e!==null&&(di===null?di=e:di.push.apply(di,e),xr=null),e}function Ps(e){xr===null?xr=[e]:xr.push(e)}var tf=P(null),ll=null,ka=null;function wr(e,i,s){Ae(tf,i._currentValue),i._currentValue=s}function La(e){e._currentValue=tf.current,$(tf)}function nf(e,i,s){for(;e!==null;){var f=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),e===s)break;e=e.return}}function af(e,i,s,f){var x=e.child;for(x!==null&&(x.return=e);x!==null;){var _=x.dependencies;if(_!==null){var v=x.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=x;for(var z=0;z<i.length;z++)if(I.context===i[z]){_.lanes|=s,I=_.alternate,I!==null&&(I.lanes|=s),nf(_.return,s,e),f||(v=null);break e}_=I.next}}else if(x.tag===18){if(v=x.return,v===null)throw Error(d(341));v.lanes|=s,_=v.alternate,_!==null&&(_.lanes|=s),nf(v,s,e),v=null}else v=x.child;if(v!==null)v.return=x;else for(v=x;v!==null;){if(v===e){v=null;break}if(x=v.sibling,x!==null){x.return=v.return,v=x;break}v=v.return}x=v}}function jl(e,i,s,f){e=null;for(var x=i,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var v=x.alternate;if(v===null)throw Error(d(387));if(v=v.memoizedProps,v!==null){var I=x.type;h(x.pendingProps.value,v.value)||(e!==null?e.push(I):e=[I])}}else if(x===lt.current){if(v=x.alternate,v===null)throw Error(d(387));v.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(e!==null?e.push(go):e=[go])}x=x.return}e!==null&&af(i,e,s,f),i.flags|=262144}function oc(e){for(e=e.firstContext;e!==null;){if(!h(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sl(e){ll=e,ka=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zn(e){return q1(ll,e)}function cc(e,i){return ll===null&&sl(e),q1(e,i)}function q1(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ka===null){if(e===null)throw Error(d(308));ka=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ka=ka.next=i;return s}var pp=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,f){e.push(f)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},wp=n.unstable_scheduleCallback,_p=n.unstable_NormalPriority,Cn={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new pp,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&wp(_p,function(){e.controller.abort()})}var Zs=null,lf=0,Yl=0,ql=null;function Ep(e,i){if(Zs===null){var s=Zs=[];lf=0,Yl=c0(),ql={status:"pending",value:void 0,then:function(f){s.push(f)}}}return lf++,i.then(K1,K1),i}function K1(){if(--lf===0&&Zs!==null){ql!==null&&(ql.status="fulfilled");var e=Zs;Zs=null,Yl=0,ql=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function yp(e,i){var s=[],f={status:"pending",value:null,reason:null,then:function(x){s.push(x)}};return e.then(function(){f.status="fulfilled",f.value=i;for(var x=0;x<s.length;x++)(0,s[x])(i)},function(x){for(f.status="rejected",f.reason=x,x=0;x<s.length;x++)(0,s[x])(void 0)}),f}var Q1=te.S;te.S=function(e,i){Md=jt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ep(e,i),Q1!==null&&Q1(e,i)};var ol=P(null);function sf(){var e=ol.current;return e!==null?e:Xt.pooledCache}function uc(e,i){i===null?Ae(ol,ol.current):Ae(ol,i.pool)}function W1(){var e=sf();return e===null?null:{parent:Cn._currentValue,pool:e}}var Kl=Error(d(460)),of=Error(d(474)),fc=Error(d(542)),hc={then:function(){}};function J1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $1(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(si,si),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,th(e),e;default:if(typeof i.status=="string")i.then(si,si);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=i,e.status="pending",e.then(function(f){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=f}},function(f){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,th(e),e}throw ul=i,Kl}}function cl(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ul=s,Kl):s}}var ul=null;function eh(){if(ul===null)throw Error(d(459));var e=ul;return ul=null,e}function th(e){if(e===Kl||e===fc)throw Error(d(483))}var Ql=null,Gs=0;function dc(e){var i=Gs;return Gs+=1,Ql===null&&(Ql=[]),$1(Ql,e,i)}function Vs(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function gc(e,i){throw i.$$typeof===k?Error(d(525)):(e=Object.prototype.toString.call(i),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function nh(e){function i(G,H){if(e){var q=G.deletions;q===null?(G.deletions=[H],G.flags|=16):q.push(H)}}function s(G,H){if(!e)return null;for(;H!==null;)i(G,H),H=H.sibling;return null}function f(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function x(G,H){return G=Ma(G,H),G.index=0,G.sibling=null,G}function _(G,H,q){return G.index=q,e?(q=G.alternate,q!==null?(q=q.index,q<H?(G.flags|=67108866,H):q):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function v(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function I(G,H,q,oe){return H===null||H.tag!==6?(H=Ku(q,G.mode,oe),H.return=G,H):(H=x(H,q),H.return=G,H)}function z(G,H,q,oe){var Ue=q.type;return Ue===re?le(G,H,q.props.children,oe,q.key):H!==null&&(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===pe&&cl(Ue)===H.type)?(H=x(H,q.props),Vs(H,q),H.return=G,H):(H=lc(q.type,q.key,q.props,null,G.mode,oe),Vs(H,q),H.return=G,H)}function K(G,H,q,oe){return H===null||H.tag!==4||H.stateNode.containerInfo!==q.containerInfo||H.stateNode.implementation!==q.implementation?(H=Qu(q,G.mode,oe),H.return=G,H):(H=x(H,q.children||[]),H.return=G,H)}function le(G,H,q,oe,Ue){return H===null||H.tag!==7?(H=al(q,G.mode,oe,Ue),H.return=G,H):(H=x(H,q),H.return=G,H)}function ce(G,H,q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ku(""+H,G.mode,q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return q=lc(H.type,H.key,H.props,null,G.mode,q),Vs(q,H),q.return=G,q;case X:return H=Qu(H,G.mode,q),H.return=G,H;case pe:return H=cl(H),ce(G,H,q)}if(W(H)||Oe(H))return H=al(H,G.mode,q,null),H.return=G,H;if(typeof H.then=="function")return ce(G,dc(H),q);if(H.$$typeof===Q)return ce(G,cc(G,H),q);gc(G,H)}return null}function J(G,H,q,oe){var Ue=H!==null?H.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ue!==null?null:I(G,H,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===Ue?z(G,H,q,oe):null;case X:return q.key===Ue?K(G,H,q,oe):null;case pe:return q=cl(q),J(G,H,q,oe)}if(W(q)||Oe(q))return Ue!==null?null:le(G,H,q,oe,null);if(typeof q.then=="function")return J(G,H,dc(q),oe);if(q.$$typeof===Q)return J(G,H,cc(G,q),oe);gc(G,q)}return null}function ae(G,H,q,oe,Ue){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(q)||null,I(H,G,""+oe,Ue);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case L:return G=G.get(oe.key===null?q:oe.key)||null,z(H,G,oe,Ue);case X:return G=G.get(oe.key===null?q:oe.key)||null,K(H,G,oe,Ue);case pe:return oe=cl(oe),ae(G,H,q,oe,Ue)}if(W(oe)||Oe(oe))return G=G.get(q)||null,le(H,G,oe,Ue,null);if(typeof oe.then=="function")return ae(G,H,q,dc(oe),Ue);if(oe.$$typeof===Q)return ae(G,H,q,cc(H,oe),Ue);gc(H,oe)}return null}function Me(G,H,q,oe){for(var Ue=null,bt=null,ke=H,tt=H=0,mt=null;ke!==null&&tt<q.length;tt++){ke.index>tt?(mt=ke,ke=null):mt=ke.sibling;var Ct=J(G,ke,q[tt],oe);if(Ct===null){ke===null&&(ke=mt);break}e&&ke&&Ct.alternate===null&&i(G,ke),H=_(Ct,H,tt),bt===null?Ue=Ct:bt.sibling=Ct,bt=Ct,ke=mt}if(tt===q.length)return s(G,ke),pt&&Ba(G,tt),Ue;if(ke===null){for(;tt<q.length;tt++)ke=ce(G,q[tt],oe),ke!==null&&(H=_(ke,H,tt),bt===null?Ue=ke:bt.sibling=ke,bt=ke);return pt&&Ba(G,tt),Ue}for(ke=f(ke);tt<q.length;tt++)mt=ae(ke,G,tt,q[tt],oe),mt!==null&&(e&&mt.alternate!==null&&ke.delete(mt.key===null?tt:mt.key),H=_(mt,H,tt),bt===null?Ue=mt:bt.sibling=mt,bt=mt);return e&&ke.forEach(function(Lr){return i(G,Lr)}),pt&&Ba(G,tt),Ue}function Ge(G,H,q,oe){if(q==null)throw Error(d(151));for(var Ue=null,bt=null,ke=H,tt=H=0,mt=null,Ct=q.next();ke!==null&&!Ct.done;tt++,Ct=q.next()){ke.index>tt?(mt=ke,ke=null):mt=ke.sibling;var Lr=J(G,ke,Ct.value,oe);if(Lr===null){ke===null&&(ke=mt);break}e&&ke&&Lr.alternate===null&&i(G,ke),H=_(Lr,H,tt),bt===null?Ue=Lr:bt.sibling=Lr,bt=Lr,ke=mt}if(Ct.done)return s(G,ke),pt&&Ba(G,tt),Ue;if(ke===null){for(;!Ct.done;tt++,Ct=q.next())Ct=ce(G,Ct.value,oe),Ct!==null&&(H=_(Ct,H,tt),bt===null?Ue=Ct:bt.sibling=Ct,bt=Ct);return pt&&Ba(G,tt),Ue}for(ke=f(ke);!Ct.done;tt++,Ct=q.next())Ct=ae(ke,G,tt,Ct.value,oe),Ct!==null&&(e&&Ct.alternate!==null&&ke.delete(Ct.key===null?tt:Ct.key),H=_(Ct,H,tt),bt===null?Ue=Ct:bt.sibling=Ct,bt=Ct);return e&&ke.forEach(function(D3){return i(G,D3)}),pt&&Ba(G,tt),Ue}function Ht(G,H,q,oe){if(typeof q=="object"&&q!==null&&q.type===re&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var Ue=q.key;H!==null;){if(H.key===Ue){if(Ue=q.type,Ue===re){if(H.tag===7){s(G,H.sibling),oe=x(H,q.props.children),oe.return=G,G=oe;break e}}else if(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===pe&&cl(Ue)===H.type){s(G,H.sibling),oe=x(H,q.props),Vs(oe,q),oe.return=G,G=oe;break e}s(G,H);break}else i(G,H);H=H.sibling}q.type===re?(oe=al(q.props.children,G.mode,oe,q.key),oe.return=G,G=oe):(oe=lc(q.type,q.key,q.props,null,G.mode,oe),Vs(oe,q),oe.return=G,G=oe)}return v(G);case X:e:{for(Ue=q.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===q.containerInfo&&H.stateNode.implementation===q.implementation){s(G,H.sibling),oe=x(H,q.children||[]),oe.return=G,G=oe;break e}else{s(G,H);break}else i(G,H);H=H.sibling}oe=Qu(q,G.mode,oe),oe.return=G,G=oe}return v(G);case pe:return q=cl(q),Ht(G,H,q,oe)}if(W(q))return Me(G,H,q,oe);if(Oe(q)){if(Ue=Oe(q),typeof Ue!="function")throw Error(d(150));return q=Ue.call(q),Ge(G,H,q,oe)}if(typeof q.then=="function")return Ht(G,H,dc(q),oe);if(q.$$typeof===Q)return Ht(G,H,cc(G,q),oe);gc(G,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,H!==null&&H.tag===6?(s(G,H.sibling),oe=x(H,q),oe.return=G,G=oe):(s(G,H),oe=Ku(q,G.mode,oe),oe.return=G,G=oe),v(G)):s(G,H)}return function(G,H,q,oe){try{Gs=0;var Ue=Ht(G,H,q,oe);return Ql=null,Ue}catch(ke){if(ke===Kl||ke===fc)throw ke;var bt=Ci(29,ke,null,G.mode);return bt.lanes=oe,bt.return=G,bt}}}var fl=nh(!0),ih=nh(!1),_r=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,i,s){var f=e.updateQueue;if(f===null)return null;if(f=f.shared,(Ot&2)!==0){var x=f.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),f.pending=i,i=rc(e),P1(e,null,s),i}return ac(e,f,i,s),rc(e)}function Xs(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var f=i.lanes;f&=e.pendingLanes,s|=f,i.lanes=s,ha(e,s)}}function ff(e,i){var s=e.updateQueue,f=e.alternate;if(f!==null&&(f=f.updateQueue,s===f)){var x=null,_=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};_===null?x=_=v:_=_.next=v,s=s.next}while(s!==null);_===null?x=_=i:_=_.next=i}else x=_=i;s={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var hf=!1;function js(){if(hf){var e=ql;if(e!==null)throw e}}function Ys(e,i,s,f){hf=!1;var x=e.updateQueue;_r=!1;var _=x.firstBaseUpdate,v=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var z=I,K=z.next;z.next=null,v===null?_=K:v.next=K,v=z;var le=e.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==v&&(I===null?le.firstBaseUpdate=K:I.next=K,le.lastBaseUpdate=z))}if(_!==null){var ce=x.baseState;v=0,le=K=z=null,I=_;do{var J=I.lane&-536870913,ae=J!==I.lane;if(ae?(gt&J)===J:(f&J)===J){J!==0&&J===Yl&&(hf=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Me=e,Ge=I;J=i;var Ht=s;switch(Ge.tag){case 1:if(Me=Ge.payload,typeof Me=="function"){ce=Me.call(Ht,ce,J);break e}ce=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ge.payload,J=typeof Me=="function"?Me.call(Ht,ce,J):Me,J==null)break e;ce=D({},ce,J);break e;case 2:_r=!0}}J=I.callback,J!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=x.callbacks,ae===null?x.callbacks=[J]:ae.push(J))}else ae={lane:J,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(K=le=ae,z=ce):le=le.next=ae,v|=J;if(I=I.next,I===null){if(I=x.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,x.lastBaseUpdate=ae,x.shared.pending=null}}while(!0);le===null&&(z=ce),x.baseState=z,x.firstBaseUpdate=K,x.lastBaseUpdate=le,_===null&&(x.shared.lanes=0),vr|=v,e.lanes=v,e.memoizedState=ce}}function ah(e,i){if(typeof e!="function")throw Error(d(191,e));e.call(i)}function rh(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ah(s[e],i)}var Wl=P(null),mc=P(0);function lh(e,i){e=Xa,Ae(mc,e),Ae(Wl,i),Xa=e|i.baseLanes}function df(){Ae(mc,Xa),Ae(Wl,Wl.current)}function gf(){Xa=mc.current,$(Wl),$(mc)}var Si=P(null),Xi=null;function Ar(e){var i=e.alternate;Ae(pn,pn.current&1),Ae(Si,e),Xi===null&&(i===null||Wl.current!==null||i.memoizedState!==null)&&(Xi=e)}function mf(e){Ae(pn,pn.current),Ae(Si,e),Xi===null&&(Xi=e)}function sh(e){e.tag===22?(Ae(pn,pn.current),Ae(Si,e),Xi===null&&(Xi=e)):br()}function br(){Ae(pn,pn.current),Ae(Si,Si.current)}function vi(e){$(Si),Xi===e&&(Xi=null),$(pn)}var pn=P(0);function xc(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||y0(s)||A0(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var za=0,Je=null,Ft=null,Sn=null,pc=!1,Jl=!1,hl=!1,wc=0,qs=0,$l=null,Ap=0;function un(){throw Error(d(321))}function xf(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!h(e[s],i[s]))return!1;return!0}function pf(e,i,s,f,x,_){return za=_,Je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,te.H=e===null||e.memoizedState===null?Vh:Df,hl=!1,_=s(f,x),hl=!1,Jl&&(_=ch(i,s,f,x)),oh(e),_}function oh(e){te.H=Ws;var i=Ft!==null&&Ft.next!==null;if(za=0,Sn=Ft=Je=null,pc=!1,qs=0,$l=null,i)throw Error(d(300));e===null||vn||(e=e.dependencies,e!==null&&oc(e)&&(vn=!0))}function ch(e,i,s,f){Je=e;var x=0;do{if(Jl&&($l=null),qs=0,Jl=!1,25<=x)throw Error(d(301));if(x+=1,Sn=Ft=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}te.H=Xh,_=i(s,f)}while(Jl);return _}function bp(){var e=te.H,i=e.useState()[0];return i=typeof i.then=="function"?Ks(i):i,e=e.useState()[0],(Ft!==null?Ft.memoizedState:null)!==e&&(Je.flags|=1024),i}function wf(){var e=wc!==0;return wc=0,e}function _f(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Ef(e){if(pc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}pc=!1}za=0,Sn=Ft=Je=null,Jl=!1,qs=wc=0,$l=null}function ni(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Je.memoizedState=Sn=e:Sn=Sn.next=e,Sn}function wn(){if(Ft===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var i=Sn===null?Je.memoizedState:Sn.next;if(i!==null)Sn=i,Ft=e;else{if(e===null)throw Je.alternate===null?Error(d(467)):Error(d(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Sn===null?Je.memoizedState=Sn=e:Sn=Sn.next=e}return Sn}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ks(e){var i=qs;return qs+=1,$l===null&&($l=[]),e=$1($l,e,i),i=Je,(Sn===null?i.memoizedState:Sn.next)===null&&(i=i.alternate,te.H=i===null||i.memoizedState===null?Vh:Df),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ks(e);if(e.$$typeof===Q)return Zn(e)}throw Error(d(438,String(e)))}function yf(e){var i=null,s=Je.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var f=Je.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=_c(),Je.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),f=0;f<e;f++)s[f]=Ne;return i.index++,s}function Ua(e,i){return typeof i=="function"?i(e):i}function yc(e){var i=wn();return Af(i,Ft,e)}function Af(e,i,s){var f=e.queue;if(f===null)throw Error(d(311));f.lastRenderedReducer=s;var x=e.baseQueue,_=f.pending;if(_!==null){if(x!==null){var v=x.next;x.next=_.next,_.next=v}i.baseQueue=x=_,f.pending=null}if(_=e.baseState,x===null)e.memoizedState=_;else{i=x.next;var I=v=null,z=null,K=i,le=!1;do{var ce=K.lane&-536870913;if(ce!==K.lane?(gt&ce)===ce:(za&ce)===ce){var J=K.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ce===Yl&&(le=!0);else if((za&J)===J){K=K.next,J===Yl&&(le=!0);continue}else ce={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(I=z=ce,v=_):z=z.next=ce,Je.lanes|=J,vr|=J;ce=K.action,hl&&s(_,ce),_=K.hasEagerState?K.eagerState:s(_,ce)}else J={lane:ce,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},z===null?(I=z=J,v=_):z=z.next=J,Je.lanes|=ce,vr|=ce;K=K.next}while(K!==null&&K!==i);if(z===null?v=_:z.next=I,!h(_,e.memoizedState)&&(vn=!0,le&&(s=ql,s!==null)))throw s;e.memoizedState=_,e.baseState=v,e.baseQueue=z,f.lastRenderedState=_}return x===null&&(f.lanes=0),[e.memoizedState,f.dispatch]}function bf(e){var i=wn(),s=i.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=e;var f=s.dispatch,x=s.pending,_=i.memoizedState;if(x!==null){s.pending=null;var v=x=x.next;do _=e(_,v.action),v=v.next;while(v!==x);h(_,i.memoizedState)||(vn=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),s.lastRenderedState=_}return[_,f]}function uh(e,i,s){var f=Je,x=wn(),_=pt;if(_){if(s===void 0)throw Error(d(407));s=s()}else s=i();var v=!h((Ft||x).memoizedState,s);if(v&&(x.memoizedState=s,vn=!0),x=x.queue,vf(dh.bind(null,f,x,e),[e]),x.getSnapshot!==i||v||Sn!==null&&Sn.memoizedState.tag&1){if(f.flags|=2048,es(9,{destroy:void 0},hh.bind(null,f,x,s,i),null),Xt===null)throw Error(d(349));_||(za&127)!==0||fh(f,i,s)}return s}function fh(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=Je.updateQueue,i===null?(i=_c(),Je.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function hh(e,i,s,f){i.value=s,i.getSnapshot=f,gh(i)&&mh(e)}function dh(e,i,s){return s(function(){gh(i)&&mh(e)})}function gh(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!h(e,s)}catch{return!0}}function mh(e){var i=il(e,2);i!==null&&gi(i,e,2)}function Cf(e){var i=ni();if(typeof e=="function"){var s=e;if(e=s(),hl){Rt(!0);try{s()}finally{Rt(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},i}function xh(e,i,s,f){return e.baseState=s,Af(e,Ft,typeof f=="function"?f:Ua)}function Cp(e,i,s,f,x){if(Cc(e))throw Error(d(485));if(e=i.action,e!==null){var _={payload:x,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){_.listeners.push(v)}};te.T!==null?s(!0):_.isTransition=!1,f(_),s=i.pending,s===null?(_.next=i.pending=_,ph(i,_)):(_.next=s.next,i.pending=s.next=_)}}function ph(e,i){var s=i.action,f=i.payload,x=e.state;if(i.isTransition){var _=te.T,v={};te.T=v;try{var I=s(x,f),z=te.S;z!==null&&z(v,I),wh(e,i,I)}catch(K){Sf(e,i,K)}finally{_!==null&&v.types!==null&&(_.types=v.types),te.T=_}}else try{_=s(x,f),wh(e,i,_)}catch(K){Sf(e,i,K)}}function wh(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(f){_h(e,i,f)},function(f){return Sf(e,i,f)}):_h(e,i,s)}function _h(e,i,s){i.status="fulfilled",i.value=s,Eh(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,ph(e,s)))}function Sf(e,i,s){var f=e.pending;if(e.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=s,Eh(i),i=i.next;while(i!==f)}e.action=null}function Eh(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function yh(e,i){return i}function Ah(e,i){if(pt){var s=Xt.formState;if(s!==null){e:{var f=Je;if(pt){if(Kt){t:{for(var x=Kt,_=Vi;x.nodeType!==8;){if(!_){x=null;break t}if(x=ji(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){Kt=ji(x.nextSibling),f=x.data==="F!";break e}}pr(f)}f=!1}f&&(i=s[0])}}return s=ni(),s.memoizedState=s.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:i},s.queue=f,s=Hh.bind(null,Je,f),f.dispatch=s,f=Cf(!1),_=If.bind(null,Je,!1,f.queue),f=ni(),x={state:i,dispatch:null,action:e,pending:null},f.queue=x,s=Cp.bind(null,Je,x,_,s),x.dispatch=s,f.memoizedState=e,[i,s,!1]}function bh(e){var i=wn();return Ch(i,Ft,e)}function Ch(e,i,s){if(i=Af(e,i,yh)[0],e=yc(Ua)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Ks(i)}catch(v){throw v===Kl?fc:v}else f=i;i=wn();var x=i.queue,_=x.dispatch;return s!==i.memoizedState&&(Je.flags|=2048,es(9,{destroy:void 0},Sp.bind(null,x,s),null)),[f,_,e]}function Sp(e,i){e.action=i}function Sh(e){var i=wn(),s=Ft;if(s!==null)return Ch(i,s,e);wn(),i=i.memoizedState,s=wn();var f=s.queue.dispatch;return s.memoizedState=e,[i,f,!1]}function es(e,i,s,f){return e={tag:e,create:s,deps:f,inst:i,next:null},i=Je.updateQueue,i===null&&(i=_c(),Je.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(f=s.next,s.next=e,e.next=f,i.lastEffect=e),e}function vh(){return wn().memoizedState}function Ac(e,i,s,f){var x=ni();Je.flags|=e,x.memoizedState=es(1|i,{destroy:void 0},s,f===void 0?null:f)}function bc(e,i,s,f){var x=wn();f=f===void 0?null:f;var _=x.memoizedState.inst;Ft!==null&&f!==null&&xf(f,Ft.memoizedState.deps)?x.memoizedState=es(i,_,s,f):(Je.flags|=e,x.memoizedState=es(1|i,_,s,f))}function Th(e,i){Ac(8390656,8,e,i)}function vf(e,i){bc(2048,8,e,i)}function vp(e){Je.flags|=4;var i=Je.updateQueue;if(i===null)i=_c(),Je.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function Oh(e){var i=wn().memoizedState;return vp({ref:i,nextImpl:e}),function(){if((Ot&2)!==0)throw Error(d(440));return i.impl.apply(void 0,arguments)}}function Nh(e,i){return bc(4,2,e,i)}function Rh(e,i){return bc(4,4,e,i)}function Ih(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Dh(e,i,s){s=s!=null?s.concat([e]):null,bc(4,4,Ih.bind(null,i,e),s)}function Tf(){}function Mh(e,i){var s=wn();i=i===void 0?null:i;var f=s.memoizedState;return i!==null&&xf(i,f[1])?f[0]:(s.memoizedState=[e,i],e)}function Bh(e,i){var s=wn();i=i===void 0?null:i;var f=s.memoizedState;if(i!==null&&xf(i,f[1]))return f[0];if(f=e(),hl){Rt(!0);try{e()}finally{Rt(!1)}}return s.memoizedState=[f,i],f}function Of(e,i,s){return s===void 0||(za&1073741824)!==0&&(gt&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=kd(),Je.lanes|=e,vr|=e,s)}function kh(e,i,s,f){return h(s,i)?s:Wl.current!==null?(e=Of(e,s,f),h(e,i)||(vn=!0),e):(za&42)===0||(za&1073741824)!==0&&(gt&261930)===0?(vn=!0,e.memoizedState=s):(e=kd(),Je.lanes|=e,vr|=e,i)}function Lh(e,i,s,f,x){var _=se.p;se.p=_!==0&&8>_?_:8;var v=te.T,I={};te.T=I,If(e,!1,i,s);try{var z=x(),K=te.S;if(K!==null&&K(I,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var le=yp(z,f);Qs(e,i,le,Ni(e))}else Qs(e,i,f,Ni(e))}catch(ce){Qs(e,i,{then:function(){},status:"rejected",reason:ce},Ni())}finally{se.p=_,v!==null&&I.types!==null&&(v.types=I.types),te.T=v}}function Tp(){}function Nf(e,i,s,f){if(e.tag!==5)throw Error(d(476));var x=zh(e).queue;Lh(e,x,i,Le,s===null?Tp:function(){return Uh(e),s(f)})}function zh(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Le,baseState:Le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:Le},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Uh(e){var i=zh(e);i.next===null&&(i=e.alternate.memoizedState),Qs(e,i.next.queue,{},Ni())}function Rf(){return Zn(go)}function Fh(){return wn().memoizedState}function Ph(){return wn().memoizedState}function Op(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ni();e=Er(s);var f=yr(i,e,s);f!==null&&(gi(f,i,s),Xs(f,i,s)),i={cache:rf()},e.payload=i;return}i=i.return}}function Np(e,i,s){var f=Ni();s={lane:f,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Cc(e)?Zh(i,s):(s=Yu(e,i,s,f),s!==null&&(gi(s,e,f),Gh(s,i,f)))}function Hh(e,i,s){var f=Ni();Qs(e,i,s,f)}function Qs(e,i,s,f){var x={lane:f,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Cc(e))Zh(i,x);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var v=i.lastRenderedState,I=_(v,s);if(x.hasEagerState=!0,x.eagerState=I,h(I,v))return ac(e,i,x,0),Xt===null&&ic(),!1}catch{}if(s=Yu(e,i,x,f),s!==null)return gi(s,e,f),Gh(s,i,f),!0}return!1}function If(e,i,s,f){if(f={lane:2,revertLane:c0(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Cc(e)){if(i)throw Error(d(479))}else i=Yu(e,s,f,2),i!==null&&gi(i,e,2)}function Cc(e){var i=e.alternate;return e===Je||i!==null&&i===Je}function Zh(e,i){Jl=pc=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Gh(e,i,s){if((s&4194048)!==0){var f=i.lanes;f&=e.pendingLanes,s|=f,i.lanes=s,ha(e,s)}}var Ws={readContext:Zn,use:Ec,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};Ws.useEffectEvent=un;var Vh={readContext:Zn,use:Ec,useCallback:function(e,i){return ni().memoizedState=[e,i===void 0?null:i],e},useContext:Zn,useEffect:Th,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Ac(4194308,4,Ih.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Ac(4194308,4,e,i)},useInsertionEffect:function(e,i){Ac(4,2,e,i)},useMemo:function(e,i){var s=ni();i=i===void 0?null:i;var f=e();if(hl){Rt(!0);try{e()}finally{Rt(!1)}}return s.memoizedState=[f,i],f},useReducer:function(e,i,s){var f=ni();if(s!==void 0){var x=s(i);if(hl){Rt(!0);try{s(i)}finally{Rt(!1)}}}else x=i;return f.memoizedState=f.baseState=x,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:x},f.queue=e,e=e.dispatch=Np.bind(null,Je,e),[f.memoizedState,e]},useRef:function(e){var i=ni();return e={current:e},i.memoizedState=e},useState:function(e){e=Cf(e);var i=e.queue,s=Hh.bind(null,Je,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,i){var s=ni();return Of(s,e,i)},useTransition:function(){var e=Cf(!1);return e=Lh.bind(null,Je,e.queue,!0,!1),ni().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var f=Je,x=ni();if(pt){if(s===void 0)throw Error(d(407));s=s()}else{if(s=i(),Xt===null)throw Error(d(349));(gt&127)!==0||fh(f,i,s)}x.memoizedState=s;var _={value:s,getSnapshot:i};return x.queue=_,Th(dh.bind(null,f,_,e),[e]),f.flags|=2048,es(9,{destroy:void 0},hh.bind(null,f,_,s,i),null),s},useId:function(){var e=ni(),i=Xt.identifierPrefix;if(pt){var s=wa,f=pa;s=(f&~(1<<32-$e(f)-1)).toString(32)+s,i="_"+i+"R_"+s,s=wc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=Ap++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Rf,useFormState:Ah,useActionState:Ah,useOptimistic:function(e){var i=ni();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=If.bind(null,Je,!0,s),s.dispatch=i,[e,i]},useMemoCache:yf,useCacheRefresh:function(){return ni().memoizedState=Op.bind(null,Je)},useEffectEvent:function(e){var i=ni(),s={impl:e};return i.memoizedState=s,function(){if((Ot&2)!==0)throw Error(d(440));return s.impl.apply(void 0,arguments)}}},Df={readContext:Zn,use:Ec,useCallback:Mh,useContext:Zn,useEffect:vf,useImperativeHandle:Dh,useInsertionEffect:Nh,useLayoutEffect:Rh,useMemo:Bh,useReducer:yc,useRef:vh,useState:function(){return yc(Ua)},useDebugValue:Tf,useDeferredValue:function(e,i){var s=wn();return kh(s,Ft.memoizedState,e,i)},useTransition:function(){var e=yc(Ua)[0],i=wn().memoizedState;return[typeof e=="boolean"?e:Ks(e),i]},useSyncExternalStore:uh,useId:Fh,useHostTransitionStatus:Rf,useFormState:bh,useActionState:bh,useOptimistic:function(e,i){var s=wn();return xh(s,Ft,e,i)},useMemoCache:yf,useCacheRefresh:Ph};Df.useEffectEvent=Oh;var Xh={readContext:Zn,use:Ec,useCallback:Mh,useContext:Zn,useEffect:vf,useImperativeHandle:Dh,useInsertionEffect:Nh,useLayoutEffect:Rh,useMemo:Bh,useReducer:bf,useRef:vh,useState:function(){return bf(Ua)},useDebugValue:Tf,useDeferredValue:function(e,i){var s=wn();return Ft===null?Of(s,e,i):kh(s,Ft.memoizedState,e,i)},useTransition:function(){var e=bf(Ua)[0],i=wn().memoizedState;return[typeof e=="boolean"?e:Ks(e),i]},useSyncExternalStore:uh,useId:Fh,useHostTransitionStatus:Rf,useFormState:Sh,useActionState:Sh,useOptimistic:function(e,i){var s=wn();return Ft!==null?xh(s,Ft,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Ph};Xh.useEffectEvent=Oh;function Mf(e,i,s,f){i=e.memoizedState,s=s(f,i),s=s==null?i:D({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Bf={enqueueSetState:function(e,i,s){e=e._reactInternals;var f=Ni(),x=Er(f);x.payload=i,s!=null&&(x.callback=s),i=yr(e,x,f),i!==null&&(gi(i,e,f),Xs(i,e,f))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var f=Ni(),x=Er(f);x.tag=1,x.payload=i,s!=null&&(x.callback=s),i=yr(e,x,f),i!==null&&(gi(i,e,f),Xs(i,e,f))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Ni(),f=Er(s);f.tag=2,i!=null&&(f.callback=i),i=yr(e,f,s),i!==null&&(gi(i,e,s),Xs(i,e,s))}};function jh(e,i,s,f,x,_,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(f,_,v):i.prototype&&i.prototype.isPureReactComponent?!g(s,f)||!g(x,_):!0}function Yh(e,i,s,f){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,f),i.state!==e&&Bf.enqueueReplaceState(i,i.state,null)}function dl(e,i){var s=i;if("ref"in i){s={};for(var f in i)f!=="ref"&&(s[f]=i[f])}if(e=e.defaultProps){s===i&&(s=D({},s));for(var x in e)s[x]===void 0&&(s[x]=e[x])}return s}function qh(e){nc(e)}function Kh(e){console.error(e)}function Qh(e){nc(e)}function Sc(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function Wh(e,i,s){try{var f=e.onCaughtError;f(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function kf(e,i,s){return s=Er(s),s.tag=3,s.payload={element:null},s.callback=function(){Sc(e,i)},s}function Jh(e){return e=Er(e),e.tag=3,e}function $h(e,i,s,f){var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var _=f.value;e.payload=function(){return x(_)},e.callback=function(){Wh(i,s,f)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Wh(i,s,f),typeof x!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function Rp(e,i,s,f,x){if(s.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=s.alternate,i!==null&&jl(i,s,x,!0),s=Si.current,s!==null){switch(s.tag){case 31:case 13:return Xi===null?zc():s.alternate===null&&fn===0&&(fn=3),s.flags&=-257,s.flags|=65536,s.lanes=x,f===hc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([f]):i.add(f),l0(e,f,x)),!1;case 22:return s.flags|=65536,f===hc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([f]):s.add(f)),l0(e,f,x)),!1}throw Error(d(435,s.tag))}return l0(e,f,x),zc(),!1}if(pt)return i=Si.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,f!==$u&&(e=Error(d(422),{cause:f}),Ps(Hi(e,s)))):(f!==$u&&(i=Error(d(423),{cause:f}),Ps(Hi(i,s))),e=e.current.alternate,e.flags|=65536,x&=-x,e.lanes|=x,f=Hi(f,s),x=kf(e.stateNode,f,x),ff(e,x),fn!==4&&(fn=2)),!1;var _=Error(d(520),{cause:f});if(_=Hi(_,s),ro===null?ro=[_]:ro.push(_),fn!==4&&(fn=2),i===null)return!0;f=Hi(f,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=x&-x,s.lanes|=e,e=kf(s.stateNode,f,e),ff(s,e),!1;case 1:if(i=s.type,_=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Tr===null||!Tr.has(_))))return s.flags|=65536,x&=-x,s.lanes|=x,x=Jh(x),$h(x,e,s,f),ff(s,x),!1}s=s.return}while(s!==null);return!1}var Lf=Error(d(461)),vn=!1;function Gn(e,i,s,f){i.child=e===null?ih(i,null,s,f):fl(i,e.child,s,f)}function ed(e,i,s,f,x){s=s.render;var _=i.ref;if("ref"in f){var v={};for(var I in f)I!=="ref"&&(v[I]=f[I])}else v=f;return sl(i),f=pf(e,i,s,v,_,x),I=wf(),e!==null&&!vn?(_f(e,i,x),Fa(e,i,x)):(pt&&I&&Wu(i),i.flags|=1,Gn(e,i,f,x),i.child)}function td(e,i,s,f,x){if(e===null){var _=s.type;return typeof _=="function"&&!qu(_)&&_.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=_,nd(e,i,_,f,x)):(e=lc(s.type,null,f,i,i.mode,x),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!Vf(e,x)){var v=_.memoizedProps;if(s=s.compare,s=s!==null?s:g,s(v,f)&&e.ref===i.ref)return Fa(e,i,x)}return i.flags|=1,e=Ma(_,f),e.ref=i.ref,e.return=i,i.child=e}function nd(e,i,s,f,x){if(e!==null){var _=e.memoizedProps;if(g(_,f)&&e.ref===i.ref)if(vn=!1,i.pendingProps=f=_,Vf(e,x))(e.flags&131072)!==0&&(vn=!0);else return i.lanes=e.lanes,Fa(e,i,x)}return zf(e,i,s,f,x)}function id(e,i,s,f){var x=f.children,_=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((i.flags&128)!==0){if(_=_!==null?_.baseLanes|s:s,e!==null){for(f=i.child=e.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;f=x&~_}else f=0,i.child=null;return ad(e,i,_,s,f)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(i,_!==null?_.cachePool:null),_!==null?lh(i,_):df(),sh(i);else return f=i.lanes=536870912,ad(e,i,_!==null?_.baseLanes|s:s,s,f)}else _!==null?(uc(i,_.cachePool),lh(i,_),br(),i.memoizedState=null):(e!==null&&uc(i,null),df(),br());return Gn(e,i,x,s),i.child}function Js(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ad(e,i,s,f,x){var _=sf();return _=_===null?null:{parent:Cn._currentValue,pool:_},i.memoizedState={baseLanes:s,cachePool:_},e!==null&&uc(i,null),df(),sh(i),e!==null&&jl(e,i,f,!0),i.childLanes=x,null}function vc(e,i){return i=Oc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function rd(e,i,s){return fl(i,e.child,null,s),e=vc(i,i.pendingProps),e.flags|=2,vi(i),i.memoizedState=null,e}function Ip(e,i,s){var f=i.pendingProps,x=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(pt){if(f.mode==="hidden")return e=vc(i,f),i.lanes=536870912,Js(null,e);if(mf(i),(e=Kt)?(e=p2(e,Vi),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:mr!==null?{id:pa,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},s=Z1(e),s.return=i,i.child=s,Hn=i,Kt=null)):e=null,e===null)throw pr(i);return i.lanes=536870912,null}return vc(i,f)}var _=e.memoizedState;if(_!==null){var v=_.dehydrated;if(mf(i),x)if(i.flags&256)i.flags&=-257,i=rd(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(d(558));else if(vn||jl(e,i,s,!1),x=(s&e.childLanes)!==0,vn||x){if(f=Xt,f!==null&&(v=Rl(f,s),v!==0&&v!==_.retryLane))throw _.retryLane=v,il(e,v),gi(f,e,v),Lf;zc(),i=rd(e,i,s)}else e=_.treeContext,Kt=ji(v.nextSibling),Hn=i,pt=!0,xr=null,Vi=!1,e!==null&&X1(i,e),i=vc(i,f),i.flags|=4096;return i}return e=Ma(e.child,{mode:f.mode,children:f.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Tc(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(d(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function zf(e,i,s,f,x){return sl(i),s=pf(e,i,s,f,void 0,x),f=wf(),e!==null&&!vn?(_f(e,i,x),Fa(e,i,x)):(pt&&f&&Wu(i),i.flags|=1,Gn(e,i,s,x),i.child)}function ld(e,i,s,f,x,_){return sl(i),i.updateQueue=null,s=ch(i,f,s,x),oh(e),f=wf(),e!==null&&!vn?(_f(e,i,_),Fa(e,i,_)):(pt&&f&&Wu(i),i.flags|=1,Gn(e,i,s,_),i.child)}function sd(e,i,s,f,x){if(sl(i),i.stateNode===null){var _=Zl,v=s.contextType;typeof v=="object"&&v!==null&&(_=Zn(v)),_=new s(f,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Bf,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=f,_.state=i.memoizedState,_.refs={},cf(i),v=s.contextType,_.context=typeof v=="object"&&v!==null?Zn(v):Zl,_.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Mf(i,s,v,f),_.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(v=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),v!==_.state&&Bf.enqueueReplaceState(_,_.state,null),Ys(i,f,_,x),js(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(e===null){_=i.stateNode;var I=i.memoizedProps,z=dl(s,I);_.props=z;var K=_.context,le=s.contextType;v=Zl,typeof le=="object"&&le!==null&&(v=Zn(le));var ce=s.getDerivedStateFromProps;le=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=i.pendingProps!==I,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||K!==v)&&Yh(i,_,f,v),_r=!1;var J=i.memoizedState;_.state=J,Ys(i,f,_,x),js(),K=i.memoizedState,I||J!==K||_r?(typeof ce=="function"&&(Mf(i,s,ce,f),K=i.memoizedState),(z=_r||jh(i,s,z,f,J,K,v))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=K),_.props=f,_.state=K,_.context=v,f=z):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{_=i.stateNode,uf(e,i),v=i.memoizedProps,le=dl(s,v),_.props=le,ce=i.pendingProps,J=_.context,K=s.contextType,z=Zl,typeof K=="object"&&K!==null&&(z=Zn(K)),I=s.getDerivedStateFromProps,(K=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(v!==ce||J!==z)&&Yh(i,_,f,z),_r=!1,J=i.memoizedState,_.state=J,Ys(i,f,_,x),js();var ae=i.memoizedState;v!==ce||J!==ae||_r||e!==null&&e.dependencies!==null&&oc(e.dependencies)?(typeof I=="function"&&(Mf(i,s,I,f),ae=i.memoizedState),(le=_r||jh(i,s,le,f,J,ae,z)||e!==null&&e.dependencies!==null&&oc(e.dependencies))?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,ae,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,ae,z)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||v===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=ae),_.props=f,_.state=ae,_.context=z,f=le):(typeof _.componentDidUpdate!="function"||v===e.memoizedProps&&J===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&J===e.memoizedState||(i.flags|=1024),f=!1)}return _=f,Tc(e,i),f=(i.flags&128)!==0,_||f?(_=i.stateNode,s=f&&typeof s.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&f?(i.child=fl(i,e.child,null,x),i.child=fl(i,null,s,x)):Gn(e,i,s,x),i.memoizedState=_.state,e=i.child):e=Fa(e,i,x),e}function od(e,i,s,f){return rl(),i.flags|=256,Gn(e,i,s,f),i.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:W1()}}function Pf(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Oi),e}function cd(e,i,s){var f=i.pendingProps,x=!1,_=(i.flags&128)!==0,v;if((v=_)||(v=e!==null&&e.memoizedState===null?!1:(pn.current&2)!==0),v&&(x=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(pt){if(x?Ar(i):br(),(e=Kt)?(e=p2(e,Vi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:mr!==null?{id:pa,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},s=Z1(e),s.return=i,i.child=s,Hn=i,Kt=null)):e=null,e===null)throw pr(i);return A0(e)?i.lanes=32:i.lanes=536870912,null}var I=f.children;return f=f.fallback,x?(br(),x=i.mode,I=Oc({mode:"hidden",children:I},x),f=al(f,x,s,null),I.return=i,f.return=i,I.sibling=f,i.child=I,f=i.child,f.memoizedState=Ff(s),f.childLanes=Pf(e,v,s),i.memoizedState=Uf,Js(null,f)):(Ar(i),Hf(i,I))}var z=e.memoizedState;if(z!==null&&(I=z.dehydrated,I!==null)){if(_)i.flags&256?(Ar(i),i.flags&=-257,i=Zf(e,i,s)):i.memoizedState!==null?(br(),i.child=e.child,i.flags|=128,i=null):(br(),I=f.fallback,x=i.mode,f=Oc({mode:"visible",children:f.children},x),I=al(I,x,s,null),I.flags|=2,f.return=i,I.return=i,f.sibling=I,i.child=f,fl(i,e.child,null,s),f=i.child,f.memoizedState=Ff(s),f.childLanes=Pf(e,v,s),i.memoizedState=Uf,i=Js(null,f));else if(Ar(i),A0(I)){if(v=I.nextSibling&&I.nextSibling.dataset,v)var K=v.dgst;v=K,f=Error(d(419)),f.stack="",f.digest=v,Ps({value:f,source:null,stack:null}),i=Zf(e,i,s)}else if(vn||jl(e,i,s,!1),v=(s&e.childLanes)!==0,vn||v){if(v=Xt,v!==null&&(f=Rl(v,s),f!==0&&f!==z.retryLane))throw z.retryLane=f,il(e,f),gi(v,e,f),Lf;y0(I)||zc(),i=Zf(e,i,s)}else y0(I)?(i.flags|=192,i.child=e.child,i=null):(e=z.treeContext,Kt=ji(I.nextSibling),Hn=i,pt=!0,xr=null,Vi=!1,e!==null&&X1(i,e),i=Hf(i,f.children),i.flags|=4096);return i}return x?(br(),I=f.fallback,x=i.mode,z=e.child,K=z.sibling,f=Ma(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,K!==null?I=Ma(K,I):(I=al(I,x,s,null),I.flags|=2),I.return=i,f.return=i,f.sibling=I,i.child=f,Js(null,f),f=i.child,I=e.child.memoizedState,I===null?I=Ff(s):(x=I.cachePool,x!==null?(z=Cn._currentValue,x=x.parent!==z?{parent:z,pool:z}:x):x=W1(),I={baseLanes:I.baseLanes|s,cachePool:x}),f.memoizedState=I,f.childLanes=Pf(e,v,s),i.memoizedState=Uf,Js(e.child,f)):(Ar(i),s=e.child,e=s.sibling,s=Ma(s,{mode:"visible",children:f.children}),s.return=i,s.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=s,i.memoizedState=null,s)}function Hf(e,i){return i=Oc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Oc(e,i){return e=Ci(22,e,null,i),e.lanes=0,e}function Zf(e,i,s){return fl(i,e.child,null,s),e=Hf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ud(e,i,s){e.lanes|=i;var f=e.alternate;f!==null&&(f.lanes|=i),nf(e.return,i,s)}function Gf(e,i,s,f,x,_){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:s,tailMode:x,treeForkCount:_}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=s,v.tailMode=x,v.treeForkCount=_)}function fd(e,i,s){var f=i.pendingProps,x=f.revealOrder,_=f.tail;f=f.children;var v=pn.current,I=(v&2)!==0;if(I?(v=v&1|2,i.flags|=128):v&=1,Ae(pn,v),Gn(e,i,f,s),f=pt?Fs:0,!I&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,s,i);else if(e.tag===19)ud(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(x){case"forwards":for(s=i.child,x=null;s!==null;)e=s.alternate,e!==null&&xc(e)===null&&(x=s),s=s.sibling;s=x,s===null?(x=i.child,i.child=null):(x=s.sibling,s.sibling=null),Gf(i,!1,x,s,_,f);break;case"backwards":case"unstable_legacy-backwards":for(s=null,x=i.child,i.child=null;x!==null;){if(e=x.alternate,e!==null&&xc(e)===null){i.child=x;break}e=x.sibling,x.sibling=s,s=x,x=e}Gf(i,!0,s,null,_,f);break;case"together":Gf(i,!1,null,null,void 0,f);break;default:i.memoizedState=null}return i.child}function Fa(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),vr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(jl(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(d(153));if(i.child!==null){for(e=i.child,s=Ma(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=Ma(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Vf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&oc(e)))}function Dp(e,i,s){switch(i.tag){case 3:rt(i,i.stateNode.containerInfo),wr(i,Cn,e.memoizedState.cache),rl();break;case 27:case 5:pi(i);break;case 4:rt(i,i.stateNode.containerInfo);break;case 10:wr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,mf(i),null;break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(Ar(i),i.flags|=128,null):(s&i.child.childLanes)!==0?cd(e,i,s):(Ar(i),e=Fa(e,i,s),e!==null?e.sibling:null);Ar(i);break;case 19:var x=(e.flags&128)!==0;if(f=(s&i.childLanes)!==0,f||(jl(e,i,s,!1),f=(s&i.childLanes)!==0),x){if(f)return fd(e,i,s);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ae(pn,pn.current),f)break;return null;case 22:return i.lanes=0,id(e,i,s,i.pendingProps);case 24:wr(i,Cn,e.memoizedState.cache)}return Fa(e,i,s)}function hd(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)vn=!0;else{if(!Vf(e,s)&&(i.flags&128)===0)return vn=!1,Dp(e,i,s);vn=(e.flags&131072)!==0}else vn=!1,pt&&(i.flags&1048576)!==0&&V1(i,Fs,i.index);switch(i.lanes=0,i.tag){case 16:e:{var f=i.pendingProps;if(e=cl(i.elementType),i.type=e,typeof e=="function")qu(e)?(f=dl(e,f),i.tag=1,i=sd(null,i,e,f,s)):(i.tag=0,i=zf(null,i,e,f,s));else{if(e!=null){var x=e.$$typeof;if(x===Y){i.tag=11,i=ed(null,i,e,f,s);break e}else if(x===Z){i.tag=14,i=td(null,i,e,f,s);break e}}throw i=qe(e)||e,Error(d(306,i,""))}}return i;case 0:return zf(e,i,i.type,i.pendingProps,s);case 1:return f=i.type,x=dl(f,i.pendingProps),sd(e,i,f,x,s);case 3:e:{if(rt(i,i.stateNode.containerInfo),e===null)throw Error(d(387));f=i.pendingProps;var _=i.memoizedState;x=_.element,uf(e,i),Ys(i,f,null,s);var v=i.memoizedState;if(f=v.cache,wr(i,Cn,f),f!==_.cache&&af(i,[Cn],s,!0),js(),f=v.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=od(e,i,f,s);break e}else if(f!==x){x=Hi(Error(d(424)),i),Ps(x),i=od(e,i,f,s);break e}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Kt=ji(e.firstChild),Hn=i,pt=!0,xr=null,Vi=!0,s=ih(i,null,f,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(rl(),f===x){i=Fa(e,i,s);break e}Gn(e,i,f,s)}i=i.child}return i;case 26:return Tc(e,i),e===null?(s=b2(i.type,null,i.pendingProps,null))?i.memoizedState=s:pt||(s=i.type,e=i.pendingProps,f=Vc(_e.current).createElement(s),f[gn]=i,f[Bt]=e,Vn(f,s,e),on(f),i.stateNode=f):i.memoizedState=b2(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return pi(i),e===null&&pt&&(f=i.stateNode=E2(i.type,i.pendingProps,_e.current),Hn=i,Vi=!0,x=Kt,Ir(i.type)?(b0=x,Kt=ji(f.firstChild)):Kt=x),Gn(e,i,i.pendingProps.children,s),Tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&pt&&((x=f=Kt)&&(f=o3(f,i.type,i.pendingProps,Vi),f!==null?(i.stateNode=f,Hn=i,Kt=ji(f.firstChild),Vi=!1,x=!0):x=!1),x||pr(i)),pi(i),x=i.type,_=i.pendingProps,v=e!==null?e.memoizedProps:null,f=_.children,w0(x,_)?f=null:v!==null&&w0(x,v)&&(i.flags|=32),i.memoizedState!==null&&(x=pf(e,i,bp,null,null,s),go._currentValue=x),Tc(e,i),Gn(e,i,f,s),i.child;case 6:return e===null&&pt&&((e=s=Kt)&&(s=c3(s,i.pendingProps,Vi),s!==null?(i.stateNode=s,Hn=i,Kt=null,e=!0):e=!1),e||pr(i)),null;case 13:return cd(e,i,s);case 4:return rt(i,i.stateNode.containerInfo),f=i.pendingProps,e===null?i.child=fl(i,null,f,s):Gn(e,i,f,s),i.child;case 11:return ed(e,i,i.type,i.pendingProps,s);case 7:return Gn(e,i,i.pendingProps,s),i.child;case 8:return Gn(e,i,i.pendingProps.children,s),i.child;case 12:return Gn(e,i,i.pendingProps.children,s),i.child;case 10:return f=i.pendingProps,wr(i,i.type,f.value),Gn(e,i,f.children,s),i.child;case 9:return x=i.type._context,f=i.pendingProps.children,sl(i),x=Zn(x),f=f(x),i.flags|=1,Gn(e,i,f,s),i.child;case 14:return td(e,i,i.type,i.pendingProps,s);case 15:return nd(e,i,i.type,i.pendingProps,s);case 19:return fd(e,i,s);case 31:return Ip(e,i,s);case 22:return id(e,i,s,i.pendingProps);case 24:return sl(i),f=Zn(Cn),e===null?(x=sf(),x===null&&(x=Xt,_=rf(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=s),x=_),i.memoizedState={parent:f,cache:x},cf(i),wr(i,Cn,x)):((e.lanes&s)!==0&&(uf(e,i),Ys(i,null,null,s),js()),x=e.memoizedState,_=i.memoizedState,x.parent!==f?(x={parent:f,cache:f},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),wr(i,Cn,f)):(f=_.cache,wr(i,Cn,f),f!==x.cache&&af(i,[Cn],s,!0))),Gn(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(d(156,i.tag))}function Pa(e){e.flags|=4}function Xf(e,i,s,f,x){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(x&335544128)===x)if(e.stateNode.complete)e.flags|=8192;else if(Fd())e.flags|=8192;else throw ul=hc,of}else e.flags&=-16777217}function dd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!O2(i))if(Fd())e.flags|=8192;else throw ul=hc,of}function Nc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?On():536870912,e.lanes|=i,as|=i)}function $s(e,i){if(!pt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:f.sibling=null}}function Qt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,f=0;if(i)for(var x=e.child;x!==null;)s|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=e,x=x.sibling;else for(x=e.child;x!==null;)s|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=e,x=x.sibling;return e.subtreeFlags|=f,e.childLanes=s,i}function Mp(e,i,s){var f=i.pendingProps;switch(Ju(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(i),null;case 1:return Qt(i),null;case 3:return s=i.stateNode,f=null,e!==null&&(f=e.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),La(Cn),St(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Xl(i)?Pa(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ef())),Qt(i),null;case 26:var x=i.type,_=i.memoizedState;return e===null?(Pa(i),_!==null?(Qt(i),dd(i,_)):(Qt(i),Xf(i,x,null,f,s))):_?_!==e.memoizedState?(Pa(i),Qt(i),dd(i,_)):(Qt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==f&&Pa(i),Qt(i),Xf(i,x,e,f,s)),null;case 27:if(rn(i),s=_e.current,x=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==f&&Pa(i);else{if(!f){if(i.stateNode===null)throw Error(d(166));return Qt(i),null}e=Se.current,Xl(i)?j1(i):(e=E2(x,f,s),i.stateNode=e,Pa(i))}return Qt(i),null;case 5:if(rn(i),x=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==f&&Pa(i);else{if(!f){if(i.stateNode===null)throw Error(d(166));return Qt(i),null}if(_=Se.current,Xl(i))j1(i);else{var v=Vc(_e.current);switch(_){case 1:_=v.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=v.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=v.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=v.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=v.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?v.createElement(x,{is:f.is}):v.createElement(x)}}_[gn]=i,_[Bt]=f;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)_.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=_;e:switch(Vn(_,x,f),x){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Pa(i)}}return Qt(i),Xf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==f&&Pa(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(d(166));if(e=_e.current,Xl(i)){if(e=i.stateNode,s=i.memoizedProps,f=null,x=Hn,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}e[gn]=i,e=!!(e.nodeValue===s||f!==null&&f.suppressHydrationWarning===!0||c2(e.nodeValue,s)),e||pr(i,!0)}else e=Vc(e).createTextNode(f),e[gn]=i,i.stateNode=e}return Qt(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(f=Xl(i),s!==null){if(e===null){if(!f)throw Error(d(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[gn]=i}else rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),e=!1}else s=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(vi(i),i):(vi(i),null);if((i.flags&128)!==0)throw Error(d(558))}return Qt(i),null;case 13:if(f=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(x=Xl(i),f!==null&&f.dehydrated!==null){if(e===null){if(!x)throw Error(d(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(d(317));x[gn]=i}else rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),x=!1}else x=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(vi(i),i):(vi(i),null)}return vi(i),(i.flags&128)!==0?(i.lanes=s,i):(s=f!==null,e=e!==null&&e.memoizedState!==null,s&&(f=i.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==x&&(f.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),Nc(i,i.updateQueue),Qt(i),null);case 4:return St(),e===null&&d0(i.stateNode.containerInfo),Qt(i),null;case 10:return La(i.type),Qt(i),null;case 19:if($(pn),f=i.memoizedState,f===null)return Qt(i),null;if(x=(i.flags&128)!==0,_=f.rendering,_===null)if(x)$s(f,!1);else{if(fn!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=xc(e),_!==null){for(i.flags|=128,$s(f,!1),e=_.updateQueue,i.updateQueue=e,Nc(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)H1(s,e),s=s.sibling;return Ae(pn,pn.current&1|2),pt&&Ba(i,f.treeForkCount),i.child}e=e.sibling}f.tail!==null&&jt()>Bc&&(i.flags|=128,x=!0,$s(f,!1),i.lanes=4194304)}else{if(!x)if(e=xc(_),e!==null){if(i.flags|=128,x=!0,e=e.updateQueue,i.updateQueue=e,Nc(i,e),$s(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!pt)return Qt(i),null}else 2*jt()-f.renderingStartTime>Bc&&s!==536870912&&(i.flags|=128,x=!0,$s(f,!1),i.lanes=4194304);f.isBackwards?(_.sibling=i.child,i.child=_):(e=f.last,e!==null?e.sibling=_:i.child=_,f.last=_)}return f.tail!==null?(e=f.tail,f.rendering=e,f.tail=e.sibling,f.renderingStartTime=jt(),e.sibling=null,s=pn.current,Ae(pn,x?s&1|2:s&1),pt&&Ba(i,f.treeForkCount),e):(Qt(i),null);case 22:case 23:return vi(i),gf(),f=i.memoizedState!==null,e!==null?e.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(s&536870912)!==0&&(i.flags&128)===0&&(Qt(i),i.subtreeFlags&6&&(i.flags|=8192)):Qt(i),s=i.updateQueue,s!==null&&Nc(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==s&&(i.flags|=2048),e!==null&&$(ol),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),La(Cn),Qt(i),null;case 25:return null;case 30:return null}throw Error(d(156,i.tag))}function Bp(e,i){switch(Ju(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return La(Cn),St(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return rn(i),null;case 31:if(i.memoizedState!==null){if(vi(i),i.alternate===null)throw Error(d(340));rl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(d(340));rl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(pn),null;case 4:return St(),null;case 10:return La(i.type),null;case 22:case 23:return vi(i),gf(),e!==null&&$(ol),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return La(Cn),null;case 25:return null;default:return null}}function gd(e,i){switch(Ju(i),i.tag){case 3:La(Cn),St();break;case 26:case 27:case 5:rn(i);break;case 4:St();break;case 31:i.memoizedState!==null&&vi(i);break;case 13:vi(i);break;case 19:$(pn);break;case 10:La(i.type);break;case 22:case 23:vi(i),gf(),e!==null&&$(ol);break;case 24:La(Cn)}}function eo(e,i){try{var s=i.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var x=f.next;s=x;do{if((s.tag&e)===e){f=void 0;var _=s.create,v=s.inst;f=_(),v.destroy=f}s=s.next}while(s!==x)}}catch(I){Lt(i,i.return,I)}}function Cr(e,i,s){try{var f=i.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var _=x.next;f=_;do{if((f.tag&e)===e){var v=f.inst,I=v.destroy;if(I!==void 0){v.destroy=void 0,x=i;var z=s,K=I;try{K()}catch(le){Lt(x,z,le)}}}f=f.next}while(f!==_)}}catch(le){Lt(i,i.return,le)}}function md(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{rh(i,s)}catch(f){Lt(e,e.return,f)}}}function xd(e,i,s){s.props=dl(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(f){Lt(e,i,f)}}function to(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var f=e.stateNode;break;case 30:f=e.stateNode;break;default:f=e.stateNode}typeof s=="function"?e.refCleanup=s(f):s.current=f}}catch(x){Lt(e,i,x)}}function _a(e,i){var s=e.ref,f=e.refCleanup;if(s!==null)if(typeof f=="function")try{f()}catch(x){Lt(e,i,x)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(x){Lt(e,i,x)}else s.current=null}function pd(e){var i=e.type,s=e.memoizedProps,f=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&f.focus();break e;case"img":s.src?f.src=s.src:s.srcSet&&(f.srcset=s.srcSet)}}catch(x){Lt(e,e.return,x)}}function jf(e,i,s){try{var f=e.stateNode;n3(f,e.type,s,i),f[Bt]=i}catch(x){Lt(e,e.return,x)}}function wd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function Yf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,i,s){var f=e.tag;if(f===5||f===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=si));else if(f!==4&&(f===27&&Ir(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(qf(e,i,s),e=e.sibling;e!==null;)qf(e,i,s),e=e.sibling}function Rc(e,i,s){var f=e.tag;if(f===5||f===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(f!==4&&(f===27&&Ir(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Rc(e,i,s),e=e.sibling;e!==null;)Rc(e,i,s),e=e.sibling}function _d(e){var i=e.stateNode,s=e.memoizedProps;try{for(var f=e.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Vn(i,f,s),i[gn]=e,i[Bt]=s}catch(_){Lt(e,e.return,_)}}var Ha=!1,Tn=!1,Kf=!1,Ed=typeof WeakSet=="function"?WeakSet:Set,kn=null;function kp(e,i){if(e=e.containerInfo,x0=Wc,e=N(e),R(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var f=s.getSelection&&s.getSelection();if(f&&f.rangeCount!==0){s=f.anchorNode;var x=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{s.nodeType,_.nodeType}catch{s=null;break e}var v=0,I=-1,z=-1,K=0,le=0,ce=e,J=null;t:for(;;){for(var ae;ce!==s||x!==0&&ce.nodeType!==3||(I=v+x),ce!==_||f!==0&&ce.nodeType!==3||(z=v+f),ce.nodeType===3&&(v+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)J=ce,ce=ae;for(;;){if(ce===e)break t;if(J===s&&++K===x&&(I=v),J===_&&++le===f&&(z=v),(ae=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ae}s=I===-1||z===-1?null:{start:I,end:z}}else s=null}s=s||{start:0,end:0}}else s=null;for(p0={focusedElem:e,selectionRange:s},Wc=!1,kn=i;kn!==null;)if(i=kn,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,kn=e;else for(;kn!==null;){switch(i=kn,_=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)x=e[s],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,s=i,x=_.memoizedProps,_=_.memoizedState,f=s.stateNode;try{var Me=dl(s.type,x);e=f.getSnapshotBeforeUpdate(Me,_),f.__reactInternalSnapshotBeforeUpdate=e}catch(Ge){Lt(s,s.return,Ge)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)E0(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":E0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=i.sibling,e!==null){e.return=i.return,kn=e;break}kn=i.return}}function yd(e,i,s){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(e,s),f&4&&eo(5,s);break;case 1:if(Ga(e,s),f&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(v){Lt(s,s.return,v)}else{var x=dl(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(x,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Lt(s,s.return,v)}}f&64&&md(s),f&512&&to(s,s.return);break;case 3:if(Ga(e,s),f&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{rh(e,i)}catch(v){Lt(s,s.return,v)}}break;case 27:i===null&&f&4&&_d(s);case 26:case 5:Ga(e,s),i===null&&f&4&&pd(s),f&512&&to(s,s.return);break;case 12:Ga(e,s);break;case 31:Ga(e,s),f&4&&Cd(e,s);break;case 13:Ga(e,s),f&4&&Sd(e,s),f&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Vp.bind(null,s),u3(e,s))));break;case 22:if(f=s.memoizedState!==null||Ha,!f){i=i!==null&&i.memoizedState!==null||Tn,x=Ha;var _=Tn;Ha=f,(Tn=i)&&!_?Va(e,s,(s.subtreeFlags&8772)!==0):Ga(e,s),Ha=x,Tn=_}break;case 30:break;default:Ga(e,s)}}function Ad(e){var i=e.alternate;i!==null&&(e.alternate=null,Ad(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&li(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,ui=!1;function Za(e,i,s){for(s=s.child;s!==null;)bd(e,i,s),s=s.sibling}function bd(e,i,s){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(Ut,s)}catch{}switch(s.tag){case 26:Tn||_a(s,i),Za(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Tn||_a(s,i);var f=$t,x=ui;Ir(s.type)&&($t=s.stateNode,ui=!1),Za(e,i,s),uo(s.stateNode),$t=f,ui=x;break;case 5:Tn||_a(s,i);case 6:if(f=$t,x=ui,$t=null,Za(e,i,s),$t=f,ui=x,$t!==null)if(ui)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(s.stateNode)}catch(_){Lt(s,i,_)}else try{$t.removeChild(s.stateNode)}catch(_){Lt(s,i,_)}break;case 18:$t!==null&&(ui?(e=$t,m2(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),hs(e)):m2($t,s.stateNode));break;case 4:f=$t,x=ui,$t=s.stateNode.containerInfo,ui=!0,Za(e,i,s),$t=f,ui=x;break;case 0:case 11:case 14:case 15:Cr(2,s,i),Tn||Cr(4,s,i),Za(e,i,s);break;case 1:Tn||(_a(s,i),f=s.stateNode,typeof f.componentWillUnmount=="function"&&xd(s,i,f)),Za(e,i,s);break;case 21:Za(e,i,s);break;case 22:Tn=(f=Tn)||s.memoizedState!==null,Za(e,i,s),Tn=f;break;default:Za(e,i,s)}}function Cd(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{hs(e)}catch(s){Lt(i,i.return,s)}}}function Sd(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hs(e)}catch(s){Lt(i,i.return,s)}}function Lp(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ed),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ed),i;default:throw Error(d(435,e.tag))}}function Ic(e,i){var s=Lp(e);i.forEach(function(f){if(!s.has(f)){s.add(f);var x=Xp.bind(null,e,f);f.then(x,x)}})}function fi(e,i){var s=i.deletions;if(s!==null)for(var f=0;f<s.length;f++){var x=s[f],_=e,v=i,I=v;e:for(;I!==null;){switch(I.tag){case 27:if(Ir(I.type)){$t=I.stateNode,ui=!1;break e}break;case 5:$t=I.stateNode,ui=!1;break e;case 3:case 4:$t=I.stateNode.containerInfo,ui=!0;break e}I=I.return}if($t===null)throw Error(d(160));bd(_,v,x),$t=null,ui=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)vd(i,e),i=i.sibling}var la=null;function vd(e,i){var s=e.alternate,f=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fi(i,e),hi(e),f&4&&(Cr(3,e,e.return),eo(3,e),Cr(5,e,e.return));break;case 1:fi(i,e),hi(e),f&512&&(Tn||s===null||_a(s,s.return)),f&64&&Ha&&(e=e.updateQueue,e!==null&&(f=e.callbacks,f!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?f:s.concat(f))));break;case 26:var x=la;if(fi(i,e),hi(e),f&512&&(Tn||s===null||_a(s,s.return)),f&4){var _=s!==null?s.memoizedState:null;if(f=e.memoizedState,s===null)if(f===null)if(e.stateNode===null){e:{f=e.type,s=e.memoizedProps,x=x.ownerDocument||x;t:switch(f){case"title":_=x.getElementsByTagName("title")[0],(!_||_[qr]||_[gn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(f),x.head.insertBefore(_,x.querySelector("head > title"))),Vn(_,f,s),_[gn]=e,on(_),f=_;break e;case"link":var v=v2("link","href",x).get(f+(s.href||""));if(v){for(var I=0;I<v.length;I++)if(_=v[I],_.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&_.getAttribute("rel")===(s.rel==null?null:s.rel)&&_.getAttribute("title")===(s.title==null?null:s.title)&&_.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(I,1);break t}}_=x.createElement(f),Vn(_,f,s),x.head.appendChild(_);break;case"meta":if(v=v2("meta","content",x).get(f+(s.content||""))){for(I=0;I<v.length;I++)if(_=v[I],_.getAttribute("content")===(s.content==null?null:""+s.content)&&_.getAttribute("name")===(s.name==null?null:s.name)&&_.getAttribute("property")===(s.property==null?null:s.property)&&_.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&_.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(I,1);break t}}_=x.createElement(f),Vn(_,f,s),x.head.appendChild(_);break;default:throw Error(d(468,f))}_[gn]=e,on(_),f=_}e.stateNode=f}else T2(x,e.type,e.stateNode);else e.stateNode=S2(x,f,e.memoizedProps);else _!==f?(_===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):_.count--,f===null?T2(x,e.type,e.stateNode):S2(x,f,e.memoizedProps)):f===null&&e.stateNode!==null&&jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:fi(i,e),hi(e),f&512&&(Tn||s===null||_a(s,s.return)),s!==null&&f&4&&jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(fi(i,e),hi(e),f&512&&(Tn||s===null||_a(s,s.return)),e.flags&32){x=e.stateNode;try{lr(x,"")}catch(Me){Lt(e,e.return,Me)}}f&4&&e.stateNode!=null&&(x=e.memoizedProps,jf(e,x,s!==null?s.memoizedProps:x)),f&1024&&(Kf=!0);break;case 6:if(fi(i,e),hi(e),f&4){if(e.stateNode===null)throw Error(d(162));f=e.memoizedProps,s=e.stateNode;try{s.nodeValue=f}catch(Me){Lt(e,e.return,Me)}}break;case 3:if(Yc=null,x=la,la=Xc(i.containerInfo),fi(i,e),la=x,hi(e),f&4&&s!==null&&s.memoizedState.isDehydrated)try{hs(i.containerInfo)}catch(Me){Lt(e,e.return,Me)}Kf&&(Kf=!1,Td(e));break;case 4:f=la,la=Xc(e.stateNode.containerInfo),fi(i,e),hi(e),la=f;break;case 12:fi(i,e),hi(e);break;case 31:fi(i,e),hi(e),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,Ic(e,f)));break;case 13:fi(i,e),hi(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Mc=jt()),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,Ic(e,f)));break;case 22:x=e.memoizedState!==null;var z=s!==null&&s.memoizedState!==null,K=Ha,le=Tn;if(Ha=K||x,Tn=le||z,fi(i,e),Tn=le,Ha=K,hi(e),f&8192)e:for(i=e.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(s===null||z||Ha||Tn||gl(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){z=s=i;try{if(_=z.stateNode,x)v=_.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{I=z.stateNode;var ce=z.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;I.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Me){Lt(z,z.return,Me)}}}else if(i.tag===6){if(s===null){z=i;try{z.stateNode.nodeValue=x?"":z.memoizedProps}catch(Me){Lt(z,z.return,Me)}}}else if(i.tag===18){if(s===null){z=i;try{var ae=z.stateNode;x?x2(ae,!0):x2(z.stateNode,!1)}catch(Me){Lt(z,z.return,Me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=e.updateQueue,f!==null&&(s=f.retryQueue,s!==null&&(f.retryQueue=null,Ic(e,s))));break;case 19:fi(i,e),hi(e),f&4&&(f=e.updateQueue,f!==null&&(e.updateQueue=null,Ic(e,f)));break;case 30:break;case 21:break;default:fi(i,e),hi(e)}}function hi(e){var i=e.flags;if(i&2){try{for(var s,f=e.return;f!==null;){if(wd(f)){s=f;break}f=f.return}if(s==null)throw Error(d(160));switch(s.tag){case 27:var x=s.stateNode,_=Yf(e);Rc(e,_,x);break;case 5:var v=s.stateNode;s.flags&32&&(lr(v,""),s.flags&=-33);var I=Yf(e);Rc(e,I,v);break;case 3:case 4:var z=s.stateNode.containerInfo,K=Yf(e);qf(e,K,z);break;default:throw Error(d(161))}}catch(le){Lt(e,e.return,le)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Td(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Td(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ga(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yd(e,i.alternate,i),i=i.sibling}function gl(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),gl(i);break;case 1:_a(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&xd(i,i.return,s),gl(i);break;case 27:uo(i.stateNode);case 26:case 5:_a(i,i.return),gl(i);break;case 22:i.memoizedState===null&&gl(i);break;case 30:gl(i);break;default:gl(i)}e=e.sibling}}function Va(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,x=e,_=i,v=_.flags;switch(_.tag){case 0:case 11:case 15:Va(x,_,s),eo(4,_);break;case 1:if(Va(x,_,s),f=_,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(K){Lt(f,f.return,K)}if(f=_,x=f.updateQueue,x!==null){var I=f.stateNode;try{var z=x.shared.hiddenCallbacks;if(z!==null)for(x.shared.hiddenCallbacks=null,x=0;x<z.length;x++)ah(z[x],I)}catch(K){Lt(f,f.return,K)}}s&&v&64&&md(_),to(_,_.return);break;case 27:_d(_);case 26:case 5:Va(x,_,s),s&&f===null&&v&4&&pd(_),to(_,_.return);break;case 12:Va(x,_,s);break;case 31:Va(x,_,s),s&&v&4&&Cd(x,_);break;case 13:Va(x,_,s),s&&v&4&&Sd(x,_);break;case 22:_.memoizedState===null&&Va(x,_,s),to(_,_.return);break;case 30:break;default:Va(x,_,s)}i=i.sibling}}function Qf(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Hs(s))}function Wf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Hs(e))}function sa(e,i,s,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Od(e,i,s,f),i=i.sibling}function Od(e,i,s,f){var x=i.flags;switch(i.tag){case 0:case 11:case 15:sa(e,i,s,f),x&2048&&eo(9,i);break;case 1:sa(e,i,s,f);break;case 3:sa(e,i,s,f),x&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Hs(e)));break;case 12:if(x&2048){sa(e,i,s,f),e=i.stateNode;try{var _=i.memoizedProps,v=_.id,I=_.onPostCommit;typeof I=="function"&&I(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){Lt(i,i.return,z)}}else sa(e,i,s,f);break;case 31:sa(e,i,s,f);break;case 13:sa(e,i,s,f);break;case 23:break;case 22:_=i.stateNode,v=i.alternate,i.memoizedState!==null?_._visibility&2?sa(e,i,s,f):no(e,i):_._visibility&2?sa(e,i,s,f):(_._visibility|=2,ts(e,i,s,f,(i.subtreeFlags&10256)!==0||!1)),x&2048&&Qf(v,i);break;case 24:sa(e,i,s,f),x&2048&&Wf(i.alternate,i);break;default:sa(e,i,s,f)}}function ts(e,i,s,f,x){for(x=x&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var _=e,v=i,I=s,z=f,K=v.flags;switch(v.tag){case 0:case 11:case 15:ts(_,v,I,z,x),eo(8,v);break;case 23:break;case 22:var le=v.stateNode;v.memoizedState!==null?le._visibility&2?ts(_,v,I,z,x):no(_,v):(le._visibility|=2,ts(_,v,I,z,x)),x&&K&2048&&Qf(v.alternate,v);break;case 24:ts(_,v,I,z,x),x&&K&2048&&Wf(v.alternate,v);break;default:ts(_,v,I,z,x)}i=i.sibling}}function no(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,f=i,x=f.flags;switch(f.tag){case 22:no(s,f),x&2048&&Qf(f.alternate,f);break;case 24:no(s,f),x&2048&&Wf(f.alternate,f);break;default:no(s,f)}i=i.sibling}}var io=8192;function ns(e,i,s){if(e.subtreeFlags&io)for(e=e.child;e!==null;)Nd(e,i,s),e=e.sibling}function Nd(e,i,s){switch(e.tag){case 26:ns(e,i,s),e.flags&io&&e.memoizedState!==null&&A3(s,la,e.memoizedState,e.memoizedProps);break;case 5:ns(e,i,s);break;case 3:case 4:var f=la;la=Xc(e.stateNode.containerInfo),ns(e,i,s),la=f;break;case 22:e.memoizedState===null&&(f=e.alternate,f!==null&&f.memoizedState!==null?(f=io,io=16777216,ns(e,i,s),io=f):ns(e,i,s));break;default:ns(e,i,s)}}function Rd(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ao(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];kn=f,Dd(f,e)}Rd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Id(e),e=e.sibling}function Id(e){switch(e.tag){case 0:case 11:case 15:ao(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:ao(e);break;case 12:ao(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Dc(e)):ao(e);break;default:ao(e)}}function Dc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];kn=f,Dd(f,e)}Rd(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),Dc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Dc(i));break;default:Dc(i)}e=e.sibling}}function Dd(e,i){for(;kn!==null;){var s=kn;switch(s.tag){case 0:case 11:case 15:Cr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var f=s.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Hs(s.memoizedState.cache)}if(f=s.child,f!==null)f.return=s,kn=f;else e:for(s=e;kn!==null;){f=kn;var x=f.sibling,_=f.return;if(Ad(f),f===s){kn=null;break e}if(x!==null){x.return=_,kn=x;break e}kn=_}}}var zp={getCacheForType:function(e){var i=Zn(Cn),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return Zn(Cn).controller.signal}},Up=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Xt=null,ct=null,gt=0,kt=0,Ti=null,Sr=!1,is=!1,Jf=!1,Xa=0,fn=0,vr=0,ml=0,$f=0,Oi=0,as=0,ro=null,di=null,e0=!1,Mc=0,Md=0,Bc=1/0,kc=null,Tr=null,Dn=0,Or=null,rs=null,ja=0,t0=0,n0=null,Bd=null,lo=0,i0=null;function Ni(){return(Ot&2)!==0&&gt!==0?gt&-gt:te.T!==null?c0():Qn()}function kd(){if(Oi===0)if((gt&536870912)===0||pt){var e=ht;ht<<=1,(ht&3932160)===0&&(ht=262144),Oi=e}else Oi=536870912;return e=Si.current,e!==null&&(e.flags|=32),Oi}function gi(e,i,s){(e===Xt&&(kt===2||kt===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Nr(e,gt,Oi,!1)),fa(e,s),((Ot&2)===0||e!==Xt)&&(e===Xt&&((Ot&2)===0&&(ml|=s),fn===4&&Nr(e,gt,Oi,!1)),Ea(e))}function Ld(e,i,s){if((Ot&6)!==0)throw Error(d(327));var f=!s&&(i&127)===0&&(i&e.expiredLanes)===0||Fn(e,i),x=f?Hp(e,i):r0(e,i,!0),_=f;do{if(x===0){is&&!f&&Nr(e,i,0,!1);break}else{if(s=e.current.alternate,_&&!Fp(s)){x=r0(e,i,!1),_=!1;continue}if(x===2){if(_=i,e.errorRecoveryDisabledLanes&_)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var I=e;x=ro;var z=I.current.memoizedState.isDehydrated;if(z&&(ls(I,v).flags|=256),v=r0(I,v,!1),v!==2){if(Jf&&!z){I.errorRecoveryDisabledLanes|=_,ml|=_,x=4;break e}_=di,di=x,_!==null&&(di===null?di=_:di.push.apply(di,_))}x=v}if(_=!1,x!==2)continue}}if(x===1){ls(e,0),Nr(e,i,0,!0);break}e:{switch(f=e,_=x,_){case 0:case 1:throw Error(d(345));case 4:if((i&4194048)!==i)break;case 6:Nr(f,i,Oi,!Sr);break e;case 2:di=null;break;case 3:case 5:break;default:throw Error(d(329))}if((i&62914560)===i&&(x=Mc+300-jt(),10<x)){if(Nr(f,i,Oi,!Sr),Yr(f,0,!0)!==0)break e;ja=i,f.timeoutHandle=d2(zd.bind(null,f,s,di,kc,e0,i,Oi,ml,as,Sr,_,"Throttled",-0,0),x);break e}zd(f,s,di,kc,e0,i,Oi,ml,as,Sr,_,null,-0,0)}}break}while(!0);Ea(e)}function zd(e,i,s,f,x,_,v,I,z,K,le,ce,J,ae){if(e.timeoutHandle=-1,ce=i.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},Nd(i,_,ce);var Me=(_&62914560)===_?Mc-jt():(_&4194048)===_?Md-jt():0;if(Me=b3(ce,Me),Me!==null){ja=_,e.cancelPendingCommit=Me(Xd.bind(null,e,i,_,s,f,x,v,I,z,le,ce,null,J,ae)),Nr(e,_,v,!K);return}}Xd(e,i,_,s,f,x,v,I,z)}function Fp(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var f=0;f<s.length;f++){var x=s[f],_=x.getSnapshot;x=x.value;try{if(!h(_(),x))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Nr(e,i,s,f){i&=~$f,i&=~ml,e.suspendedLanes|=i,e.pingedLanes&=~i,f&&(e.warmLanes|=i),f=e.expirationTimes;for(var x=i;0<x;){var _=31-$e(x),v=1<<_;f[_]=-1,x&=~v}s!==0&&Ho(e,s,i)}function Lc(){return(Ot&6)===0?(so(0),!1):!0}function a0(){if(ct!==null){if(kt===0)var e=ct.return;else e=ct,ka=ll=null,Ef(e),Ql=null,Gs=0,e=ct;for(;e!==null;)gd(e.alternate,e),e=e.return;ct=null}}function ls(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,r3(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ja=0,a0(),Xt=e,ct=s=Ma(e.current,null),gt=i,kt=0,Ti=null,Sr=!1,is=Fn(e,i),Jf=!1,as=Oi=$f=ml=vr=fn=0,di=ro=null,e0=!1,(i&8)!==0&&(i|=i&32);var f=e.entangledLanes;if(f!==0)for(e=e.entanglements,f&=i;0<f;){var x=31-$e(f),_=1<<x;i|=e[x],f&=~_}return Xa=i,ic(),s}function Ud(e,i){Je=null,te.H=Ws,i===Kl||i===fc?(i=eh(),kt=3):i===of?(i=eh(),kt=4):kt=i===Lf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ti=i,ct===null&&(fn=1,Sc(e,Hi(i,e.current)))}function Fd(){var e=Si.current;return e===null?!0:(gt&4194048)===gt?Xi===null:(gt&62914560)===gt||(gt&536870912)!==0?e===Xi:!1}function Pd(){var e=te.H;return te.H=Ws,e===null?Ws:e}function Hd(){var e=te.A;return te.A=zp,e}function zc(){fn=4,Sr||(gt&4194048)!==gt&&Si.current!==null||(is=!0),(vr&134217727)===0&&(ml&134217727)===0||Xt===null||Nr(Xt,gt,Oi,!1)}function r0(e,i,s){var f=Ot;Ot|=2;var x=Pd(),_=Hd();(Xt!==e||gt!==i)&&(kc=null,ls(e,i)),i=!1;var v=fn;e:do try{if(kt!==0&&ct!==null){var I=ct,z=Ti;switch(kt){case 8:a0(),v=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(i=!0);var K=kt;if(kt=0,Ti=null,ss(e,I,z,K),s&&is){v=0;break e}break;default:K=kt,kt=0,Ti=null,ss(e,I,z,K)}}Pp(),v=fn;break}catch(le){Ud(e,le)}while(!0);return i&&e.shellSuspendCounter++,ka=ll=null,Ot=f,te.H=x,te.A=_,ct===null&&(Xt=null,gt=0,ic()),v}function Pp(){for(;ct!==null;)Zd(ct)}function Hp(e,i){var s=Ot;Ot|=2;var f=Pd(),x=Hd();Xt!==e||gt!==i?(kc=null,Bc=jt()+500,ls(e,i)):is=Fn(e,i);e:do try{if(kt!==0&&ct!==null){i=ct;var _=Ti;t:switch(kt){case 1:kt=0,Ti=null,ss(e,i,_,1);break;case 2:case 9:if(J1(_)){kt=0,Ti=null,Gd(i);break}i=function(){kt!==2&&kt!==9||Xt!==e||(kt=7),Ea(e)},_.then(i,i);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:J1(_)?(kt=0,Ti=null,Gd(i)):(kt=0,Ti=null,ss(e,i,_,7));break;case 5:var v=null;switch(ct.tag){case 26:v=ct.memoizedState;case 5:case 27:var I=ct;if(v?O2(v):I.stateNode.complete){kt=0,Ti=null;var z=I.sibling;if(z!==null)ct=z;else{var K=I.return;K!==null?(ct=K,Uc(K)):ct=null}break t}}kt=0,Ti=null,ss(e,i,_,5);break;case 6:kt=0,Ti=null,ss(e,i,_,6);break;case 8:a0(),fn=6;break e;default:throw Error(d(462))}}Zp();break}catch(le){Ud(e,le)}while(!0);return ka=ll=null,te.H=f,te.A=x,Ot=s,ct!==null?0:(Xt=null,gt=0,ic(),fn)}function Zp(){for(;ct!==null&&!Ja();)Zd(ct)}function Zd(e){var i=hd(e.alternate,e,Xa);e.memoizedProps=e.pendingProps,i===null?Uc(e):ct=i}function Gd(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=ld(s,i,i.pendingProps,i.type,void 0,gt);break;case 11:i=ld(s,i,i.pendingProps,i.type.render,i.ref,gt);break;case 5:Ef(i);default:gd(s,i),i=ct=H1(i,Xa),i=hd(s,i,Xa)}e.memoizedProps=e.pendingProps,i===null?Uc(e):ct=i}function ss(e,i,s,f){ka=ll=null,Ef(i),Ql=null,Gs=0;var x=i.return;try{if(Rp(e,x,i,s,gt)){fn=1,Sc(e,Hi(s,e.current)),ct=null;return}}catch(_){if(x!==null)throw ct=x,_;fn=1,Sc(e,Hi(s,e.current)),ct=null;return}i.flags&32768?(pt||f===1?e=!0:is||(gt&536870912)!==0?e=!1:(Sr=e=!0,(f===2||f===9||f===3||f===6)&&(f=Si.current,f!==null&&f.tag===13&&(f.flags|=16384))),Vd(i,e)):Uc(i)}function Uc(e){var i=e;do{if((i.flags&32768)!==0){Vd(i,Sr);return}e=i.return;var s=Mp(i.alternate,i,Xa);if(s!==null){ct=s;return}if(i=i.sibling,i!==null){ct=i;return}ct=i=e}while(i!==null);fn===0&&(fn=5)}function Vd(e,i){do{var s=Bp(e.alternate,e);if(s!==null){s.flags&=32767,ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){ct=e;return}ct=e=s}while(e!==null);fn=6,ct=null}function Xd(e,i,s,f,x,_,v,I,z){e.cancelPendingCommit=null;do Fc();while(Dn!==0);if((Ot&6)!==0)throw Error(d(327));if(i!==null){if(i===e.current)throw Error(d(177));if(_=i.lanes|i.childLanes,_|=ju,Li(e,s,_,v,I,z),e===Xt&&(ct=Xt=null,gt=0),rs=i,Or=e,ja=s,t0=_,n0=x,Bd=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jp(Ce,function(){return Qd(),null})):(e.callbackNode=null,e.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=te.T,te.T=null,x=se.p,se.p=2,v=Ot,Ot|=4;try{kp(e,i,s)}finally{Ot=v,se.p=x,te.T=f}}Dn=1,jd(),Yd(),qd()}}function jd(){if(Dn===1){Dn=0;var e=Or,i=rs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=te.T,te.T=null;var f=se.p;se.p=2;var x=Ot;Ot|=4;try{vd(i,e);var _=p0,v=N(e.containerInfo),I=_.focusedElem,z=_.selectionRange;if(v!==I&&I&&I.ownerDocument&&b(I.ownerDocument.documentElement,I)){if(z!==null&&R(I)){var K=z.start,le=z.end;if(le===void 0&&(le=K),"selectionStart"in I)I.selectionStart=K,I.selectionEnd=Math.min(le,I.value.length);else{var ce=I.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var ae=J.getSelection(),Me=I.textContent.length,Ge=Math.min(z.start,Me),Ht=z.end===void 0?Ge:Math.min(z.end,Me);!ae.extend&&Ge>Ht&&(v=Ht,Ht=Ge,Ge=v);var G=y(I,Ge),H=y(I,Ht);if(G&&H&&(ae.rangeCount!==1||ae.anchorNode!==G.node||ae.anchorOffset!==G.offset||ae.focusNode!==H.node||ae.focusOffset!==H.offset)){var q=ce.createRange();q.setStart(G.node,G.offset),ae.removeAllRanges(),Ge>Ht?(ae.addRange(q),ae.extend(H.node,H.offset)):(q.setEnd(H.node,H.offset),ae.addRange(q))}}}}for(ce=[],ae=I;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ce.length;I++){var oe=ce[I];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Wc=!!x0,p0=x0=null}finally{Ot=x,se.p=f,te.T=s}}e.current=i,Dn=2}}function Yd(){if(Dn===2){Dn=0;var e=Or,i=rs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=te.T,te.T=null;var f=se.p;se.p=2;var x=Ot;Ot|=4;try{yd(e,i.alternate,i)}finally{Ot=x,se.p=f,te.T=s}}Dn=3}}function qd(){if(Dn===4||Dn===3){Dn=0,Nl();var e=Or,i=rs,s=ja,f=Bd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Dn=5:(Dn=0,rs=Or=null,Kd(e,e.pendingLanes));var x=e.pendingLanes;if(x===0&&(Tr=null),$i(s),i=i.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(Ut,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=te.T,x=se.p,se.p=2,te.T=null;try{for(var _=e.onRecoverableError,v=0;v<f.length;v++){var I=f[v];_(I.value,{componentStack:I.stack})}}finally{te.T=i,se.p=x}}(ja&3)!==0&&Fc(),Ea(e),x=e.pendingLanes,(s&261930)!==0&&(x&42)!==0?e===i0?lo++:(lo=0,i0=e):lo=0,so(0)}}function Kd(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Hs(i)))}function Fc(){return jd(),Yd(),qd(),Qd()}function Qd(){if(Dn!==5)return!1;var e=Or,i=t0;t0=0;var s=$i(ja),f=te.T,x=se.p;try{se.p=32>s?32:s,te.T=null,s=n0,n0=null;var _=Or,v=ja;if(Dn=0,rs=Or=null,ja=0,(Ot&6)!==0)throw Error(d(331));var I=Ot;if(Ot|=4,Id(_.current),Od(_,_.current,v,s),Ot=I,so(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(Ut,_)}catch{}return!0}finally{se.p=x,te.T=f,Kd(e,i)}}function Wd(e,i,s){i=Hi(s,i),i=kf(e.stateNode,i,2),e=yr(e,i,2),e!==null&&(fa(e,2),Ea(e))}function Lt(e,i,s){if(e.tag===3)Wd(e,e,s);else for(;i!==null;){if(i.tag===3){Wd(i,e,s);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Tr===null||!Tr.has(f))){e=Hi(s,e),s=Jh(2),f=yr(i,s,2),f!==null&&($h(s,f,i,e),fa(f,2),Ea(f));break}}i=i.return}}function l0(e,i,s){var f=e.pingCache;if(f===null){f=e.pingCache=new Up;var x=new Set;f.set(i,x)}else x=f.get(i),x===void 0&&(x=new Set,f.set(i,x));x.has(s)||(Jf=!0,x.add(s),e=Gp.bind(null,e,i,s),i.then(e,e))}function Gp(e,i,s){var f=e.pingCache;f!==null&&f.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Xt===e&&(gt&s)===s&&(fn===4||fn===3&&(gt&62914560)===gt&&300>jt()-Mc?(Ot&2)===0&&ls(e,0):$f|=s,as===gt&&(as=0)),Ea(e)}function Jd(e,i){i===0&&(i=On()),e=il(e,i),e!==null&&(fa(e,i),Ea(e))}function Vp(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Jd(e,s)}function Xp(e,i){var s=0;switch(e.tag){case 31:case 13:var f=e.stateNode,x=e.memoizedState;x!==null&&(s=x.retryLane);break;case 19:f=e.stateNode;break;case 22:f=e.stateNode._retryCache;break;default:throw Error(d(314))}f!==null&&f.delete(i),Jd(e,s)}function jp(e,i){return oa(e,i)}var Pc=null,os=null,s0=!1,Hc=!1,o0=!1,Rr=0;function Ea(e){e!==os&&e.next===null&&(os===null?Pc=os=e:os=os.next=e),Hc=!0,s0||(s0=!0,qp())}function so(e,i){if(!o0&&Hc){o0=!0;do for(var s=!1,f=Pc;f!==null;){if(e!==0){var x=f.pendingLanes;if(x===0)var _=0;else{var v=f.suspendedLanes,I=f.pingedLanes;_=(1<<31-$e(42|e)+1)-1,_&=x&~(v&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(s=!0,n2(f,_))}else _=gt,_=Yr(f,f===Xt?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Fn(f,_)||(s=!0,n2(f,_));f=f.next}while(s);o0=!1}}function Yp(){$d()}function $d(){Hc=s0=!1;var e=0;Rr!==0&&a3()&&(e=Rr);for(var i=jt(),s=null,f=Pc;f!==null;){var x=f.next,_=e2(f,i);_===0?(f.next=null,s===null?Pc=x:s.next=x,x===null&&(os=s)):(s=f,(e!==0||(_&3)!==0)&&(Hc=!0)),f=x}Dn!==0&&Dn!==5||so(e),Rr!==0&&(Rr=0)}function e2(e,i){for(var s=e.suspendedLanes,f=e.pingedLanes,x=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var v=31-$e(_),I=1<<v,z=x[v];z===-1?((I&s)===0||(I&f)!==0)&&(x[v]=Os(I,i)):z<=i&&(e.expiredLanes|=I),_&=~I}if(i=Xt,s=gt,s=Yr(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),f=e.callbackNode,s===0||e===i&&(kt===2||kt===9)||e.cancelPendingCommit!==null)return f!==null&&f!==null&&Ie(f),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fn(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(f!==null&&Ie(f),$i(s)){case 2:case 8:s=$a;break;case 32:s=Ce;break;case 268435456:s=yn;break;default:s=Ce}return f=t2.bind(null,e),s=oa(s,f),e.callbackPriority=i,e.callbackNode=s,i}return f!==null&&f!==null&&Ie(f),e.callbackPriority=2,e.callbackNode=null,2}function t2(e,i){if(Dn!==0&&Dn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Fc()&&e.callbackNode!==s)return null;var f=gt;return f=Yr(e,e===Xt?f:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),f===0?null:(Ld(e,f,i),e2(e,jt()),e.callbackNode!=null&&e.callbackNode===s?t2.bind(null,e):null)}function n2(e,i){if(Fc())return null;Ld(e,i,!0)}function qp(){l3(function(){(Ot&6)!==0?oa(Yn,Yp):$d()})}function c0(){if(Rr===0){var e=Yl;e===0&&(e=jr,jr<<=1,(jr&261888)===0&&(jr=256)),Rr=e}return Rr}function i2(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sr(""+e)}function a2(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function Kp(e,i,s,f,x){if(i==="submit"&&s&&s.stateNode===x){var _=i2((x[Bt]||null).action),v=f.submitter;v&&(i=(i=v[Bt]||null)?i2(i.formAction):v.getAttribute("formAction"),i!==null&&(_=i,v=null));var I=new Nn("action","action",null,f,x);e.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Rr!==0){var z=v?a2(x,v):new FormData(x);Nf(s,{pending:!0,data:z,method:x.method,action:_},null,z)}}else typeof _=="function"&&(I.preventDefault(),z=v?a2(x,v):new FormData(x),Nf(s,{pending:!0,data:z,method:x.method,action:_},_,z))},currentTarget:x}]})}}for(var u0=0;u0<Us.length;u0++){var f0=Us[u0],Qp=f0.toLowerCase(),Wp=f0[0].toUpperCase()+f0.slice(1);ra(Qp,"on"+Wp)}ra(ci,"onAnimationEnd"),ra(Pn,"onAnimationIteration"),ra(Mt,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(In,"onTransitionRun"),ra(ti,"onTransitionStart"),ra(gr,"onTransitionCancel"),ra(Da,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),It("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),It("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),It("onBeforeInput",["compositionend","keypress","textInput","paste"]),It("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),It("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function r2(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var f=e[s],x=f.event;f=f.listeners;e:{var _=void 0;if(i)for(var v=f.length-1;0<=v;v--){var I=f[v],z=I.instance,K=I.currentTarget;if(I=I.listener,z!==_&&x.isPropagationStopped())break e;_=I,x.currentTarget=K;try{_(x)}catch(le){nc(le)}x.currentTarget=null,_=z}else for(v=0;v<f.length;v++){if(I=f[v],z=I.instance,K=I.currentTarget,I=I.listener,z!==_&&x.isPropagationStopped())break e;_=I,x.currentTarget=K;try{_(x)}catch(le){nc(le)}x.currentTarget=null,_=z}}}}function ut(e,i){var s=i[tr];s===void 0&&(s=i[tr]=new Set);var f=e+"__bubble";s.has(f)||(l2(i,e,2,!1),s.add(f))}function h0(e,i,s){var f=0;i&&(f|=4),l2(s,e,f,i)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function d0(e){if(!e[Zc]){e[Zc]=!0,he.forEach(function(s){s!=="selectionchange"&&(Jp.has(s)||h0(s,!1,e),h0(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Zc]||(i[Zc]=!0,h0("selectionchange",!1,i))}}function l2(e,i,s,f){switch(k2(i)){case 2:var x=v3;break;case 8:x=T3;break;default:x=O0}s=x.bind(null,i,s,e),x=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),f?x!==void 0?e.addEventListener(i,s,{capture:!0,passive:x}):e.addEventListener(i,s,!0):x!==void 0?e.addEventListener(i,s,{passive:x}):e.addEventListener(i,s,!1)}function g0(e,i,s,f,x){var _=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var v=f.tag;if(v===3||v===4){var I=f.stateNode.containerInfo;if(I===x)break;if(v===4)for(v=f.return;v!==null;){var z=v.tag;if((z===3||z===4)&&v.stateNode.containerInfo===x)return;v=v.return}for(;I!==null;){if(v=sn(I),v===null)return;if(z=v.tag,z===5||z===6||z===26||z===27){f=_=v;continue e}I=I.parentNode}}f=f.return}Xo(function(){var K=_,le=Rs(s),ce=[];e:{var J=tc.get(e);if(J!==void 0){var ae=Nn,Me=e;switch(e){case"keypress":if(da(s)===0)break e;case"keydown":case"keyup":ae=Ul;break;case"focusin":Me="focus",ae=Bs;break;case"focusout":Me="blur",ae=Bs;break;case"beforeblur":case"afterblur":ae=Bs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Tt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Gu;break;case ci:case Pn:case Mt:ae=et;break;case Da:ae=Oa;break;case"scroll":case"scrollend":ae=jo;break;case"wheel":ae=Vu;break;case"copy":case"cut":case"paste":ae=zl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Dt;break;case"toggle":case"beforetoggle":ae=Ls}var Ge=(i&4)!==0,Ht=!Ge&&(e==="scroll"||e==="scrollend"),G=Ge?J!==null?J+"Capture":null:J;Ge=[];for(var H=K,q;H!==null;){var oe=H;if(q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||q===null||G===null||(oe=je(H,G),oe!=null&&Ge.push(co(H,oe,q))),Ht)break;H=H.return}0<Ge.length&&(J=new ae(J,Me,null,s,le),ce.push({event:J,listeners:Ge}))}}if((i&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",J&&s!==Kr&&(Me=s.relatedTarget||s.fromElement)&&(sn(Me)||Me[wi]))break e;if((ae||J)&&(J=le.window===le?le:(J=le.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(Me=s.relatedTarget||s.toElement,ae=K,Me=Me?sn(Me):null,Me!==null&&(Ht=p(Me),Ge=Me.tag,Me!==Ht||Ge!==5&&Ge!==27&&Ge!==6)&&(Me=null)):(ae=null,Me=K),ae!==Me)){if(Ge=Tt,oe="onMouseLeave",G="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Ge=Dt,oe="onPointerLeave",G="onPointerEnter",H="pointer"),Ht=ae==null?J:nr(ae),q=Me==null?J:nr(Me),J=new Ge(oe,H+"leave",ae,s,le),J.target=Ht,J.relatedTarget=q,oe=null,sn(le)===K&&(Ge=new Ge(G,H+"enter",Me,s,le),Ge.target=q,Ge.relatedTarget=Ht,oe=Ge),Ht=oe,ae&&Me)t:{for(Ge=$p,G=ae,H=Me,q=0,oe=G;oe;oe=Ge(oe))q++;oe=0;for(var Ue=H;Ue;Ue=Ge(Ue))oe++;for(;0<q-oe;)G=Ge(G),q--;for(;0<oe-q;)H=Ge(H),oe--;for(;q--;){if(G===H||H!==null&&G===H.alternate){Ge=G;break t}G=Ge(G),H=Ge(H)}Ge=null}else Ge=null;ae!==null&&s2(ce,J,ae,Ge,!1),Me!==null&&Ht!==null&&s2(ce,Ht,Me,Ge,!0)}}e:{if(J=K?nr(K):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var bt=bi;else if(zs(J))if(ec)bt=c;else{bt=a;var ke=t}else ae=J.nodeName,!ae||ae.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?K&&Zt(K.elementType)&&(bt=bi):bt=r;if(bt&&(bt=bt(e,K))){Ai(ce,bt,s,le);break e}ke&&ke(e,J,K),e==="focusout"&&K&&J.type==="number"&&K.memoizedProps.value!=null&&M(J,"number",J.value)}switch(ke=K?nr(K):window,e){case"focusin":(zs(ke)||ke.contentEditable==="true")&&(U=ke,F=K,V=null);break;case"focusout":V=F=U=null;break;case"mousedown":ne=!0;break;case"contextmenu":case"mouseup":case"dragend":ne=!1,xe(ce,s,le);break;case"selectionchange":if(B)break;case"keydown":case"keyup":xe(ce,s,le)}var tt;if(Jr)e:{switch(e){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else dr?$o(e,s)&&(mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(mt="onCompositionStart");mt&&(Jo&&s.locale!=="ko"&&(dr||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&dr&&(tt=or()):(ia=le,aa="value"in ia?ia.value:ia.textContent,dr=!0)),ke=Gc(K,mt),0<ke.length&&(mt=new Ko(mt,e,null,s,le),ce.push({event:mt,listeners:ke}),tt?mt.data=tt:(tt=hr(s),tt!==null&&(mt.data=tt)))),(tt=Wo?xa(e,s):Pl(e,s))&&(mt=Gc(K,"onBeforeInput"),0<mt.length&&(ke=new Ko("onBeforeInput","beforeinput",null,s,le),ce.push({event:ke,listeners:mt}),ke.data=tt)),Kp(ce,e,K,s,le)}r2(ce,i)})}function co(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Gc(e,i){for(var s=i+"Capture",f=[];e!==null;){var x=e,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=je(e,s),x!=null&&f.unshift(co(e,x,_)),x=je(e,i),x!=null&&f.push(co(e,x,_))),e.tag===3)return f;e=e.return}return[]}function $p(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function s2(e,i,s,f,x){for(var _=i._reactName,v=[];s!==null&&s!==f;){var I=s,z=I.alternate,K=I.stateNode;if(I=I.tag,z!==null&&z===f)break;I!==5&&I!==26&&I!==27||K===null||(z=K,x?(K=je(s,_),K!=null&&v.unshift(co(s,K,z))):x||(K=je(s,_),K!=null&&v.push(co(s,K,z)))),s=s.return}v.length!==0&&e.push({event:i,listeners:v})}var e3=/\r\n?/g,t3=/\u0000|\uFFFD/g;function o2(e){return(typeof e=="string"?e:""+e).replace(e3,`
`).replace(t3,"")}function c2(e,i){return i=o2(i),o2(e)===i}function Pt(e,i,s,f,x,_){switch(s){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||lr(e,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&lr(e,""+f);break;case"className":ar(e,"class",f);break;case"tabIndex":ar(e,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ar(e,s,f);break;case"style":ze(e,f,_);break;case"data":if(i!=="object"){ar(e,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){e.removeAttribute(s);break}f=sr(""+f),e.setAttribute(s,f);break;case"action":case"formAction":if(typeof f=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(s==="formAction"?(i!=="input"&&Pt(e,i,"name",x.name,x,null),Pt(e,i,"formEncType",x.formEncType,x,null),Pt(e,i,"formMethod",x.formMethod,x,null),Pt(e,i,"formTarget",x.formTarget,x,null)):(Pt(e,i,"encType",x.encType,x,null),Pt(e,i,"method",x.method,x,null),Pt(e,i,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){e.removeAttribute(s);break}f=sr(""+f),e.setAttribute(s,f);break;case"onClick":f!=null&&(e.onclick=si);break;case"onScroll":f!=null&&ut("scroll",e);break;case"onScrollEnd":f!=null&&ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(d(61));if(s=f.__html,s!=null){if(x.children!=null)throw Error(d(60));e.innerHTML=s}}break;case"multiple":e.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":e.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){e.removeAttribute("xlink:href");break}s=sr(""+f),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(s,""+f):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":f===!0?e.setAttribute(s,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?e.setAttribute(s,f):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?e.setAttribute(s,f):e.removeAttribute(s);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?e.removeAttribute(s):e.setAttribute(s,f);break;case"popover":ut("beforetoggle",e),ut("toggle",e),ir(e,"popover",f);break;case"xlinkActuate":Ei(e,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ei(e,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ei(e,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ei(e,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ei(e,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ei(e,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ei(e,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ei(e,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ei(e,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ir(e,"is",f);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vo.get(s)||s,ir(e,s,f))}}function m0(e,i,s,f,x,_){switch(s){case"style":ze(e,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(d(61));if(s=f.__html,s!=null){if(x.children!=null)throw Error(d(60));e.innerHTML=s}}break;case"children":typeof f=="string"?lr(e,f):(typeof f=="number"||typeof f=="bigint")&&lr(e,""+f);break;case"onScroll":f!=null&&ut("scroll",e);break;case"onScrollEnd":f!=null&&ut("scrollend",e);break;case"onClick":f!=null&&(e.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(x=s.endsWith("Capture"),i=s.slice(2,x?s.length-7:void 0),_=e[Bt]||null,_=_!=null?_[s]:null,typeof _=="function"&&e.removeEventListener(i,_,x),typeof f=="function")){typeof _!="function"&&_!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,f,x);break e}s in e?e[s]=f:f===!0?e.setAttribute(s,""):ir(e,s,f)}}}function Vn(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",e),ut("load",e);var f=!1,x=!1,_;for(_ in s)if(s.hasOwnProperty(_)){var v=s[_];if(v!=null)switch(_){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,i));default:Pt(e,i,_,v,s,null)}}x&&Pt(e,i,"srcSet",s.srcSet,s,null),f&&Pt(e,i,"src",s.src,s,null);return;case"input":ut("invalid",e);var I=_=v=x=null,z=null,K=null;for(f in s)if(s.hasOwnProperty(f)){var le=s[f];if(le!=null)switch(f){case"name":x=le;break;case"type":v=le;break;case"checked":z=le;break;case"defaultChecked":K=le;break;case"value":_=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(d(137,i));break;default:Pt(e,i,f,le,s,null)}}j(e,_,I,z,K,v,x,!1);return;case"select":ut("invalid",e),f=v=_=null;for(x in s)if(s.hasOwnProperty(x)&&(I=s[x],I!=null))switch(x){case"value":_=I;break;case"defaultValue":v=I;break;case"multiple":f=I;default:Pt(e,i,x,I,s,null)}i=_,s=v,e.multiple=!!f,i!=null?Be(e,!!f,i,!1):s!=null&&Be(e,!!f,s,!0);return;case"textarea":ut("invalid",e),_=x=f=null;for(v in s)if(s.hasOwnProperty(v)&&(I=s[v],I!=null))switch(v){case"value":f=I;break;case"defaultValue":x=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(d(91));break;default:Pt(e,i,v,I,s,null)}$n(e,f,x,_);return;case"option":for(z in s)s.hasOwnProperty(z)&&(f=s[z],f!=null)&&(z==="selected"?e.selected=f&&typeof f!="function"&&typeof f!="symbol":Pt(e,i,z,f,s,null));return;case"dialog":ut("beforetoggle",e),ut("toggle",e),ut("cancel",e),ut("close",e);break;case"iframe":case"object":ut("load",e);break;case"video":case"audio":for(f=0;f<oo.length;f++)ut(oo[f],e);break;case"image":ut("error",e),ut("load",e);break;case"details":ut("toggle",e);break;case"embed":case"source":case"link":ut("error",e),ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(f=s[K],f!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,i));default:Pt(e,i,K,f,s,null)}return;default:if(Zt(i)){for(le in s)s.hasOwnProperty(le)&&(f=s[le],f!==void 0&&m0(e,i,le,f,s,void 0));return}}for(I in s)s.hasOwnProperty(I)&&(f=s[I],f!=null&&Pt(e,i,I,f,s,null))}function n3(e,i,s,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,v=null,I=null,z=null,K=null,le=null;for(ae in s){var ce=s[ae];if(s.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":z=ce;default:f.hasOwnProperty(ae)||Pt(e,i,ae,null,f,ce)}}for(var J in f){var ae=f[J];if(ce=s[J],f.hasOwnProperty(J)&&(ae!=null||ce!=null))switch(J){case"type":_=ae;break;case"name":x=ae;break;case"checked":K=ae;break;case"defaultChecked":le=ae;break;case"value":v=ae;break;case"defaultValue":I=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(d(137,i));break;default:ae!==ce&&Pt(e,i,J,ae,f,ce)}}An(e,v,I,z,K,le,_,x);return;case"select":ae=v=I=J=null;for(_ in s)if(z=s[_],s.hasOwnProperty(_)&&z!=null)switch(_){case"value":break;case"multiple":ae=z;default:f.hasOwnProperty(_)||Pt(e,i,_,null,f,z)}for(x in f)if(_=f[x],z=s[x],f.hasOwnProperty(x)&&(_!=null||z!=null))switch(x){case"value":J=_;break;case"defaultValue":I=_;break;case"multiple":v=_;default:_!==z&&Pt(e,i,x,_,f,z)}i=I,s=v,f=ae,J!=null?Be(e,!!s,J,!1):!!f!=!!s&&(i!=null?Be(e,!!s,i,!0):Be(e,!!s,s?[]:"",!1));return;case"textarea":ae=J=null;for(I in s)if(x=s[I],s.hasOwnProperty(I)&&x!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Pt(e,i,I,null,f,x)}for(v in f)if(x=f[v],_=s[v],f.hasOwnProperty(v)&&(x!=null||_!=null))switch(v){case"value":J=x;break;case"defaultValue":ae=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(d(91));break;default:x!==_&&Pt(e,i,v,x,f,_)}mn(e,J,ae);return;case"option":for(var Me in s)J=s[Me],s.hasOwnProperty(Me)&&J!=null&&!f.hasOwnProperty(Me)&&(Me==="selected"?e.selected=!1:Pt(e,i,Me,null,f,J));for(z in f)J=f[z],ae=s[z],f.hasOwnProperty(z)&&J!==ae&&(J!=null||ae!=null)&&(z==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":Pt(e,i,z,J,f,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in s)J=s[Ge],s.hasOwnProperty(Ge)&&J!=null&&!f.hasOwnProperty(Ge)&&Pt(e,i,Ge,null,f,J);for(K in f)if(J=f[K],ae=s[K],f.hasOwnProperty(K)&&J!==ae&&(J!=null||ae!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(d(137,i));break;default:Pt(e,i,K,J,f,ae)}return;default:if(Zt(i)){for(var Ht in s)J=s[Ht],s.hasOwnProperty(Ht)&&J!==void 0&&!f.hasOwnProperty(Ht)&&m0(e,i,Ht,void 0,f,J);for(le in f)J=f[le],ae=s[le],!f.hasOwnProperty(le)||J===ae||J===void 0&&ae===void 0||m0(e,i,le,J,f,ae);return}}for(var G in s)J=s[G],s.hasOwnProperty(G)&&J!=null&&!f.hasOwnProperty(G)&&Pt(e,i,G,null,f,J);for(ce in f)J=f[ce],ae=s[ce],!f.hasOwnProperty(ce)||J===ae||J==null&&ae==null||Pt(e,i,ce,J,f,ae)}function u2(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function i3(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),f=0;f<s.length;f++){var x=s[f],_=x.transferSize,v=x.initiatorType,I=x.duration;if(_&&I&&u2(v)){for(v=0,I=x.responseEnd,f+=1;f<s.length;f++){var z=s[f],K=z.startTime;if(K>I)break;var le=z.transferSize,ce=z.initiatorType;le&&u2(ce)&&(z=z.responseEnd,v+=le*(z<I?1:(I-K)/(z-K)))}if(--f,i+=8*(_+v)/(x.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var x0=null,p0=null;function Vc(e){return e.nodeType===9?e:e.ownerDocument}function f2(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h2(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function w0(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _0=null;function a3(){var e=window.event;return e&&e.type==="popstate"?e===_0?!1:(_0=e,!0):(_0=null,!1)}var d2=typeof setTimeout=="function"?setTimeout:void 0,r3=typeof clearTimeout=="function"?clearTimeout:void 0,g2=typeof Promise=="function"?Promise:void 0,l3=typeof queueMicrotask=="function"?queueMicrotask:typeof g2<"u"?function(e){return g2.resolve(null).then(e).catch(s3)}:d2;function s3(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function m2(e,i){var s=i,f=0;do{var x=s.nextSibling;if(e.removeChild(s),x&&x.nodeType===8)if(s=x.data,s==="/$"||s==="/&"){if(f===0){e.removeChild(x),hs(i);return}f--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")f++;else if(s==="html")uo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,uo(s);for(var _=s.firstChild;_;){var v=_.nextSibling,I=_.nodeName;_[qr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=v}}else s==="body"&&uo(e.ownerDocument.body);s=x}while(s);hs(i)}function x2(e,i){var s=e;e=0;do{var f=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=f}while(s)}function E0(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":E0(s),li(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function o3(e,i,s,f){for(;e.nodeType===1;){var x=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(f){if(!e[qr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==x.rel||e.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||e.getAttribute("title")!==(x.title==null?null:x.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(x.src==null?null:x.src)||e.getAttribute("type")!==(x.type==null?null:x.type)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=ji(e.nextSibling),e===null)break}return null}function c3(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ji(e.nextSibling),e===null))return null;return e}function p2(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ji(e.nextSibling),e===null))return null;return e}function y0(e){return e.data==="$?"||e.data==="$~"}function A0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function u3(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var f=function(){i(),s.removeEventListener("DOMContentLoaded",f)};s.addEventListener("DOMContentLoaded",f),e._reactRetry=f}}function ji(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var b0=null;function w2(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return ji(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function _2(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function E2(e,i,s){switch(i=Vc(s),e){case"html":if(e=i.documentElement,!e)throw Error(d(452));return e;case"head":if(e=i.head,!e)throw Error(d(453));return e;case"body":if(e=i.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function uo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);li(e)}var Yi=new Map,y2=new Set;function Xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ya=se.d;se.d={f:f3,r:h3,D:d3,C:g3,L:m3,m:x3,X:w3,S:p3,M:_3};function f3(){var e=Ya.f(),i=Lc();return e||i}function h3(e){var i=vt(e);i!==null&&i.tag===5&&i.type==="form"?Uh(i):Ya.r(e)}var cs=typeof document>"u"?null:document;function A2(e,i,s){var f=cs;if(f&&typeof i=="string"&&i){var x=at(i);x='link[rel="'+e+'"][href="'+x+'"]',typeof s=="string"&&(x+='[crossorigin="'+s+'"]'),y2.has(x)||(y2.add(x),e={rel:e,crossOrigin:s,href:i},f.querySelector(x)===null&&(i=f.createElement("link"),Vn(i,"link",e),on(i),f.head.appendChild(i)))}}function d3(e){Ya.D(e),A2("dns-prefetch",e,null)}function g3(e,i){Ya.C(e,i),A2("preconnect",e,i)}function m3(e,i,s){Ya.L(e,i,s);var f=cs;if(f&&e&&i){var x='link[rel="preload"][as="'+at(i)+'"]';i==="image"&&s&&s.imageSrcSet?(x+='[imagesrcset="'+at(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(x+='[imagesizes="'+at(s.imageSizes)+'"]')):x+='[href="'+at(e)+'"]';var _=x;switch(i){case"style":_=us(e);break;case"script":_=fs(e)}Yi.has(_)||(e=D({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Yi.set(_,e),f.querySelector(x)!==null||i==="style"&&f.querySelector(fo(_))||i==="script"&&f.querySelector(ho(_))||(i=f.createElement("link"),Vn(i,"link",e),on(i),f.head.appendChild(i)))}}function x3(e,i){Ya.m(e,i);var s=cs;if(s&&e){var f=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+at(f)+'"][href="'+at(e)+'"]',_=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=fs(e)}if(!Yi.has(_)&&(e=D({rel:"modulepreload",href:e},i),Yi.set(_,e),s.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ho(_)))return}f=s.createElement("link"),Vn(f,"link",e),on(f),s.head.appendChild(f)}}}function p3(e,i,s){Ya.S(e,i,s);var f=cs;if(f&&e){var x=Jn(f).hoistableStyles,_=us(e);i=i||"default";var v=x.get(_);if(!v){var I={loading:0,preload:null};if(v=f.querySelector(fo(_)))I.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Yi.get(_))&&C0(e,s);var z=v=f.createElement("link");on(z),Vn(z,"link",e),z._p=new Promise(function(K,le){z.onload=K,z.onerror=le}),z.addEventListener("load",function(){I.loading|=1}),z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,jc(v,i,f)}v={type:"stylesheet",instance:v,count:1,state:I},x.set(_,v)}}}function w3(e,i){Ya.X(e,i);var s=cs;if(s&&e){var f=Jn(s).hoistableScripts,x=fs(e),_=f.get(x);_||(_=s.querySelector(ho(x)),_||(e=D({src:e,async:!0},i),(i=Yi.get(x))&&S0(e,i),_=s.createElement("script"),on(_),Vn(_,"link",e),s.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(x,_))}}function _3(e,i){Ya.M(e,i);var s=cs;if(s&&e){var f=Jn(s).hoistableScripts,x=fs(e),_=f.get(x);_||(_=s.querySelector(ho(x)),_||(e=D({src:e,async:!0,type:"module"},i),(i=Yi.get(x))&&S0(e,i),_=s.createElement("script"),on(_),Vn(_,"link",e),s.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(x,_))}}function b2(e,i,s,f){var x=(x=_e.current)?Xc(x):null;if(!x)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=us(s.href),s=Jn(x).hoistableStyles,f=s.get(i),f||(f={type:"style",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=us(s.href);var _=Jn(x).hoistableStyles,v=_.get(e);if(v||(x=x.ownerDocument||x,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,v),(_=x.querySelector(fo(e)))&&!_._p&&(v.instance=_,v.state.loading=5),Yi.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Yi.set(e,s),_||E3(x,e,s,v.state))),i&&f===null)throw Error(d(528,""));return v}if(i&&f!==null)throw Error(d(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fs(s),s=Jn(x).hoistableScripts,f=s.get(i),f||(f={type:"script",instance:null,count:0,state:null},s.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function us(e){return'href="'+at(e)+'"'}function fo(e){return'link[rel="stylesheet"]['+e+"]"}function C2(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function E3(e,i,s,f){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=e.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),Vn(i,"link",s),on(i),e.head.appendChild(i))}function fs(e){return'[src="'+at(e)+'"]'}function ho(e){return"script[async]"+e}function S2(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var f=e.querySelector('style[data-href~="'+at(s.href)+'"]');if(f)return i.instance=f,on(f),f;var x=D({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return f=(e.ownerDocument||e).createElement("style"),on(f),Vn(f,"style",x),jc(f,s.precedence,e),i.instance=f;case"stylesheet":x=us(s.href);var _=e.querySelector(fo(x));if(_)return i.state.loading|=4,i.instance=_,on(_),_;f=C2(s),(x=Yi.get(x))&&C0(f,x),_=(e.ownerDocument||e).createElement("link"),on(_);var v=_;return v._p=new Promise(function(I,z){v.onload=I,v.onerror=z}),Vn(_,"link",f),i.state.loading|=4,jc(_,s.precedence,e),i.instance=_;case"script":return _=fs(s.src),(x=e.querySelector(ho(_)))?(i.instance=x,on(x),x):(f=s,(x=Yi.get(_))&&(f=D({},s),S0(f,x)),e=e.ownerDocument||e,x=e.createElement("script"),on(x),Vn(x,"link",f),e.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(d(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,jc(f,s.precedence,e));return i.instance}function jc(e,i,s){for(var f=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,_=x,v=0;v<f.length;v++){var I=f[v];if(I.dataset.precedence===i)_=I;else if(_!==x)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function C0(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function S0(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yc=null;function v2(e,i,s){if(Yc===null){var f=new Map,x=Yc=new Map;x.set(s,f)}else x=Yc,f=x.get(s),f||(f=new Map,x.set(s,f));if(f.has(e))return f;for(f.set(e,null),s=s.getElementsByTagName(e),x=0;x<s.length;x++){var _=s[x];if(!(_[qr]||_[gn]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var v=_.getAttribute(i)||"";v=e+v;var I=f.get(v);I?I.push(_):f.set(v,[_])}}return f}function T2(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function y3(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O2(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function A3(e,i,s,f){if(s.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var x=us(f.href),_=i.querySelector(fo(x));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=qc.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=_,on(_);return}_=i.ownerDocument||i,f=C2(f),(x=Yi.get(x))&&C0(f,x),_=_.createElement("link"),on(_);var v=_;v._p=new Promise(function(I,z){v.onload=I,v.onerror=z}),Vn(_,"link",f),s.instance=_}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=qc.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var v0=0;function b3(e,i){return e.stylesheets&&e.count===0&&Qc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var f=setTimeout(function(){if(e.stylesheets&&Qc(e,e.stylesheets),e.unsuspend){var _=e.unsuspend;e.unsuspend=null,_()}},6e4+i);0<e.imgBytes&&v0===0&&(v0=62500*i3());var x=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Qc(e,e.stylesheets),e.unsuspend)){var _=e.unsuspend;e.unsuspend=null,_()}},(e.imgBytes>v0?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(f),clearTimeout(x)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kc=null;function Qc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kc=new Map,i.forEach(C3,e),Kc=null,qc.call(e))}function C3(e,i){if(!(i.state.loading&4)){var s=Kc.get(e);if(s)var f=s.get(null);else{s=new Map,Kc.set(e,s);for(var x=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var v=x[_];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),f=v)}f&&s.set(null,f)}x=i.instance,v=x.getAttribute("data-precedence"),_=s.get(v)||f,_===f&&s.set(null,x),s.set(v,x),this.count++,f=qc.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),_?_.parentNode.insertBefore(x,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(x,e.firstChild)),i.state.loading|=4}}var go={$$typeof:Q,Provider:null,Consumer:null,_currentValue:Le,_currentValue2:Le,_threadCount:0};function S3(e,i,s,f,x,_,v,I,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.hiddenUpdates=ua(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function N2(e,i,s,f,x,_,v,I,z,K,le,ce){return e=new S3(e,i,s,v,z,K,le,ce,I),i=1,_===!0&&(i|=24),_=Ci(3,null,null,i),e.current=_,_.stateNode=e,i=rf(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:f,isDehydrated:s,cache:i},cf(_),e}function R2(e){return e?(e=Zl,e):Zl}function I2(e,i,s,f,x,_){x=R2(x),f.context===null?f.context=x:f.pendingContext=x,f=Er(i),f.payload={element:s},_=_===void 0?null:_,_!==null&&(f.callback=_),s=yr(e,f,i),s!==null&&(gi(s,e,i),Xs(s,e,i))}function D2(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function T0(e,i){D2(e,i),(e=e.alternate)&&D2(e,i)}function M2(e){if(e.tag===13||e.tag===31){var i=il(e,67108864);i!==null&&gi(i,e,67108864),T0(e,67108864)}}function B2(e){if(e.tag===13||e.tag===31){var i=Ni();i=Bn(i);var s=il(e,i);s!==null&&gi(s,e,i),T0(e,i)}}var Wc=!0;function v3(e,i,s,f){var x=te.T;te.T=null;var _=se.p;try{se.p=2,O0(e,i,s,f)}finally{se.p=_,te.T=x}}function T3(e,i,s,f){var x=te.T;te.T=null;var _=se.p;try{se.p=8,O0(e,i,s,f)}finally{se.p=_,te.T=x}}function O0(e,i,s,f){if(Wc){var x=N0(f);if(x===null)g0(e,i,f,Jc,s),L2(e,f);else if(N3(x,e,i,s,f))f.stopPropagation();else if(L2(e,f),i&4&&-1<O3.indexOf(e)){for(;x!==null;){var _=vt(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var v=ca(_.pendingLanes);if(v!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;v;){var z=1<<31-$e(v);I.entanglements[1]|=z,v&=~z}Ea(_),(Ot&6)===0&&(Bc=jt()+500,so(0))}}break;case 31:case 13:I=il(_,2),I!==null&&gi(I,_,2),Lc(),T0(_,2)}if(_=N0(f),_===null&&g0(e,i,f,Jc,s),_===x)break;x=_}x!==null&&f.stopPropagation()}else g0(e,i,f,null,s)}}function N0(e){return e=Rs(e),R0(e)}var Jc=null;function R0(e){if(Jc=null,e=sn(e),e!==null){var i=p(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=A(i),e!==null)return e;e=null}else if(s===31){if(e=C(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Jc=e,null}function k2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case Yn:return 2;case $a:return 8;case Ce:case Pe:return 32;case yn:return 268435456;default:return 32}default:return 32}}var I0=!1,Dr=null,Mr=null,Br=null,mo=new Map,xo=new Map,kr=[],O3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L2(e,i){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":mo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(i.pointerId)}}function po(e,i,s,f,x,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:s,eventSystemFlags:f,nativeEvent:_,targetContainers:[x]},i!==null&&(i=vt(i),i!==null&&M2(i)),e):(e.eventSystemFlags|=f,i=e.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),e)}function N3(e,i,s,f,x){switch(i){case"focusin":return Dr=po(Dr,e,i,s,f,x),!0;case"dragenter":return Mr=po(Mr,e,i,s,f,x),!0;case"mouseover":return Br=po(Br,e,i,s,f,x),!0;case"pointerover":var _=x.pointerId;return mo.set(_,po(mo.get(_)||null,e,i,s,f,x)),!0;case"gotpointercapture":return _=x.pointerId,xo.set(_,po(xo.get(_)||null,e,i,s,f,x)),!0}return!1}function z2(e){var i=sn(e.target);if(i!==null){var s=p(i);if(s!==null){if(i=s.tag,i===13){if(i=A(s),i!==null){e.blockedOn=i,Re(e.priority,function(){B2(s)});return}}else if(i===31){if(i=C(s),i!==null){e.blockedOn=i,Re(e.priority,function(){B2(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=N0(e.nativeEvent);if(s===null){s=e.nativeEvent;var f=new s.constructor(s.type,s);Kr=f,s.target.dispatchEvent(f),Kr=null}else return i=vt(s),i!==null&&M2(i),e.blockedOn=s,!1;i.shift()}return!0}function U2(e,i,s){$c(e)&&s.delete(i)}function R3(){I0=!1,Dr!==null&&$c(Dr)&&(Dr=null),Mr!==null&&$c(Mr)&&(Mr=null),Br!==null&&$c(Br)&&(Br=null),mo.forEach(U2),xo.forEach(U2)}function eu(e,i){e.blockedOn===i&&(e.blockedOn=null,I0||(I0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,R3)))}var tu=null;function F2(e){tu!==e&&(tu=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){tu===e&&(tu=null);for(var i=0;i<e.length;i+=3){var s=e[i],f=e[i+1],x=e[i+2];if(typeof f!="function"){if(R0(f||s)===null)continue;break}var _=vt(s);_!==null&&(e.splice(i,3),i-=3,Nf(_,{pending:!0,data:x,method:s.method,action:f},f,x))}}))}function hs(e){function i(z){return eu(z,e)}Dr!==null&&eu(Dr,e),Mr!==null&&eu(Mr,e),Br!==null&&eu(Br,e),mo.forEach(i),xo.forEach(i);for(var s=0;s<kr.length;s++){var f=kr[s];f.blockedOn===e&&(f.blockedOn=null)}for(;0<kr.length&&(s=kr[0],s.blockedOn===null);)z2(s),s.blockedOn===null&&kr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(f=0;f<s.length;f+=3){var x=s[f],_=s[f+1],v=x[Bt]||null;if(typeof _=="function")v||F2(s);else if(v){var I=null;if(_&&_.hasAttribute("formAction")){if(x=_,v=_[Bt]||null)I=v.formAction;else if(R0(x)!==null)continue}else I=v.action;typeof I=="function"?s[f+1]=I:(s.splice(f,3),f-=3),F2(s)}}}function P2(){function e(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(v){return x=v})},focusReset:"manual",scroll:"manual"})}function i(){x!==null&&(x(),x=null),f||setTimeout(s,20)}function s(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,x=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){f=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),x!==null&&(x(),x=null)}}}function D0(e){this._internalRoot=e}nu.prototype.render=D0.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(d(409));var s=i.current,f=Ni();I2(s,f,e,i,null,null)},nu.prototype.unmount=D0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;I2(e.current,2,null,e,null,null),Lc(),i[wi]=null}};function nu(e){this._internalRoot=e}nu.prototype.unstable_scheduleHydration=function(e){if(e){var i=Qn();e={blockedOn:null,target:e,priority:i};for(var s=0;s<kr.length&&i!==0&&i<kr[s].priority;s++);kr.splice(s,0,e),s===0&&z2(e)}};var H2=o.version;if(H2!=="19.2.4")throw Error(d(527,H2,"19.2.4"));se.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=E(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var I3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Ut=iu.inject(I3),me=iu}catch{}}return _o.createRoot=function(e,i){if(!m(e))throw Error(d(299));var s=!1,f="",x=qh,_=Kh,v=Qh;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=N2(e,1,!1,null,null,s,f,null,x,_,v,P2),e[wi]=i.current,d0(e),new D0(i)},_o.hydrateRoot=function(e,i,s){if(!m(e))throw Error(d(299));var f=!1,x="",_=qh,v=Kh,I=Qh,z=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(x=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError),s.formState!==void 0&&(z=s.formState)),i=N2(e,1,!0,i,s??null,f,x,z,_,v,I,P2),i.context=R2(null),s=i.current,f=Ni(),f=Bn(f),x=Er(f),x.callback=null,yr(s,x,f),s=f,i.current.lanes=s,fa(i,s),Ea(i),e[wi]=i.current,d0(e),new nu(i)},_o.version="19.2.4",_o}var W2;function Z3(){if(W2)return k0.exports;W2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),k0.exports=H3(),k0.exports}var G3=Z3(),V3=Object.defineProperty,pu=Object.getOwnPropertySymbols,Im=Object.prototype.hasOwnProperty,Dm=Object.prototype.propertyIsEnumerable,J2=(n,o,l)=>o in n?V3(n,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[o]=l,a1=(n,o)=>{for(var l in o||(o={}))Im.call(o,l)&&J2(n,l,o[l]);if(pu)for(var l of pu(o))Dm.call(o,l)&&J2(n,l,o[l]);return n},r1=(n,o)=>{var l={};for(var d in n)Im.call(n,d)&&o.indexOf(d)<0&&(l[d]=n[d]);if(n!=null&&pu)for(var d of pu(n))o.indexOf(d)<0&&Dm.call(n,d)&&(l[d]=n[d]);return l};var yl;(n=>{const o=class ft{constructor(S,E,T,D){if(this.version=S,this.errorCorrectionLevel=E,this.modules=[],this.isFunction=[],S<ft.MIN_VERSION||S>ft.MAX_VERSION)throw new RangeError("Version value out of range");if(D<-1||D>7)throw new RangeError("Mask value out of range");this.size=S*4+17;let k=[];for(let X=0;X<this.size;X++)k.push(!1);for(let X=0;X<this.size;X++)this.modules.push(k.slice()),this.isFunction.push(k.slice());this.drawFunctionPatterns();const L=this.addEccAndInterleave(T);if(this.drawCodewords(L),D==-1){let X=1e9;for(let re=0;re<8;re++){this.applyMask(re),this.drawFormatBits(re);const fe=this.getPenaltyScore();fe<X&&(D=re,X=fe),this.applyMask(re)}}m(0<=D&&D<=7),this.mask=D,this.applyMask(D),this.drawFormatBits(D),this.isFunction=[]}static encodeText(S,E){const T=n.QrSegment.makeSegments(S);return ft.encodeSegments(T,E)}static encodeBinary(S,E){const T=n.QrSegment.makeBytes(S);return ft.encodeSegments([T],E)}static encodeSegments(S,E,T=1,D=40,k=-1,L=!0){if(!(ft.MIN_VERSION<=T&&T<=D&&D<=ft.MAX_VERSION)||k<-1||k>7)throw new RangeError("Invalid value");let X,re;for(X=T;;X++){const Q=ft.getNumDataCodewords(X,E)*8,Y=A.getTotalBits(S,X);if(Y<=Q){re=Y;break}if(X>=D)throw new RangeError("Data too long")}for(const Q of[ft.Ecc.MEDIUM,ft.Ecc.QUARTILE,ft.Ecc.HIGH])L&&re<=ft.getNumDataCodewords(X,Q)*8&&(E=Q);let fe=[];for(const Q of S){l(Q.mode.modeBits,4,fe),l(Q.numChars,Q.mode.numCharCountBits(X),fe);for(const Y of Q.getData())fe.push(Y)}m(fe.length==re);const be=ft.getNumDataCodewords(X,E)*8;m(fe.length<=be),l(0,Math.min(4,be-fe.length),fe),l(0,(8-fe.length%8)%8,fe),m(fe.length%8==0);for(let Q=236;fe.length<be;Q^=253)l(Q,8,fe);let we=[];for(;we.length*8<fe.length;)we.push(0);return fe.forEach((Q,Y)=>we[Y>>>3]|=Q<<7-(Y&7)),new ft(X,E,we,k)}getModule(S,E){return 0<=S&&S<this.size&&0<=E&&E<this.size&&this.modules[E][S]}getModules(){return this.modules}drawFunctionPatterns(){for(let T=0;T<this.size;T++)this.setFunctionModule(6,T,T%2==0),this.setFunctionModule(T,6,T%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const S=this.getAlignmentPatternPositions(),E=S.length;for(let T=0;T<E;T++)for(let D=0;D<E;D++)T==0&&D==0||T==0&&D==E-1||T==E-1&&D==0||this.drawAlignmentPattern(S[T],S[D]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(S){const E=this.errorCorrectionLevel.formatBits<<3|S;let T=E;for(let k=0;k<10;k++)T=T<<1^(T>>>9)*1335;const D=(E<<10|T)^21522;m(D>>>15==0);for(let k=0;k<=5;k++)this.setFunctionModule(8,k,d(D,k));this.setFunctionModule(8,7,d(D,6)),this.setFunctionModule(8,8,d(D,7)),this.setFunctionModule(7,8,d(D,8));for(let k=9;k<15;k++)this.setFunctionModule(14-k,8,d(D,k));for(let k=0;k<8;k++)this.setFunctionModule(this.size-1-k,8,d(D,k));for(let k=8;k<15;k++)this.setFunctionModule(8,this.size-15+k,d(D,k));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let S=this.version;for(let T=0;T<12;T++)S=S<<1^(S>>>11)*7973;const E=this.version<<12|S;m(E>>>18==0);for(let T=0;T<18;T++){const D=d(E,T),k=this.size-11+T%3,L=Math.floor(T/3);this.setFunctionModule(k,L,D),this.setFunctionModule(L,k,D)}}drawFinderPattern(S,E){for(let T=-4;T<=4;T++)for(let D=-4;D<=4;D++){const k=Math.max(Math.abs(D),Math.abs(T)),L=S+D,X=E+T;0<=L&&L<this.size&&0<=X&&X<this.size&&this.setFunctionModule(L,X,k!=2&&k!=4)}}drawAlignmentPattern(S,E){for(let T=-2;T<=2;T++)for(let D=-2;D<=2;D++)this.setFunctionModule(S+D,E+T,Math.max(Math.abs(D),Math.abs(T))!=1)}setFunctionModule(S,E,T){this.modules[E][S]=T,this.isFunction[E][S]=!0}addEccAndInterleave(S){const E=this.version,T=this.errorCorrectionLevel;if(S.length!=ft.getNumDataCodewords(E,T))throw new RangeError("Invalid argument");const D=ft.NUM_ERROR_CORRECTION_BLOCKS[T.ordinal][E],k=ft.ECC_CODEWORDS_PER_BLOCK[T.ordinal][E],L=Math.floor(ft.getNumRawDataModules(E)/8),X=D-L%D,re=Math.floor(L/D);let fe=[];const be=ft.reedSolomonComputeDivisor(k);for(let Q=0,Y=0;Q<D;Q++){let ve=S.slice(Y,Y+re-k+(Q<X?0:1));Y+=ve.length;const ye=ft.reedSolomonComputeRemainder(ve,be);Q<X&&ve.push(0),fe.push(ve.concat(ye))}let we=[];for(let Q=0;Q<fe[0].length;Q++)fe.forEach((Y,ve)=>{(Q!=re-k||ve>=X)&&we.push(Y[Q])});return m(we.length==L),we}drawCodewords(S){if(S.length!=Math.floor(ft.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let E=0;for(let T=this.size-1;T>=1;T-=2){T==6&&(T=5);for(let D=0;D<this.size;D++)for(let k=0;k<2;k++){const L=T-k,re=(T+1&2)==0?this.size-1-D:D;!this.isFunction[re][L]&&E<S.length*8&&(this.modules[re][L]=d(S[E>>>3],7-(E&7)),E++)}}m(E==S.length*8)}applyMask(S){if(S<0||S>7)throw new RangeError("Mask value out of range");for(let E=0;E<this.size;E++)for(let T=0;T<this.size;T++){let D;switch(S){case 0:D=(T+E)%2==0;break;case 1:D=E%2==0;break;case 2:D=T%3==0;break;case 3:D=(T+E)%3==0;break;case 4:D=(Math.floor(T/3)+Math.floor(E/2))%2==0;break;case 5:D=T*E%2+T*E%3==0;break;case 6:D=(T*E%2+T*E%3)%2==0;break;case 7:D=((T+E)%2+T*E%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[E][T]&&D&&(this.modules[E][T]=!this.modules[E][T])}}getPenaltyScore(){let S=0;for(let k=0;k<this.size;k++){let L=!1,X=0,re=[0,0,0,0,0,0,0];for(let fe=0;fe<this.size;fe++)this.modules[k][fe]==L?(X++,X==5?S+=ft.PENALTY_N1:X>5&&S++):(this.finderPenaltyAddHistory(X,re),L||(S+=this.finderPenaltyCountPatterns(re)*ft.PENALTY_N3),L=this.modules[k][fe],X=1);S+=this.finderPenaltyTerminateAndCount(L,X,re)*ft.PENALTY_N3}for(let k=0;k<this.size;k++){let L=!1,X=0,re=[0,0,0,0,0,0,0];for(let fe=0;fe<this.size;fe++)this.modules[fe][k]==L?(X++,X==5?S+=ft.PENALTY_N1:X>5&&S++):(this.finderPenaltyAddHistory(X,re),L||(S+=this.finderPenaltyCountPatterns(re)*ft.PENALTY_N3),L=this.modules[fe][k],X=1);S+=this.finderPenaltyTerminateAndCount(L,X,re)*ft.PENALTY_N3}for(let k=0;k<this.size-1;k++)for(let L=0;L<this.size-1;L++){const X=this.modules[k][L];X==this.modules[k][L+1]&&X==this.modules[k+1][L]&&X==this.modules[k+1][L+1]&&(S+=ft.PENALTY_N2)}let E=0;for(const k of this.modules)E=k.reduce((L,X)=>L+(X?1:0),E);const T=this.size*this.size,D=Math.ceil(Math.abs(E*20-T*10)/T)-1;return m(0<=D&&D<=9),S+=D*ft.PENALTY_N4,m(0<=S&&S<=2568888),S}getAlignmentPatternPositions(){if(this.version==1)return[];{const S=Math.floor(this.version/7)+2,E=this.version==32?26:Math.ceil((this.version*4+4)/(S*2-2))*2;let T=[6];for(let D=this.size-7;T.length<S;D-=E)T.splice(1,0,D);return T}}static getNumRawDataModules(S){if(S<ft.MIN_VERSION||S>ft.MAX_VERSION)throw new RangeError("Version number out of range");let E=(16*S+128)*S+64;if(S>=2){const T=Math.floor(S/7)+2;E-=(25*T-10)*T-55,S>=7&&(E-=36)}return m(208<=E&&E<=29648),E}static getNumDataCodewords(S,E){return Math.floor(ft.getNumRawDataModules(S)/8)-ft.ECC_CODEWORDS_PER_BLOCK[E.ordinal][S]*ft.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][S]}static reedSolomonComputeDivisor(S){if(S<1||S>255)throw new RangeError("Degree out of range");let E=[];for(let D=0;D<S-1;D++)E.push(0);E.push(1);let T=1;for(let D=0;D<S;D++){for(let k=0;k<E.length;k++)E[k]=ft.reedSolomonMultiply(E[k],T),k+1<E.length&&(E[k]^=E[k+1]);T=ft.reedSolomonMultiply(T,2)}return E}static reedSolomonComputeRemainder(S,E){let T=E.map(D=>0);for(const D of S){const k=D^T.shift();T.push(0),E.forEach((L,X)=>T[X]^=ft.reedSolomonMultiply(L,k))}return T}static reedSolomonMultiply(S,E){if(S>>>8||E>>>8)throw new RangeError("Byte out of range");let T=0;for(let D=7;D>=0;D--)T=T<<1^(T>>>7)*285,T^=(E>>>D&1)*S;return m(T>>>8==0),T}finderPenaltyCountPatterns(S){const E=S[1];m(E<=this.size*3);const T=E>0&&S[2]==E&&S[3]==E*3&&S[4]==E&&S[5]==E;return(T&&S[0]>=E*4&&S[6]>=E?1:0)+(T&&S[6]>=E*4&&S[0]>=E?1:0)}finderPenaltyTerminateAndCount(S,E,T){return S&&(this.finderPenaltyAddHistory(E,T),E=0),E+=this.size,this.finderPenaltyAddHistory(E,T),this.finderPenaltyCountPatterns(T)}finderPenaltyAddHistory(S,E){E[0]==0&&(S+=this.size),E.pop(),E.unshift(S)}};o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=o;function l(C,S,E){if(S<0||S>31||C>>>S)throw new RangeError("Value out of range");for(let T=S-1;T>=0;T--)E.push(C>>>T&1)}function d(C,S){return(C>>>S&1)!=0}function m(C){if(!C)throw new Error("Assertion error")}const p=class hn{constructor(S,E,T){if(this.mode=S,this.numChars=E,this.bitData=T,E<0)throw new RangeError("Invalid argument");this.bitData=T.slice()}static makeBytes(S){let E=[];for(const T of S)l(T,8,E);return new hn(hn.Mode.BYTE,S.length,E)}static makeNumeric(S){if(!hn.isNumeric(S))throw new RangeError("String contains non-numeric characters");let E=[];for(let T=0;T<S.length;){const D=Math.min(S.length-T,3);l(parseInt(S.substring(T,T+D),10),D*3+1,E),T+=D}return new hn(hn.Mode.NUMERIC,S.length,E)}static makeAlphanumeric(S){if(!hn.isAlphanumeric(S))throw new RangeError("String contains unencodable characters in alphanumeric mode");let E=[],T;for(T=0;T+2<=S.length;T+=2){let D=hn.ALPHANUMERIC_CHARSET.indexOf(S.charAt(T))*45;D+=hn.ALPHANUMERIC_CHARSET.indexOf(S.charAt(T+1)),l(D,11,E)}return T<S.length&&l(hn.ALPHANUMERIC_CHARSET.indexOf(S.charAt(T)),6,E),new hn(hn.Mode.ALPHANUMERIC,S.length,E)}static makeSegments(S){return S==""?[]:hn.isNumeric(S)?[hn.makeNumeric(S)]:hn.isAlphanumeric(S)?[hn.makeAlphanumeric(S)]:[hn.makeBytes(hn.toUtf8ByteArray(S))]}static makeEci(S){let E=[];if(S<0)throw new RangeError("ECI assignment value out of range");if(S<128)l(S,8,E);else if(S<16384)l(2,2,E),l(S,14,E);else if(S<1e6)l(6,3,E),l(S,21,E);else throw new RangeError("ECI assignment value out of range");return new hn(hn.Mode.ECI,0,E)}static isNumeric(S){return hn.NUMERIC_REGEX.test(S)}static isAlphanumeric(S){return hn.ALPHANUMERIC_REGEX.test(S)}getData(){return this.bitData.slice()}static getTotalBits(S,E){let T=0;for(const D of S){const k=D.mode.numCharCountBits(E);if(D.numChars>=1<<k)return 1/0;T+=4+k+D.bitData.length}return T}static toUtf8ByteArray(S){S=encodeURI(S);let E=[];for(let T=0;T<S.length;T++)S.charAt(T)!="%"?E.push(S.charCodeAt(T)):(E.push(parseInt(S.substring(T+1,T+3),16)),T+=2);return E}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let A=p;n.QrSegment=p})(yl||(yl={}));(n=>{(o=>{const l=class{constructor(m,p){this.ordinal=m,this.formatBits=p}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),o.Ecc=l})(n.QrCode||(n.QrCode={}))})(yl||(yl={}));(n=>{(o=>{const l=class{constructor(m,p){this.modeBits=m,this.numBitsCharCount=p}numCharCountBits(m){return this.numBitsCharCount[Math.floor((m+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),o.Mode=l})(n.QrSegment||(n.QrSegment={}))})(yl||(yl={}));var ms=yl;var X3={L:ms.QrCode.Ecc.LOW,M:ms.QrCode.Ecc.MEDIUM,Q:ms.QrCode.Ecc.QUARTILE,H:ms.QrCode.Ecc.HIGH},Mm=128,Bm="L",km="#FFFFFF",Lm="#000000",zm=!1,Um=1,j3=4,Y3=0,q3=.1;function Fm(n,o=0){const l=[];return n.forEach(function(d,m){let p=null;d.forEach(function(A,C){if(!A&&p!==null){l.push(`M${p+o} ${m+o}h${C-p}v1H${p+o}z`),p=null;return}if(C===d.length-1){if(!A)return;p===null?l.push(`M${C+o},${m+o} h1v1H${C+o}z`):l.push(`M${p+o},${m+o} h${C+1-p}v1H${p+o}z`);return}A&&p===null&&(p=C)})}),l.join("")}function Pm(n,o){return n.slice().map((l,d)=>d<o.y||d>=o.y+o.h?l:l.map((m,p)=>p<o.x||p>=o.x+o.w?m:!1))}function K3(n,o,l,d){if(d==null)return null;const m=n.length+l*2,p=Math.floor(o*q3),A=m/o,C=(d.width||p)*A,S=(d.height||p)*A,E=d.x==null?n.length/2-C/2:d.x*A,T=d.y==null?n.length/2-S/2:d.y*A,D=d.opacity==null?1:d.opacity;let k=null;if(d.excavate){let X=Math.floor(E),re=Math.floor(T),fe=Math.ceil(C+E-X),be=Math.ceil(S+T-re);k={x:X,y:re,w:fe,h:be}}const L=d.crossOrigin;return{x:E,y:T,h:S,w:C,excavation:k,opacity:D,crossOrigin:L}}function Q3(n,o){return o!=null?Math.max(Math.floor(o),0):n?j3:Y3}function Hm({value:n,level:o,minVersion:l,includeMargin:d,marginSize:m,imageSettings:p,size:A,boostLevel:C}){let S=Mn.useMemo(()=>{const X=(Array.isArray(n)?n:[n]).reduce((re,fe)=>(re.push(...ms.QrSegment.makeSegments(fe)),re),[]);return ms.QrCode.encodeSegments(X,X3[o],l,void 0,void 0,C)},[n,o,l,C]);const{cells:E,margin:T,numCells:D,calculatedImageSettings:k}=Mn.useMemo(()=>{let L=S.getModules();const X=Q3(d,m),re=L.length+X*2,fe=K3(L,A,X,p);return{cells:L,margin:X,numCells:re,calculatedImageSettings:fe}},[S,A,p,d,m]);return{qrcode:S,margin:T,cells:E,numCells:D,calculatedImageSettings:k}}var W3=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),J3=Mn.forwardRef(function(o,l){const d=o,{value:m,size:p=Mm,level:A=Bm,bgColor:C=km,fgColor:S=Lm,includeMargin:E=zm,minVersion:T=Um,boostLevel:D,marginSize:k,imageSettings:L}=d,re=r1(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:fe}=re,be=r1(re,["style"]),we=L?.src,Q=Mn.useRef(null),Y=Mn.useRef(null),ve=Mn.useCallback(qe=>{Q.current=qe,typeof l=="function"?l(qe):l&&(l.current=qe)},[l]),[ye,Z]=Mn.useState(!1),{margin:pe,cells:ee,numCells:Ne,calculatedImageSettings:Te}=Hm({value:m,level:A,minVersion:T,boostLevel:D,includeMargin:E,marginSize:k,imageSettings:L,size:p});Mn.useEffect(()=>{if(Q.current!=null){const qe=Q.current,W=qe.getContext("2d");if(!W)return;let te=ee;const se=Y.current,Le=Te!=null&&se!==null&&se.complete&&se.naturalHeight!==0&&se.naturalWidth!==0;Le&&Te.excavation!=null&&(te=Pm(ee,Te.excavation));const Qe=window.devicePixelRatio||1;qe.height=qe.width=p*Qe;const We=p/Ne*Qe;W.scale(We,We),W.fillStyle=C,W.fillRect(0,0,Ne,Ne),W.fillStyle=S,W3?W.fill(new Path2D(Fm(te,pe))):ee.forEach(function(P,$){P.forEach(function(Ae,Se){Ae&&W.fillRect(Se+pe,$+pe,1,1)})}),Te&&(W.globalAlpha=Te.opacity),Le&&W.drawImage(se,Te.x+pe,Te.y+pe,Te.w,Te.h)}}),Mn.useEffect(()=>{Z(!1)},[we]);const Oe=a1({height:p,width:p},fe);let Xe=null;return we!=null&&(Xe=Mn.createElement("img",{src:we,key:we,style:{display:"none"},onLoad:()=>{Z(!0)},ref:Y,crossOrigin:Te?.crossOrigin})),Mn.createElement(Mn.Fragment,null,Mn.createElement("canvas",a1({style:Oe,height:p,width:p,ref:ve,role:"img"},be)),Xe)});J3.displayName="QRCodeCanvas";var Zm=Mn.forwardRef(function(o,l){const d=o,{value:m,size:p=Mm,level:A=Bm,bgColor:C=km,fgColor:S=Lm,includeMargin:E=zm,minVersion:T=Um,boostLevel:D,title:k,marginSize:L,imageSettings:X}=d,re=r1(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:fe,cells:be,numCells:we,calculatedImageSettings:Q}=Hm({value:m,level:A,minVersion:T,boostLevel:D,includeMargin:E,marginSize:L,imageSettings:X,size:p});let Y=be,ve=null;X!=null&&Q!=null&&(Q.excavation!=null&&(Y=Pm(be,Q.excavation)),ve=Mn.createElement("image",{href:X.src,height:Q.h,width:Q.w,x:Q.x+fe,y:Q.y+fe,preserveAspectRatio:"none",opacity:Q.opacity,crossOrigin:Q.crossOrigin}));const ye=Fm(Y,fe);return Mn.createElement("svg",a1({height:p,width:p,viewBox:`0 0 ${we} ${we}`,ref:l,role:"img"},re),!!k&&Mn.createElement("title",null,k),Mn.createElement("path",{fill:C,d:`M0,0 h${we}v${we}H0z`,shapeRendering:"crispEdges"}),Mn.createElement("path",{fill:S,d:ye,shapeRendering:"crispEdges"}),ve)});Zm.displayName="QRCodeSVG";const $3=4,$2=0,eg=1,ew=2;function bs(n){let o=n.length;for(;--o>=0;)n[o]=0}const tw=0,Gm=1,nw=2,iw=3,aw=258,A1=29,Fo=256,Oo=Fo+1+A1,ws=30,b1=19,Vm=2*Oo+1,pl=15,F0=16,rw=7,C1=256,Xm=16,jm=17,Ym=18,l1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),gu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),lw=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),qm=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sw=512,Qa=new Array((Oo+2)*2);bs(Qa);const So=new Array(ws*2);bs(So);const No=new Array(sw);bs(No);const Ro=new Array(aw-iw+1);bs(Ro);const S1=new Array(A1);bs(S1);const wu=new Array(ws);bs(wu);function P0(n,o,l,d,m){this.static_tree=n,this.extra_bits=o,this.extra_base=l,this.elems=d,this.max_length=m,this.has_stree=n&&n.length}let Km,Qm,Wm;function H0(n,o){this.dyn_tree=n,this.max_code=0,this.stat_desc=o}const Jm=n=>n<256?No[n]:No[256+(n>>>7)],Io=(n,o)=>{n.pending_buf[n.pending++]=o&255,n.pending_buf[n.pending++]=o>>>8&255},mi=(n,o,l)=>{n.bi_valid>F0-l?(n.bi_buf|=o<<n.bi_valid&65535,Io(n,n.bi_buf),n.bi_buf=o>>F0-n.bi_valid,n.bi_valid+=l-F0):(n.bi_buf|=o<<n.bi_valid&65535,n.bi_valid+=l)},ba=(n,o,l)=>{mi(n,l[o*2],l[o*2+1])},$m=(n,o)=>{let l=0;do l|=n&1,n>>>=1,l<<=1;while(--o>0);return l>>>1},ow=n=>{n.bi_valid===16?(Io(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},cw=(n,o)=>{const l=o.dyn_tree,d=o.max_code,m=o.stat_desc.static_tree,p=o.stat_desc.has_stree,A=o.stat_desc.extra_bits,C=o.stat_desc.extra_base,S=o.stat_desc.max_length;let E,T,D,k,L,X,re=0;for(k=0;k<=pl;k++)n.bl_count[k]=0;for(l[n.heap[n.heap_max]*2+1]=0,E=n.heap_max+1;E<Vm;E++)T=n.heap[E],k=l[l[T*2+1]*2+1]+1,k>S&&(k=S,re++),l[T*2+1]=k,!(T>d)&&(n.bl_count[k]++,L=0,T>=C&&(L=A[T-C]),X=l[T*2],n.opt_len+=X*(k+L),p&&(n.static_len+=X*(m[T*2+1]+L)));if(re!==0){do{for(k=S-1;n.bl_count[k]===0;)k--;n.bl_count[k]--,n.bl_count[k+1]+=2,n.bl_count[S]--,re-=2}while(re>0);for(k=S;k!==0;k--)for(T=n.bl_count[k];T!==0;)D=n.heap[--E],!(D>d)&&(l[D*2+1]!==k&&(n.opt_len+=(k-l[D*2+1])*l[D*2],l[D*2+1]=k),T--)}},ex=(n,o,l)=>{const d=new Array(pl+1);let m=0,p,A;for(p=1;p<=pl;p++)m=m+l[p-1]<<1,d[p]=m;for(A=0;A<=o;A++){let C=n[A*2+1];C!==0&&(n[A*2]=$m(d[C]++,C))}},uw=()=>{let n,o,l,d,m;const p=new Array(pl+1);for(l=0,d=0;d<A1-1;d++)for(S1[d]=l,n=0;n<1<<l1[d];n++)Ro[l++]=d;for(Ro[l-1]=d,m=0,d=0;d<16;d++)for(wu[d]=m,n=0;n<1<<gu[d];n++)No[m++]=d;for(m>>=7;d<ws;d++)for(wu[d]=m<<7,n=0;n<1<<gu[d]-7;n++)No[256+m++]=d;for(o=0;o<=pl;o++)p[o]=0;for(n=0;n<=143;)Qa[n*2+1]=8,n++,p[8]++;for(;n<=255;)Qa[n*2+1]=9,n++,p[9]++;for(;n<=279;)Qa[n*2+1]=7,n++,p[7]++;for(;n<=287;)Qa[n*2+1]=8,n++,p[8]++;for(ex(Qa,Oo+1,p),n=0;n<ws;n++)So[n*2+1]=5,So[n*2]=$m(n,5);Km=new P0(Qa,l1,Fo+1,Oo,pl),Qm=new P0(So,gu,0,ws,pl),Wm=new P0(new Array(0),lw,0,b1,rw)},tx=n=>{let o;for(o=0;o<Oo;o++)n.dyn_ltree[o*2]=0;for(o=0;o<ws;o++)n.dyn_dtree[o*2]=0;for(o=0;o<b1;o++)n.bl_tree[o*2]=0;n.dyn_ltree[C1*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},nx=n=>{n.bi_valid>8?Io(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},tg=(n,o,l,d)=>{const m=o*2,p=l*2;return n[m]<n[p]||n[m]===n[p]&&d[o]<=d[l]},Z0=(n,o,l)=>{const d=n.heap[l];let m=l<<1;for(;m<=n.heap_len&&(m<n.heap_len&&tg(o,n.heap[m+1],n.heap[m],n.depth)&&m++,!tg(o,d,n.heap[m],n.depth));)n.heap[l]=n.heap[m],l=m,m<<=1;n.heap[l]=d},ng=(n,o,l)=>{let d,m,p=0,A,C;if(n.sym_next!==0)do d=n.pending_buf[n.sym_buf+p++]&255,d+=(n.pending_buf[n.sym_buf+p++]&255)<<8,m=n.pending_buf[n.sym_buf+p++],d===0?ba(n,m,o):(A=Ro[m],ba(n,A+Fo+1,o),C=l1[A],C!==0&&(m-=S1[A],mi(n,m,C)),d--,A=Jm(d),ba(n,A,l),C=gu[A],C!==0&&(d-=wu[A],mi(n,d,C)));while(p<n.sym_next);ba(n,C1,o)},s1=(n,o)=>{const l=o.dyn_tree,d=o.stat_desc.static_tree,m=o.stat_desc.has_stree,p=o.stat_desc.elems;let A,C,S=-1,E;for(n.heap_len=0,n.heap_max=Vm,A=0;A<p;A++)l[A*2]!==0?(n.heap[++n.heap_len]=S=A,n.depth[A]=0):l[A*2+1]=0;for(;n.heap_len<2;)E=n.heap[++n.heap_len]=S<2?++S:0,l[E*2]=1,n.depth[E]=0,n.opt_len--,m&&(n.static_len-=d[E*2+1]);for(o.max_code=S,A=n.heap_len>>1;A>=1;A--)Z0(n,l,A);E=p;do A=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Z0(n,l,1),C=n.heap[1],n.heap[--n.heap_max]=A,n.heap[--n.heap_max]=C,l[E*2]=l[A*2]+l[C*2],n.depth[E]=(n.depth[A]>=n.depth[C]?n.depth[A]:n.depth[C])+1,l[A*2+1]=l[C*2+1]=E,n.heap[1]=E++,Z0(n,l,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],cw(n,o),ex(l,S,n.bl_count)},ig=(n,o,l)=>{let d,m=-1,p,A=o[1],C=0,S=7,E=4;for(A===0&&(S=138,E=3),o[(l+1)*2+1]=65535,d=0;d<=l;d++)p=A,A=o[(d+1)*2+1],!(++C<S&&p===A)&&(C<E?n.bl_tree[p*2]+=C:p!==0?(p!==m&&n.bl_tree[p*2]++,n.bl_tree[Xm*2]++):C<=10?n.bl_tree[jm*2]++:n.bl_tree[Ym*2]++,C=0,m=p,A===0?(S=138,E=3):p===A?(S=6,E=3):(S=7,E=4))},ag=(n,o,l)=>{let d,m=-1,p,A=o[1],C=0,S=7,E=4;for(A===0&&(S=138,E=3),d=0;d<=l;d++)if(p=A,A=o[(d+1)*2+1],!(++C<S&&p===A)){if(C<E)do ba(n,p,n.bl_tree);while(--C!==0);else p!==0?(p!==m&&(ba(n,p,n.bl_tree),C--),ba(n,Xm,n.bl_tree),mi(n,C-3,2)):C<=10?(ba(n,jm,n.bl_tree),mi(n,C-3,3)):(ba(n,Ym,n.bl_tree),mi(n,C-11,7));C=0,m=p,A===0?(S=138,E=3):p===A?(S=6,E=3):(S=7,E=4)}},fw=n=>{let o;for(ig(n,n.dyn_ltree,n.l_desc.max_code),ig(n,n.dyn_dtree,n.d_desc.max_code),s1(n,n.bl_desc),o=b1-1;o>=3&&n.bl_tree[qm[o]*2+1]===0;o--);return n.opt_len+=3*(o+1)+5+5+4,o},hw=(n,o,l,d)=>{let m;for(mi(n,o-257,5),mi(n,l-1,5),mi(n,d-4,4),m=0;m<d;m++)mi(n,n.bl_tree[qm[m]*2+1],3);ag(n,n.dyn_ltree,o-1),ag(n,n.dyn_dtree,l-1)},dw=n=>{let o=4093624447,l;for(l=0;l<=31;l++,o>>>=1)if(o&1&&n.dyn_ltree[l*2]!==0)return $2;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return eg;for(l=32;l<Fo;l++)if(n.dyn_ltree[l*2]!==0)return eg;return $2};let rg=!1;const gw=n=>{rg||(uw(),rg=!0),n.l_desc=new H0(n.dyn_ltree,Km),n.d_desc=new H0(n.dyn_dtree,Qm),n.bl_desc=new H0(n.bl_tree,Wm),n.bi_buf=0,n.bi_valid=0,tx(n)},ix=(n,o,l,d)=>{mi(n,(tw<<1)+(d?1:0),3),nx(n),Io(n,l),Io(n,~l),l&&n.pending_buf.set(n.window.subarray(o,o+l),n.pending),n.pending+=l},mw=n=>{mi(n,Gm<<1,3),ba(n,C1,Qa),ow(n)},xw=(n,o,l,d)=>{let m,p,A=0;n.level>0?(n.strm.data_type===ew&&(n.strm.data_type=dw(n)),s1(n,n.l_desc),s1(n,n.d_desc),A=fw(n),m=n.opt_len+3+7>>>3,p=n.static_len+3+7>>>3,p<=m&&(m=p)):m=p=l+5,l+4<=m&&o!==-1?ix(n,o,l,d):n.strategy===$3||p===m?(mi(n,(Gm<<1)+(d?1:0),3),ng(n,Qa,So)):(mi(n,(nw<<1)+(d?1:0),3),hw(n,n.l_desc.max_code+1,n.d_desc.max_code+1,A+1),ng(n,n.dyn_ltree,n.dyn_dtree)),tx(n),d&&nx(n)},pw=(n,o,l)=>(n.pending_buf[n.sym_buf+n.sym_next++]=o,n.pending_buf[n.sym_buf+n.sym_next++]=o>>8,n.pending_buf[n.sym_buf+n.sym_next++]=l,o===0?n.dyn_ltree[l*2]++:(n.matches++,o--,n.dyn_ltree[(Ro[l]+Fo+1)*2]++,n.dyn_dtree[Jm(o)*2]++),n.sym_next===n.sym_end);var ww=gw,_w=ix,Ew=xw,yw=pw,Aw=mw,bw={_tr_init:ww,_tr_stored_block:_w,_tr_flush_block:Ew,_tr_tally:yw,_tr_align:Aw};const Cw=(n,o,l,d)=>{let m=n&65535|0,p=n>>>16&65535|0,A=0;for(;l!==0;){A=l>2e3?2e3:l,l-=A;do m=m+o[d++]|0,p=p+m|0;while(--A);m%=65521,p%=65521}return m|p<<16|0};var Do=Cw;const Sw=()=>{let n,o=[];for(var l=0;l<256;l++){n=l;for(var d=0;d<8;d++)n=n&1?3988292384^n>>>1:n>>>1;o[l]=n}return o},vw=new Uint32Array(Sw()),Tw=(n,o,l,d)=>{const m=vw,p=d+l;n^=-1;for(let A=d;A<p;A++)n=n>>>8^m[(n^o[A])&255];return n^-1};var Ln=Tw,Al={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ou={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ow,_tr_stored_block:o1,_tr_flush_block:Nw,_tr_tally:Fr,_tr_align:Rw}=bw,{Z_NO_FLUSH:Pr,Z_PARTIAL_FLUSH:Iw,Z_FULL_FLUSH:Dw,Z_FINISH:qi,Z_BLOCK:lg,Z_OK:Xn,Z_STREAM_END:sg,Z_STREAM_ERROR:Ca,Z_DATA_ERROR:Mw,Z_BUF_ERROR:G0,Z_DEFAULT_COMPRESSION:Bw,Z_FILTERED:kw,Z_HUFFMAN_ONLY:ru,Z_RLE:Lw,Z_FIXED:zw,Z_DEFAULT_STRATEGY:Uw,Z_UNKNOWN:Fw,Z_DEFLATED:Nu}=Ou,Pw=9,Hw=15,Zw=8,Gw=29,Vw=256,c1=Vw+1+Gw,Xw=30,jw=19,Yw=2*c1+1,qw=15,wt=3,Ur=258,Sa=Ur+wt+1,Kw=32,Es=42,v1=57,u1=69,f1=73,h1=91,d1=103,wl=113,yo=666,ai=1,Cs=2,bl=3,Ss=4,Qw=3,_l=(n,o)=>(n.msg=Al[o],o),og=n=>n*2-(n>4?9:0),zr=n=>{let o=n.length;for(;--o>=0;)n[o]=0},Ww=n=>{let o,l,d,m=n.w_size;o=n.hash_size,d=o;do l=n.head[--d],n.head[d]=l>=m?l-m:0;while(--o);o=m,d=o;do l=n.prev[--d],n.prev[d]=l>=m?l-m:0;while(--o)};let Jw=(n,o,l)=>(o<<n.hash_shift^l)&n.hash_mask,Hr=Jw;const Ii=n=>{const o=n.state;let l=o.pending;l>n.avail_out&&(l=n.avail_out),l!==0&&(n.output.set(o.pending_buf.subarray(o.pending_out,o.pending_out+l),n.next_out),n.next_out+=l,o.pending_out+=l,n.total_out+=l,n.avail_out-=l,o.pending-=l,o.pending===0&&(o.pending_out=0))},Di=(n,o)=>{Nw(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,o),n.block_start=n.strstart,Ii(n.strm)},Nt=(n,o)=>{n.pending_buf[n.pending++]=o},Eo=(n,o)=>{n.pending_buf[n.pending++]=o>>>8&255,n.pending_buf[n.pending++]=o&255},g1=(n,o,l,d)=>{let m=n.avail_in;return m>d&&(m=d),m===0?0:(n.avail_in-=m,o.set(n.input.subarray(n.next_in,n.next_in+m),l),n.state.wrap===1?n.adler=Do(n.adler,o,m,l):n.state.wrap===2&&(n.adler=Ln(n.adler,o,m,l)),n.next_in+=m,n.total_in+=m,m)},ax=(n,o)=>{let l=n.max_chain_length,d=n.strstart,m,p,A=n.prev_length,C=n.nice_match;const S=n.strstart>n.w_size-Sa?n.strstart-(n.w_size-Sa):0,E=n.window,T=n.w_mask,D=n.prev,k=n.strstart+Ur;let L=E[d+A-1],X=E[d+A];n.prev_length>=n.good_match&&(l>>=2),C>n.lookahead&&(C=n.lookahead);do if(m=o,!(E[m+A]!==X||E[m+A-1]!==L||E[m]!==E[d]||E[++m]!==E[d+1])){d+=2,m++;do;while(E[++d]===E[++m]&&E[++d]===E[++m]&&E[++d]===E[++m]&&E[++d]===E[++m]&&E[++d]===E[++m]&&E[++d]===E[++m]&&E[++d]===E[++m]&&E[++d]===E[++m]&&d<k);if(p=Ur-(k-d),d=k-Ur,p>A){if(n.match_start=o,A=p,p>=C)break;L=E[d+A-1],X=E[d+A]}}while((o=D[o&T])>S&&--l!==0);return A<=n.lookahead?A:n.lookahead},ys=n=>{const o=n.w_size;let l,d,m;do{if(d=n.window_size-n.lookahead-n.strstart,n.strstart>=o+(o-Sa)&&(n.window.set(n.window.subarray(o,o+o-d),0),n.match_start-=o,n.strstart-=o,n.block_start-=o,n.insert>n.strstart&&(n.insert=n.strstart),Ww(n),d+=o),n.strm.avail_in===0)break;if(l=g1(n.strm,n.window,n.strstart+n.lookahead,d),n.lookahead+=l,n.lookahead+n.insert>=wt)for(m=n.strstart-n.insert,n.ins_h=n.window[m],n.ins_h=Hr(n,n.ins_h,n.window[m+1]);n.insert&&(n.ins_h=Hr(n,n.ins_h,n.window[m+wt-1]),n.prev[m&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=m,m++,n.insert--,!(n.lookahead+n.insert<wt)););}while(n.lookahead<Sa&&n.strm.avail_in!==0)},rx=(n,o)=>{let l=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,d,m,p,A=0,C=n.strm.avail_in;do{if(d=65535,p=n.bi_valid+42>>3,n.strm.avail_out<p||(p=n.strm.avail_out-p,m=n.strstart-n.block_start,d>m+n.strm.avail_in&&(d=m+n.strm.avail_in),d>p&&(d=p),d<l&&(d===0&&o!==qi||o===Pr||d!==m+n.strm.avail_in)))break;A=o===qi&&d===m+n.strm.avail_in?1:0,o1(n,0,0,A),n.pending_buf[n.pending-4]=d,n.pending_buf[n.pending-3]=d>>8,n.pending_buf[n.pending-2]=~d,n.pending_buf[n.pending-1]=~d>>8,Ii(n.strm),m&&(m>d&&(m=d),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+m),n.strm.next_out),n.strm.next_out+=m,n.strm.avail_out-=m,n.strm.total_out+=m,n.block_start+=m,d-=m),d&&(g1(n.strm,n.strm.output,n.strm.next_out,d),n.strm.next_out+=d,n.strm.avail_out-=d,n.strm.total_out+=d)}while(A===0);return C-=n.strm.avail_in,C&&(C>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=C&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-C,n.strm.next_in),n.strstart),n.strstart+=C,n.insert+=C>n.w_size-n.insert?n.w_size-n.insert:C),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),A?Ss:o!==Pr&&o!==qi&&n.strm.avail_in===0&&n.strstart===n.block_start?Cs:(p=n.window_size-n.strstart,n.strm.avail_in>p&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,p+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),p>n.strm.avail_in&&(p=n.strm.avail_in),p&&(g1(n.strm,n.window,n.strstart,p),n.strstart+=p,n.insert+=p>n.w_size-n.insert?n.w_size-n.insert:p),n.high_water<n.strstart&&(n.high_water=n.strstart),p=n.bi_valid+42>>3,p=n.pending_buf_size-p>65535?65535:n.pending_buf_size-p,l=p>n.w_size?n.w_size:p,m=n.strstart-n.block_start,(m>=l||(m||o===qi)&&o!==Pr&&n.strm.avail_in===0&&m<=p)&&(d=m>p?p:m,A=o===qi&&n.strm.avail_in===0&&d===m?1:0,o1(n,n.block_start,d,A),n.block_start+=d,Ii(n.strm)),A?bl:ai)},V0=(n,o)=>{let l,d;for(;;){if(n.lookahead<Sa){if(ys(n),n.lookahead<Sa&&o===Pr)return ai;if(n.lookahead===0)break}if(l=0,n.lookahead>=wt&&(n.ins_h=Hr(n,n.ins_h,n.window[n.strstart+wt-1]),l=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),l!==0&&n.strstart-l<=n.w_size-Sa&&(n.match_length=ax(n,l)),n.match_length>=wt)if(d=Fr(n,n.strstart-n.match_start,n.match_length-wt),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=wt){n.match_length--;do n.strstart++,n.ins_h=Hr(n,n.ins_h,n.window[n.strstart+wt-1]),l=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Hr(n,n.ins_h,n.window[n.strstart+1]);else d=Fr(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(d&&(Di(n,!1),n.strm.avail_out===0))return ai}return n.insert=n.strstart<wt-1?n.strstart:wt-1,o===qi?(Di(n,!0),n.strm.avail_out===0?bl:Ss):n.sym_next&&(Di(n,!1),n.strm.avail_out===0)?ai:Cs},ds=(n,o)=>{let l,d,m;for(;;){if(n.lookahead<Sa){if(ys(n),n.lookahead<Sa&&o===Pr)return ai;if(n.lookahead===0)break}if(l=0,n.lookahead>=wt&&(n.ins_h=Hr(n,n.ins_h,n.window[n.strstart+wt-1]),l=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=wt-1,l!==0&&n.prev_length<n.max_lazy_match&&n.strstart-l<=n.w_size-Sa&&(n.match_length=ax(n,l),n.match_length<=5&&(n.strategy===kw||n.match_length===wt&&n.strstart-n.match_start>4096)&&(n.match_length=wt-1)),n.prev_length>=wt&&n.match_length<=n.prev_length){m=n.strstart+n.lookahead-wt,d=Fr(n,n.strstart-1-n.prev_match,n.prev_length-wt),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=m&&(n.ins_h=Hr(n,n.ins_h,n.window[n.strstart+wt-1]),l=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=wt-1,n.strstart++,d&&(Di(n,!1),n.strm.avail_out===0))return ai}else if(n.match_available){if(d=Fr(n,0,n.window[n.strstart-1]),d&&Di(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return ai}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(d=Fr(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<wt-1?n.strstart:wt-1,o===qi?(Di(n,!0),n.strm.avail_out===0?bl:Ss):n.sym_next&&(Di(n,!1),n.strm.avail_out===0)?ai:Cs},$w=(n,o)=>{let l,d,m,p;const A=n.window;for(;;){if(n.lookahead<=Ur){if(ys(n),n.lookahead<=Ur&&o===Pr)return ai;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=wt&&n.strstart>0&&(m=n.strstart-1,d=A[m],d===A[++m]&&d===A[++m]&&d===A[++m])){p=n.strstart+Ur;do;while(d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&d===A[++m]&&m<p);n.match_length=Ur-(p-m),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=wt?(l=Fr(n,1,n.match_length-wt),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(l=Fr(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),l&&(Di(n,!1),n.strm.avail_out===0))return ai}return n.insert=0,o===qi?(Di(n,!0),n.strm.avail_out===0?bl:Ss):n.sym_next&&(Di(n,!1),n.strm.avail_out===0)?ai:Cs},e_=(n,o)=>{let l;for(;;){if(n.lookahead===0&&(ys(n),n.lookahead===0)){if(o===Pr)return ai;break}if(n.match_length=0,l=Fr(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,l&&(Di(n,!1),n.strm.avail_out===0))return ai}return n.insert=0,o===qi?(Di(n,!0),n.strm.avail_out===0?bl:Ss):n.sym_next&&(Di(n,!1),n.strm.avail_out===0)?ai:Cs};function ya(n,o,l,d,m){this.good_length=n,this.max_lazy=o,this.nice_length=l,this.max_chain=d,this.func=m}const Ao=[new ya(0,0,0,0,rx),new ya(4,4,8,4,V0),new ya(4,5,16,8,V0),new ya(4,6,32,32,V0),new ya(4,4,16,16,ds),new ya(8,16,32,32,ds),new ya(8,16,128,128,ds),new ya(8,32,128,256,ds),new ya(32,128,258,1024,ds),new ya(32,258,258,4096,ds)],t_=n=>{n.window_size=2*n.w_size,zr(n.head),n.max_lazy_match=Ao[n.level].max_lazy,n.good_match=Ao[n.level].good_length,n.nice_match=Ao[n.level].nice_length,n.max_chain_length=Ao[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=wt-1,n.match_available=0,n.ins_h=0};function n_(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Nu,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Yw*2),this.dyn_dtree=new Uint16Array((2*Xw+1)*2),this.bl_tree=new Uint16Array((2*jw+1)*2),zr(this.dyn_ltree),zr(this.dyn_dtree),zr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(qw+1),this.heap=new Uint16Array(2*c1+1),zr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*c1+1),zr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Po=n=>{if(!n)return 1;const o=n.state;return!o||o.strm!==n||o.status!==Es&&o.status!==v1&&o.status!==u1&&o.status!==f1&&o.status!==h1&&o.status!==d1&&o.status!==wl&&o.status!==yo?1:0},lx=n=>{if(Po(n))return _l(n,Ca);n.total_in=n.total_out=0,n.data_type=Fw;const o=n.state;return o.pending=0,o.pending_out=0,o.wrap<0&&(o.wrap=-o.wrap),o.status=o.wrap===2?v1:o.wrap?Es:wl,n.adler=o.wrap===2?0:1,o.last_flush=-2,Ow(o),Xn},sx=n=>{const o=lx(n);return o===Xn&&t_(n.state),o},i_=(n,o)=>Po(n)||n.state.wrap!==2?Ca:(n.state.gzhead=o,Xn),ox=(n,o,l,d,m,p)=>{if(!n)return Ca;let A=1;if(o===Bw&&(o=6),d<0?(A=0,d=-d):d>15&&(A=2,d-=16),m<1||m>Pw||l!==Nu||d<8||d>15||o<0||o>9||p<0||p>zw||d===8&&A!==1)return _l(n,Ca);d===8&&(d=9);const C=new n_;return n.state=C,C.strm=n,C.status=Es,C.wrap=A,C.gzhead=null,C.w_bits=d,C.w_size=1<<C.w_bits,C.w_mask=C.w_size-1,C.hash_bits=m+7,C.hash_size=1<<C.hash_bits,C.hash_mask=C.hash_size-1,C.hash_shift=~~((C.hash_bits+wt-1)/wt),C.window=new Uint8Array(C.w_size*2),C.head=new Uint16Array(C.hash_size),C.prev=new Uint16Array(C.w_size),C.lit_bufsize=1<<m+6,C.pending_buf_size=C.lit_bufsize*4,C.pending_buf=new Uint8Array(C.pending_buf_size),C.sym_buf=C.lit_bufsize,C.sym_end=(C.lit_bufsize-1)*3,C.level=o,C.strategy=p,C.method=l,sx(n)},a_=(n,o)=>ox(n,o,Nu,Hw,Zw,Uw),r_=(n,o)=>{if(Po(n)||o>lg||o<0)return n?_l(n,Ca):Ca;const l=n.state;if(!n.output||n.avail_in!==0&&!n.input||l.status===yo&&o!==qi)return _l(n,n.avail_out===0?G0:Ca);const d=l.last_flush;if(l.last_flush=o,l.pending!==0){if(Ii(n),n.avail_out===0)return l.last_flush=-1,Xn}else if(n.avail_in===0&&og(o)<=og(d)&&o!==qi)return _l(n,G0);if(l.status===yo&&n.avail_in!==0)return _l(n,G0);if(l.status===Es&&l.wrap===0&&(l.status=wl),l.status===Es){let m=Nu+(l.w_bits-8<<4)<<8,p=-1;if(l.strategy>=ru||l.level<2?p=0:l.level<6?p=1:l.level===6?p=2:p=3,m|=p<<6,l.strstart!==0&&(m|=Kw),m+=31-m%31,Eo(l,m),l.strstart!==0&&(Eo(l,n.adler>>>16),Eo(l,n.adler&65535)),n.adler=1,l.status=wl,Ii(n),l.pending!==0)return l.last_flush=-1,Xn}if(l.status===v1){if(n.adler=0,Nt(l,31),Nt(l,139),Nt(l,8),l.gzhead)Nt(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),Nt(l,l.gzhead.time&255),Nt(l,l.gzhead.time>>8&255),Nt(l,l.gzhead.time>>16&255),Nt(l,l.gzhead.time>>24&255),Nt(l,l.level===9?2:l.strategy>=ru||l.level<2?4:0),Nt(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(Nt(l,l.gzhead.extra.length&255),Nt(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(n.adler=Ln(n.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=u1;else if(Nt(l,0),Nt(l,0),Nt(l,0),Nt(l,0),Nt(l,0),Nt(l,l.level===9?2:l.strategy>=ru||l.level<2?4:0),Nt(l,Qw),l.status=wl,Ii(n),l.pending!==0)return l.last_flush=-1,Xn}if(l.status===u1){if(l.gzhead.extra){let m=l.pending,p=(l.gzhead.extra.length&65535)-l.gzindex;for(;l.pending+p>l.pending_buf_size;){let C=l.pending_buf_size-l.pending;if(l.pending_buf.set(l.gzhead.extra.subarray(l.gzindex,l.gzindex+C),l.pending),l.pending=l.pending_buf_size,l.gzhead.hcrc&&l.pending>m&&(n.adler=Ln(n.adler,l.pending_buf,l.pending-m,m)),l.gzindex+=C,Ii(n),l.pending!==0)return l.last_flush=-1,Xn;m=0,p-=C}let A=new Uint8Array(l.gzhead.extra);l.pending_buf.set(A.subarray(l.gzindex,l.gzindex+p),l.pending),l.pending+=p,l.gzhead.hcrc&&l.pending>m&&(n.adler=Ln(n.adler,l.pending_buf,l.pending-m,m)),l.gzindex=0}l.status=f1}if(l.status===f1){if(l.gzhead.name){let m=l.pending,p;do{if(l.pending===l.pending_buf_size){if(l.gzhead.hcrc&&l.pending>m&&(n.adler=Ln(n.adler,l.pending_buf,l.pending-m,m)),Ii(n),l.pending!==0)return l.last_flush=-1,Xn;m=0}l.gzindex<l.gzhead.name.length?p=l.gzhead.name.charCodeAt(l.gzindex++)&255:p=0,Nt(l,p)}while(p!==0);l.gzhead.hcrc&&l.pending>m&&(n.adler=Ln(n.adler,l.pending_buf,l.pending-m,m)),l.gzindex=0}l.status=h1}if(l.status===h1){if(l.gzhead.comment){let m=l.pending,p;do{if(l.pending===l.pending_buf_size){if(l.gzhead.hcrc&&l.pending>m&&(n.adler=Ln(n.adler,l.pending_buf,l.pending-m,m)),Ii(n),l.pending!==0)return l.last_flush=-1,Xn;m=0}l.gzindex<l.gzhead.comment.length?p=l.gzhead.comment.charCodeAt(l.gzindex++)&255:p=0,Nt(l,p)}while(p!==0);l.gzhead.hcrc&&l.pending>m&&(n.adler=Ln(n.adler,l.pending_buf,l.pending-m,m))}l.status=d1}if(l.status===d1){if(l.gzhead.hcrc){if(l.pending+2>l.pending_buf_size&&(Ii(n),l.pending!==0))return l.last_flush=-1,Xn;Nt(l,n.adler&255),Nt(l,n.adler>>8&255),n.adler=0}if(l.status=wl,Ii(n),l.pending!==0)return l.last_flush=-1,Xn}if(n.avail_in!==0||l.lookahead!==0||o!==Pr&&l.status!==yo){let m=l.level===0?rx(l,o):l.strategy===ru?e_(l,o):l.strategy===Lw?$w(l,o):Ao[l.level].func(l,o);if((m===bl||m===Ss)&&(l.status=yo),m===ai||m===bl)return n.avail_out===0&&(l.last_flush=-1),Xn;if(m===Cs&&(o===Iw?Rw(l):o!==lg&&(o1(l,0,0,!1),o===Dw&&(zr(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),Ii(n),n.avail_out===0))return l.last_flush=-1,Xn}return o!==qi?Xn:l.wrap<=0?sg:(l.wrap===2?(Nt(l,n.adler&255),Nt(l,n.adler>>8&255),Nt(l,n.adler>>16&255),Nt(l,n.adler>>24&255),Nt(l,n.total_in&255),Nt(l,n.total_in>>8&255),Nt(l,n.total_in>>16&255),Nt(l,n.total_in>>24&255)):(Eo(l,n.adler>>>16),Eo(l,n.adler&65535)),Ii(n),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?Xn:sg)},l_=n=>{if(Po(n))return Ca;const o=n.state.status;return n.state=null,o===wl?_l(n,Mw):Xn},s_=(n,o)=>{let l=o.length;if(Po(n))return Ca;const d=n.state,m=d.wrap;if(m===2||m===1&&d.status!==Es||d.lookahead)return Ca;if(m===1&&(n.adler=Do(n.adler,o,l,0)),d.wrap=0,l>=d.w_size){m===0&&(zr(d.head),d.strstart=0,d.block_start=0,d.insert=0);let S=new Uint8Array(d.w_size);S.set(o.subarray(l-d.w_size,l),0),o=S,l=d.w_size}const p=n.avail_in,A=n.next_in,C=n.input;for(n.avail_in=l,n.next_in=0,n.input=o,ys(d);d.lookahead>=wt;){let S=d.strstart,E=d.lookahead-(wt-1);do d.ins_h=Hr(d,d.ins_h,d.window[S+wt-1]),d.prev[S&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=S,S++;while(--E);d.strstart=S,d.lookahead=wt-1,ys(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=wt-1,d.match_available=0,n.next_in=A,n.input=C,n.avail_in=p,d.wrap=m,Xn};var o_=a_,c_=ox,u_=sx,f_=lx,h_=i_,d_=r_,g_=l_,m_=s_,x_="pako deflate (from Nodeca project)",vo={deflateInit:o_,deflateInit2:c_,deflateReset:u_,deflateResetKeep:f_,deflateSetHeader:h_,deflate:d_,deflateEnd:g_,deflateSetDictionary:m_,deflateInfo:x_};const p_=(n,o)=>Object.prototype.hasOwnProperty.call(n,o);var w_=function(n){const o=Array.prototype.slice.call(arguments,1);for(;o.length;){const l=o.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(const d in l)p_(l,d)&&(n[d]=l[d])}}return n},__=n=>{let o=0;for(let d=0,m=n.length;d<m;d++)o+=n[d].length;const l=new Uint8Array(o);for(let d=0,m=0,p=n.length;d<p;d++){let A=n[d];l.set(A,m),m+=A.length}return l},Ru={assign:w_,flattenChunks:__};let cx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cx=!1}const Mo=new Uint8Array(256);for(let n=0;n<256;n++)Mo[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Mo[254]=Mo[254]=1;var E_=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let o,l,d,m,p,A=n.length,C=0;for(m=0;m<A;m++)l=n.charCodeAt(m),(l&64512)===55296&&m+1<A&&(d=n.charCodeAt(m+1),(d&64512)===56320&&(l=65536+(l-55296<<10)+(d-56320),m++)),C+=l<128?1:l<2048?2:l<65536?3:4;for(o=new Uint8Array(C),p=0,m=0;p<C;m++)l=n.charCodeAt(m),(l&64512)===55296&&m+1<A&&(d=n.charCodeAt(m+1),(d&64512)===56320&&(l=65536+(l-55296<<10)+(d-56320),m++)),l<128?o[p++]=l:l<2048?(o[p++]=192|l>>>6,o[p++]=128|l&63):l<65536?(o[p++]=224|l>>>12,o[p++]=128|l>>>6&63,o[p++]=128|l&63):(o[p++]=240|l>>>18,o[p++]=128|l>>>12&63,o[p++]=128|l>>>6&63,o[p++]=128|l&63);return o};const y_=(n,o)=>{if(o<65534&&n.subarray&&cx)return String.fromCharCode.apply(null,n.length===o?n:n.subarray(0,o));let l="";for(let d=0;d<o;d++)l+=String.fromCharCode(n[d]);return l};var A_=(n,o)=>{const l=o||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,o));let d,m;const p=new Array(l*2);for(m=0,d=0;d<l;){let A=n[d++];if(A<128){p[m++]=A;continue}let C=Mo[A];if(C>4){p[m++]=65533,d+=C-1;continue}for(A&=C===2?31:C===3?15:7;C>1&&d<l;)A=A<<6|n[d++]&63,C--;if(C>1){p[m++]=65533;continue}A<65536?p[m++]=A:(A-=65536,p[m++]=55296|A>>10&1023,p[m++]=56320|A&1023)}return y_(p,m)},b_=(n,o)=>{o=o||n.length,o>n.length&&(o=n.length);let l=o-1;for(;l>=0&&(n[l]&192)===128;)l--;return l<0||l===0?o:l+Mo[n[l]]>o?l:o},Bo={string2buf:E_,buf2string:A_,utf8border:b_};function C_(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ux=C_;const fx=Object.prototype.toString,{Z_NO_FLUSH:S_,Z_SYNC_FLUSH:v_,Z_FULL_FLUSH:T_,Z_FINISH:O_,Z_OK:_u,Z_STREAM_END:N_,Z_DEFAULT_COMPRESSION:R_,Z_DEFAULT_STRATEGY:I_,Z_DEFLATED:D_}=Ou;function Iu(n){this.options=Ru.assign({level:R_,method:D_,chunkSize:16384,windowBits:15,memLevel:8,strategy:I_},n||{});let o=this.options;o.raw&&o.windowBits>0?o.windowBits=-o.windowBits:o.gzip&&o.windowBits>0&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ux,this.strm.avail_out=0;let l=vo.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(l!==_u)throw new Error(Al[l]);if(o.header&&vo.deflateSetHeader(this.strm,o.header),o.dictionary){let d;if(typeof o.dictionary=="string"?d=Bo.string2buf(o.dictionary):fx.call(o.dictionary)==="[object ArrayBuffer]"?d=new Uint8Array(o.dictionary):d=o.dictionary,l=vo.deflateSetDictionary(this.strm,d),l!==_u)throw new Error(Al[l]);this._dict_set=!0}}Iu.prototype.push=function(n,o){const l=this.strm,d=this.options.chunkSize;let m,p;if(this.ended)return!1;for(o===~~o?p=o:p=o===!0?O_:S_,typeof n=="string"?l.input=Bo.string2buf(n):fx.call(n)==="[object ArrayBuffer]"?l.input=new Uint8Array(n):l.input=n,l.next_in=0,l.avail_in=l.input.length;;){if(l.avail_out===0&&(l.output=new Uint8Array(d),l.next_out=0,l.avail_out=d),(p===v_||p===T_)&&l.avail_out<=6){this.onData(l.output.subarray(0,l.next_out)),l.avail_out=0;continue}if(m=vo.deflate(l,p),m===N_)return l.next_out>0&&this.onData(l.output.subarray(0,l.next_out)),m=vo.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===_u;if(l.avail_out===0){this.onData(l.output);continue}if(p>0&&l.next_out>0){this.onData(l.output.subarray(0,l.next_out)),l.avail_out=0;continue}if(l.avail_in===0)break}return!0};Iu.prototype.onData=function(n){this.chunks.push(n)};Iu.prototype.onEnd=function(n){n===_u&&(this.result=Ru.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function M_(n,o){const l=new Iu(o);if(l.push(n,!0),l.err)throw l.msg||Al[l.err];return l.result}function B_(n,o){return o=o||{},o.gzip=!0,M_(n,o)}var k_=B_,L_={gzip:k_};const lu=16209,z_=16191;var U_=function(o,l){let d,m,p,A,C,S,E,T,D,k,L,X,re,fe,be,we,Q,Y,ve,ye,Z,pe,ee,Ne;const Te=o.state;d=o.next_in,ee=o.input,m=d+(o.avail_in-5),p=o.next_out,Ne=o.output,A=p-(l-o.avail_out),C=p+(o.avail_out-257),S=Te.dmax,E=Te.wsize,T=Te.whave,D=Te.wnext,k=Te.window,L=Te.hold,X=Te.bits,re=Te.lencode,fe=Te.distcode,be=(1<<Te.lenbits)-1,we=(1<<Te.distbits)-1;e:do{X<15&&(L+=ee[d++]<<X,X+=8,L+=ee[d++]<<X,X+=8),Q=re[L&be];t:for(;;){if(Y=Q>>>24,L>>>=Y,X-=Y,Y=Q>>>16&255,Y===0)Ne[p++]=Q&65535;else if(Y&16){ve=Q&65535,Y&=15,Y&&(X<Y&&(L+=ee[d++]<<X,X+=8),ve+=L&(1<<Y)-1,L>>>=Y,X-=Y),X<15&&(L+=ee[d++]<<X,X+=8,L+=ee[d++]<<X,X+=8),Q=fe[L&we];n:for(;;){if(Y=Q>>>24,L>>>=Y,X-=Y,Y=Q>>>16&255,Y&16){if(ye=Q&65535,Y&=15,X<Y&&(L+=ee[d++]<<X,X+=8,X<Y&&(L+=ee[d++]<<X,X+=8)),ye+=L&(1<<Y)-1,ye>S){o.msg="invalid distance too far back",Te.mode=lu;break e}if(L>>>=Y,X-=Y,Y=p-A,ye>Y){if(Y=ye-Y,Y>T&&Te.sane){o.msg="invalid distance too far back",Te.mode=lu;break e}if(Z=0,pe=k,D===0){if(Z+=E-Y,Y<ve){ve-=Y;do Ne[p++]=k[Z++];while(--Y);Z=p-ye,pe=Ne}}else if(D<Y){if(Z+=E+D-Y,Y-=D,Y<ve){ve-=Y;do Ne[p++]=k[Z++];while(--Y);if(Z=0,D<ve){Y=D,ve-=Y;do Ne[p++]=k[Z++];while(--Y);Z=p-ye,pe=Ne}}}else if(Z+=D-Y,Y<ve){ve-=Y;do Ne[p++]=k[Z++];while(--Y);Z=p-ye,pe=Ne}for(;ve>2;)Ne[p++]=pe[Z++],Ne[p++]=pe[Z++],Ne[p++]=pe[Z++],ve-=3;ve&&(Ne[p++]=pe[Z++],ve>1&&(Ne[p++]=pe[Z++]))}else{Z=p-ye;do Ne[p++]=Ne[Z++],Ne[p++]=Ne[Z++],Ne[p++]=Ne[Z++],ve-=3;while(ve>2);ve&&(Ne[p++]=Ne[Z++],ve>1&&(Ne[p++]=Ne[Z++]))}}else if((Y&64)===0){Q=fe[(Q&65535)+(L&(1<<Y)-1)];continue n}else{o.msg="invalid distance code",Te.mode=lu;break e}break}}else if((Y&64)===0){Q=re[(Q&65535)+(L&(1<<Y)-1)];continue t}else if(Y&32){Te.mode=z_;break e}else{o.msg="invalid literal/length code",Te.mode=lu;break e}break}}while(d<m&&p<C);ve=X>>3,d-=ve,X-=ve<<3,L&=(1<<X)-1,o.next_in=d,o.next_out=p,o.avail_in=d<m?5+(m-d):5-(d-m),o.avail_out=p<C?257+(C-p):257-(p-C),Te.hold=L,Te.bits=X};const gs=15,cg=852,ug=592,fg=0,X0=1,hg=2,F_=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),P_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),H_=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Z_=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),G_=(n,o,l,d,m,p,A,C)=>{const S=C.bits;let E=0,T=0,D=0,k=0,L=0,X=0,re=0,fe=0,be=0,we=0,Q,Y,ve,ye,Z,pe=null,ee;const Ne=new Uint16Array(gs+1),Te=new Uint16Array(gs+1);let Oe=null,Xe,qe,W;for(E=0;E<=gs;E++)Ne[E]=0;for(T=0;T<d;T++)Ne[o[l+T]]++;for(L=S,k=gs;k>=1&&Ne[k]===0;k--);if(L>k&&(L=k),k===0)return m[p++]=1<<24|64<<16|0,m[p++]=1<<24|64<<16|0,C.bits=1,0;for(D=1;D<k&&Ne[D]===0;D++);for(L<D&&(L=D),fe=1,E=1;E<=gs;E++)if(fe<<=1,fe-=Ne[E],fe<0)return-1;if(fe>0&&(n===fg||k!==1))return-1;for(Te[1]=0,E=1;E<gs;E++)Te[E+1]=Te[E]+Ne[E];for(T=0;T<d;T++)o[l+T]!==0&&(A[Te[o[l+T]]++]=T);if(n===fg?(pe=Oe=A,ee=20):n===X0?(pe=F_,Oe=P_,ee=257):(pe=H_,Oe=Z_,ee=0),we=0,T=0,E=D,Z=p,X=L,re=0,ve=-1,be=1<<L,ye=be-1,n===X0&&be>cg||n===hg&&be>ug)return 1;for(;;){Xe=E-re,A[T]+1<ee?(qe=0,W=A[T]):A[T]>=ee?(qe=Oe[A[T]-ee],W=pe[A[T]-ee]):(qe=96,W=0),Q=1<<E-re,Y=1<<X,D=Y;do Y-=Q,m[Z+(we>>re)+Y]=Xe<<24|qe<<16|W|0;while(Y!==0);for(Q=1<<E-1;we&Q;)Q>>=1;if(Q!==0?(we&=Q-1,we+=Q):we=0,T++,--Ne[E]===0){if(E===k)break;E=o[l+A[T]]}if(E>L&&(we&ye)!==ve){for(re===0&&(re=L),Z+=D,X=E-re,fe=1<<X;X+re<k&&(fe-=Ne[X+re],!(fe<=0));)X++,fe<<=1;if(be+=1<<X,n===X0&&be>cg||n===hg&&be>ug)return 1;ve=we&ye,m[ve]=L<<24|X<<16|Z-p|0}}return we!==0&&(m[Z+we]=E-re<<24|64<<16|0),C.bits=L,0};var To=G_;const V_=0,hx=1,dx=2,{Z_FINISH:dg,Z_BLOCK:X_,Z_TREES:su,Z_OK:Cl,Z_STREAM_END:j_,Z_NEED_DICT:Y_,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:gx,Z_MEM_ERROR:mx,Z_BUF_ERROR:q_,Z_DEFLATED:gg}=Ou,Du=16180,mg=16181,xg=16182,pg=16183,wg=16184,_g=16185,Eg=16186,yg=16187,Ag=16188,bg=16189,Eu=16190,qa=16191,j0=16192,Cg=16193,Y0=16194,Sg=16195,vg=16196,Tg=16197,Og=16198,ou=16199,cu=16200,Ng=16201,Rg=16202,Ig=16203,Dg=16204,Mg=16205,q0=16206,Bg=16207,kg=16208,en=16209,xx=16210,px=16211,K_=852,Q_=592,W_=15,J_=W_,Lg=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function $_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Tl=n=>{if(!n)return 1;const o=n.state;return!o||o.strm!==n||o.mode<Du||o.mode>px?1:0},wx=n=>{if(Tl(n))return Qi;const o=n.state;return n.total_in=n.total_out=o.total=0,n.msg="",o.wrap&&(n.adler=o.wrap&1),o.mode=Du,o.last=0,o.havedict=0,o.flags=-1,o.dmax=32768,o.head=null,o.hold=0,o.bits=0,o.lencode=o.lendyn=new Int32Array(K_),o.distcode=o.distdyn=new Int32Array(Q_),o.sane=1,o.back=-1,Cl},_x=n=>{if(Tl(n))return Qi;const o=n.state;return o.wsize=0,o.whave=0,o.wnext=0,wx(n)},Ex=(n,o)=>{let l;if(Tl(n))return Qi;const d=n.state;return o<0?(l=0,o=-o):(l=(o>>4)+5,o<48&&(o&=15)),o&&(o<8||o>15)?Qi:(d.window!==null&&d.wbits!==o&&(d.window=null),d.wrap=l,d.wbits=o,_x(n))},yx=(n,o)=>{if(!n)return Qi;const l=new $_;n.state=l,l.strm=n,l.window=null,l.mode=Du;const d=Ex(n,o);return d!==Cl&&(n.state=null),d},eE=n=>yx(n,J_);let zg=!0,K0,Q0;const tE=n=>{if(zg){K0=new Int32Array(512),Q0=new Int32Array(32);let o=0;for(;o<144;)n.lens[o++]=8;for(;o<256;)n.lens[o++]=9;for(;o<280;)n.lens[o++]=7;for(;o<288;)n.lens[o++]=8;for(To(hx,n.lens,0,288,K0,0,n.work,{bits:9}),o=0;o<32;)n.lens[o++]=5;To(dx,n.lens,0,32,Q0,0,n.work,{bits:5}),zg=!1}n.lencode=K0,n.lenbits=9,n.distcode=Q0,n.distbits=5},Ax=(n,o,l,d)=>{let m;const p=n.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new Uint8Array(p.wsize)),d>=p.wsize?(p.window.set(o.subarray(l-p.wsize,l),0),p.wnext=0,p.whave=p.wsize):(m=p.wsize-p.wnext,m>d&&(m=d),p.window.set(o.subarray(l-d,l-d+m),p.wnext),d-=m,d?(p.window.set(o.subarray(l-d,l),0),p.wnext=d,p.whave=p.wsize):(p.wnext+=m,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=m))),0},nE=(n,o)=>{let l,d,m,p,A,C,S,E,T,D,k,L,X,re,fe=0,be,we,Q,Y,ve,ye,Z,pe;const ee=new Uint8Array(4);let Ne,Te;const Oe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Tl(n)||!n.output||!n.input&&n.avail_in!==0)return Qi;l=n.state,l.mode===qa&&(l.mode=j0),A=n.next_out,m=n.output,S=n.avail_out,p=n.next_in,d=n.input,C=n.avail_in,E=l.hold,T=l.bits,D=C,k=S,pe=Cl;e:for(;;)switch(l.mode){case Du:if(l.wrap===0){l.mode=j0;break}for(;T<16;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if(l.wrap&2&&E===35615){l.wbits===0&&(l.wbits=15),l.check=0,ee[0]=E&255,ee[1]=E>>>8&255,l.check=Ln(l.check,ee,2,0),E=0,T=0,l.mode=mg;break}if(l.head&&(l.head.done=!1),!(l.wrap&1)||(((E&255)<<8)+(E>>8))%31){n.msg="incorrect header check",l.mode=en;break}if((E&15)!==gg){n.msg="unknown compression method",l.mode=en;break}if(E>>>=4,T-=4,Z=(E&15)+8,l.wbits===0&&(l.wbits=Z),Z>15||Z>l.wbits){n.msg="invalid window size",l.mode=en;break}l.dmax=1<<l.wbits,l.flags=0,n.adler=l.check=1,l.mode=E&512?bg:qa,E=0,T=0;break;case mg:for(;T<16;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if(l.flags=E,(l.flags&255)!==gg){n.msg="unknown compression method",l.mode=en;break}if(l.flags&57344){n.msg="unknown header flags set",l.mode=en;break}l.head&&(l.head.text=E>>8&1),l.flags&512&&l.wrap&4&&(ee[0]=E&255,ee[1]=E>>>8&255,l.check=Ln(l.check,ee,2,0)),E=0,T=0,l.mode=xg;case xg:for(;T<32;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}l.head&&(l.head.time=E),l.flags&512&&l.wrap&4&&(ee[0]=E&255,ee[1]=E>>>8&255,ee[2]=E>>>16&255,ee[3]=E>>>24&255,l.check=Ln(l.check,ee,4,0)),E=0,T=0,l.mode=pg;case pg:for(;T<16;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}l.head&&(l.head.xflags=E&255,l.head.os=E>>8),l.flags&512&&l.wrap&4&&(ee[0]=E&255,ee[1]=E>>>8&255,l.check=Ln(l.check,ee,2,0)),E=0,T=0,l.mode=wg;case wg:if(l.flags&1024){for(;T<16;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}l.length=E,l.head&&(l.head.extra_len=E),l.flags&512&&l.wrap&4&&(ee[0]=E&255,ee[1]=E>>>8&255,l.check=Ln(l.check,ee,2,0)),E=0,T=0}else l.head&&(l.head.extra=null);l.mode=_g;case _g:if(l.flags&1024&&(L=l.length,L>C&&(L=C),L&&(l.head&&(Z=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Uint8Array(l.head.extra_len)),l.head.extra.set(d.subarray(p,p+L),Z)),l.flags&512&&l.wrap&4&&(l.check=Ln(l.check,d,L,p)),C-=L,p+=L,l.length-=L),l.length))break e;l.length=0,l.mode=Eg;case Eg:if(l.flags&2048){if(C===0)break e;L=0;do Z=d[p+L++],l.head&&Z&&l.length<65536&&(l.head.name+=String.fromCharCode(Z));while(Z&&L<C);if(l.flags&512&&l.wrap&4&&(l.check=Ln(l.check,d,L,p)),C-=L,p+=L,Z)break e}else l.head&&(l.head.name=null);l.length=0,l.mode=yg;case yg:if(l.flags&4096){if(C===0)break e;L=0;do Z=d[p+L++],l.head&&Z&&l.length<65536&&(l.head.comment+=String.fromCharCode(Z));while(Z&&L<C);if(l.flags&512&&l.wrap&4&&(l.check=Ln(l.check,d,L,p)),C-=L,p+=L,Z)break e}else l.head&&(l.head.comment=null);l.mode=Ag;case Ag:if(l.flags&512){for(;T<16;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if(l.wrap&4&&E!==(l.check&65535)){n.msg="header crc mismatch",l.mode=en;break}E=0,T=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),n.adler=l.check=0,l.mode=qa;break;case bg:for(;T<32;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}n.adler=l.check=Lg(E),E=0,T=0,l.mode=Eu;case Eu:if(l.havedict===0)return n.next_out=A,n.avail_out=S,n.next_in=p,n.avail_in=C,l.hold=E,l.bits=T,Y_;n.adler=l.check=1,l.mode=qa;case qa:if(o===X_||o===su)break e;case j0:if(l.last){E>>>=T&7,T-=T&7,l.mode=q0;break}for(;T<3;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}switch(l.last=E&1,E>>>=1,T-=1,E&3){case 0:l.mode=Cg;break;case 1:if(tE(l),l.mode=ou,o===su){E>>>=2,T-=2;break e}break;case 2:l.mode=vg;break;case 3:n.msg="invalid block type",l.mode=en}E>>>=2,T-=2;break;case Cg:for(E>>>=T&7,T-=T&7;T<32;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if((E&65535)!==(E>>>16^65535)){n.msg="invalid stored block lengths",l.mode=en;break}if(l.length=E&65535,E=0,T=0,l.mode=Y0,o===su)break e;case Y0:l.mode=Sg;case Sg:if(L=l.length,L){if(L>C&&(L=C),L>S&&(L=S),L===0)break e;m.set(d.subarray(p,p+L),A),C-=L,p+=L,S-=L,A+=L,l.length-=L;break}l.mode=qa;break;case vg:for(;T<14;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if(l.nlen=(E&31)+257,E>>>=5,T-=5,l.ndist=(E&31)+1,E>>>=5,T-=5,l.ncode=(E&15)+4,E>>>=4,T-=4,l.nlen>286||l.ndist>30){n.msg="too many length or distance symbols",l.mode=en;break}l.have=0,l.mode=Tg;case Tg:for(;l.have<l.ncode;){for(;T<3;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}l.lens[Oe[l.have++]]=E&7,E>>>=3,T-=3}for(;l.have<19;)l.lens[Oe[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,Ne={bits:l.lenbits},pe=To(V_,l.lens,0,19,l.lencode,0,l.work,Ne),l.lenbits=Ne.bits,pe){n.msg="invalid code lengths set",l.mode=en;break}l.have=0,l.mode=Og;case Og:for(;l.have<l.nlen+l.ndist;){for(;fe=l.lencode[E&(1<<l.lenbits)-1],be=fe>>>24,we=fe>>>16&255,Q=fe&65535,!(be<=T);){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if(Q<16)E>>>=be,T-=be,l.lens[l.have++]=Q;else{if(Q===16){for(Te=be+2;T<Te;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if(E>>>=be,T-=be,l.have===0){n.msg="invalid bit length repeat",l.mode=en;break}Z=l.lens[l.have-1],L=3+(E&3),E>>>=2,T-=2}else if(Q===17){for(Te=be+3;T<Te;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}E>>>=be,T-=be,Z=0,L=3+(E&7),E>>>=3,T-=3}else{for(Te=be+7;T<Te;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}E>>>=be,T-=be,Z=0,L=11+(E&127),E>>>=7,T-=7}if(l.have+L>l.nlen+l.ndist){n.msg="invalid bit length repeat",l.mode=en;break}for(;L--;)l.lens[l.have++]=Z}}if(l.mode===en)break;if(l.lens[256]===0){n.msg="invalid code -- missing end-of-block",l.mode=en;break}if(l.lenbits=9,Ne={bits:l.lenbits},pe=To(hx,l.lens,0,l.nlen,l.lencode,0,l.work,Ne),l.lenbits=Ne.bits,pe){n.msg="invalid literal/lengths set",l.mode=en;break}if(l.distbits=6,l.distcode=l.distdyn,Ne={bits:l.distbits},pe=To(dx,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,Ne),l.distbits=Ne.bits,pe){n.msg="invalid distances set",l.mode=en;break}if(l.mode=ou,o===su)break e;case ou:l.mode=cu;case cu:if(C>=6&&S>=258){n.next_out=A,n.avail_out=S,n.next_in=p,n.avail_in=C,l.hold=E,l.bits=T,U_(n,k),A=n.next_out,m=n.output,S=n.avail_out,p=n.next_in,d=n.input,C=n.avail_in,E=l.hold,T=l.bits,l.mode===qa&&(l.back=-1);break}for(l.back=0;fe=l.lencode[E&(1<<l.lenbits)-1],be=fe>>>24,we=fe>>>16&255,Q=fe&65535,!(be<=T);){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if(we&&(we&240)===0){for(Y=be,ve=we,ye=Q;fe=l.lencode[ye+((E&(1<<Y+ve)-1)>>Y)],be=fe>>>24,we=fe>>>16&255,Q=fe&65535,!(Y+be<=T);){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}E>>>=Y,T-=Y,l.back+=Y}if(E>>>=be,T-=be,l.back+=be,l.length=Q,we===0){l.mode=Mg;break}if(we&32){l.back=-1,l.mode=qa;break}if(we&64){n.msg="invalid literal/length code",l.mode=en;break}l.extra=we&15,l.mode=Ng;case Ng:if(l.extra){for(Te=l.extra;T<Te;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}l.length+=E&(1<<l.extra)-1,E>>>=l.extra,T-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=Rg;case Rg:for(;fe=l.distcode[E&(1<<l.distbits)-1],be=fe>>>24,we=fe>>>16&255,Q=fe&65535,!(be<=T);){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if((we&240)===0){for(Y=be,ve=we,ye=Q;fe=l.distcode[ye+((E&(1<<Y+ve)-1)>>Y)],be=fe>>>24,we=fe>>>16&255,Q=fe&65535,!(Y+be<=T);){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}E>>>=Y,T-=Y,l.back+=Y}if(E>>>=be,T-=be,l.back+=be,we&64){n.msg="invalid distance code",l.mode=en;break}l.offset=Q,l.extra=we&15,l.mode=Ig;case Ig:if(l.extra){for(Te=l.extra;T<Te;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}l.offset+=E&(1<<l.extra)-1,E>>>=l.extra,T-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){n.msg="invalid distance too far back",l.mode=en;break}l.mode=Dg;case Dg:if(S===0)break e;if(L=k-S,l.offset>L){if(L=l.offset-L,L>l.whave&&l.sane){n.msg="invalid distance too far back",l.mode=en;break}L>l.wnext?(L-=l.wnext,X=l.wsize-L):X=l.wnext-L,L>l.length&&(L=l.length),re=l.window}else re=m,X=A-l.offset,L=l.length;L>S&&(L=S),S-=L,l.length-=L;do m[A++]=re[X++];while(--L);l.length===0&&(l.mode=cu);break;case Mg:if(S===0)break e;m[A++]=l.length,S--,l.mode=cu;break;case q0:if(l.wrap){for(;T<32;){if(C===0)break e;C--,E|=d[p++]<<T,T+=8}if(k-=S,n.total_out+=k,l.total+=k,l.wrap&4&&k&&(n.adler=l.check=l.flags?Ln(l.check,m,k,A-k):Do(l.check,m,k,A-k)),k=S,l.wrap&4&&(l.flags?E:Lg(E))!==l.check){n.msg="incorrect data check",l.mode=en;break}E=0,T=0}l.mode=Bg;case Bg:if(l.wrap&&l.flags){for(;T<32;){if(C===0)break e;C--,E+=d[p++]<<T,T+=8}if(l.wrap&4&&E!==(l.total&4294967295)){n.msg="incorrect length check",l.mode=en;break}E=0,T=0}l.mode=kg;case kg:pe=j_;break e;case en:pe=gx;break e;case xx:return mx;case px:default:return Qi}return n.next_out=A,n.avail_out=S,n.next_in=p,n.avail_in=C,l.hold=E,l.bits=T,(l.wsize||k!==n.avail_out&&l.mode<en&&(l.mode<q0||o!==dg))&&Ax(n,n.output,n.next_out,k-n.avail_out),D-=n.avail_in,k-=n.avail_out,n.total_in+=D,n.total_out+=k,l.total+=k,l.wrap&4&&k&&(n.adler=l.check=l.flags?Ln(l.check,m,k,n.next_out-k):Do(l.check,m,k,n.next_out-k)),n.data_type=l.bits+(l.last?64:0)+(l.mode===qa?128:0)+(l.mode===ou||l.mode===Y0?256:0),(D===0&&k===0||o===dg)&&pe===Cl&&(pe=q_),pe},iE=n=>{if(Tl(n))return Qi;let o=n.state;return o.window&&(o.window=null),n.state=null,Cl},aE=(n,o)=>{if(Tl(n))return Qi;const l=n.state;return(l.wrap&2)===0?Qi:(l.head=o,o.done=!1,Cl)},rE=(n,o)=>{const l=o.length;let d,m,p;return Tl(n)||(d=n.state,d.wrap!==0&&d.mode!==Eu)?Qi:d.mode===Eu&&(m=1,m=Do(m,o,l,0),m!==d.check)?gx:(p=Ax(n,o,l,l),p?(d.mode=xx,mx):(d.havedict=1,Cl))};var lE=_x,sE=Ex,oE=wx,cE=eE,uE=yx,fE=nE,hE=iE,dE=aE,gE=rE,mE="pako inflate (from Nodeca project)",Wa={inflateReset:lE,inflateReset2:sE,inflateResetKeep:oE,inflateInit:cE,inflateInit2:uE,inflate:fE,inflateEnd:hE,inflateGetHeader:dE,inflateSetDictionary:gE,inflateInfo:mE};function xE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pE=xE;const bx=Object.prototype.toString,{Z_NO_FLUSH:wE,Z_FINISH:_E,Z_OK:ko,Z_STREAM_END:W0,Z_NEED_DICT:J0,Z_STREAM_ERROR:EE,Z_DATA_ERROR:Ug,Z_MEM_ERROR:yE}=Ou;function Mu(n){this.options=Ru.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(n&&n.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15)===0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ux,this.strm.avail_out=0;let l=Wa.inflateInit2(this.strm,o.windowBits);if(l!==ko)throw new Error(Al[l]);if(this.header=new pE,Wa.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=Bo.string2buf(o.dictionary):bx.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(l=Wa.inflateSetDictionary(this.strm,o.dictionary),l!==ko)))throw new Error(Al[l])}Mu.prototype.push=function(n,o){const l=this.strm,d=this.options.chunkSize,m=this.options.dictionary;let p,A,C;if(this.ended)return!1;for(o===~~o?A=o:A=o===!0?_E:wE,bx.call(n)==="[object ArrayBuffer]"?l.input=new Uint8Array(n):l.input=n,l.next_in=0,l.avail_in=l.input.length;;){for(l.avail_out===0&&(l.output=new Uint8Array(d),l.next_out=0,l.avail_out=d),p=Wa.inflate(l,A),p===J0&&m&&(p=Wa.inflateSetDictionary(l,m),p===ko?p=Wa.inflate(l,A):p===Ug&&(p=J0));l.avail_in>0&&p===W0&&l.state.wrap>0&&n[l.next_in]!==0;)Wa.inflateReset(l),p=Wa.inflate(l,A);switch(p){case EE:case Ug:case J0:case yE:return this.onEnd(p),this.ended=!0,!1}if(C=l.avail_out,l.next_out&&(l.avail_out===0||p===W0))if(this.options.to==="string"){let S=Bo.utf8border(l.output,l.next_out),E=l.next_out-S,T=Bo.buf2string(l.output,S);l.next_out=E,l.avail_out=d-E,E&&l.output.set(l.output.subarray(S,S+E),0),this.onData(T)}else this.onData(l.output.length===l.next_out?l.output:l.output.subarray(0,l.next_out));if(!(p===ko&&C===0)){if(p===W0)return p=Wa.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,!0;if(l.avail_in===0)break}}return!0};Mu.prototype.onData=function(n){this.chunks.push(n)};Mu.prototype.onEnd=function(n){n===ko&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ru.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function AE(n,o){const l=new Mu(o);if(l.push(n),l.err)throw l.msg||Al[l.err];return l.result}var bE=AE,CE={ungzip:bE};const{gzip:SE}=L_,{ungzip:vE}=CE;var TE=SE,OE=vE;function ue(n,o,l){function d(C,S){if(C._zod||Object.defineProperty(C,"_zod",{value:{def:S,constr:A,traits:new Set},enumerable:!1}),C._zod.traits.has(n))return;C._zod.traits.add(n),o(C,S);const E=A.prototype,T=Object.keys(E);for(let D=0;D<T.length;D++){const k=T[D];k in C||(C[k]=E[k].bind(C))}}const m=l?.Parent??Object;class p extends m{}Object.defineProperty(p,"name",{value:n});function A(C){var S;const E=l?.Parent?new p:this;d(E,C),(S=E._zod).deferred??(S.deferred=[]);for(const T of E._zod.deferred)T();return E}return Object.defineProperty(A,"init",{value:d}),Object.defineProperty(A,Symbol.hasInstance,{value:C=>l?.Parent&&C instanceof l.Parent?!0:C?._zod?.traits?.has(n)}),Object.defineProperty(A,"name",{value:n}),A}class _s extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Cx extends Error{constructor(o){super(`Encountered unidirectional transform during encode: ${o}`),this.name="ZodEncodeError"}}const Sx={};function Sl(n){return Sx}function vx(n){const o=Object.values(n).filter(d=>typeof d=="number");return Object.entries(n).filter(([d,m])=>o.indexOf(+d)===-1).map(([d,m])=>m)}function m1(n,o){return typeof o=="bigint"?o.toString():o}function T1(n){return{get value(){{const o=n();return Object.defineProperty(this,"value",{value:o}),o}}}}function O1(n){return n==null}function N1(n){const o=n.startsWith("^")?1:0,l=n.endsWith("$")?n.length-1:n.length;return n.slice(o,l)}function NE(n,o){const l=(n.toString().split(".")[1]||"").length,d=o.toString();let m=(d.split(".")[1]||"").length;if(m===0&&/\d?e-\d?/.test(d)){const S=d.match(/\d?e-(\d?)/);S?.[1]&&(m=Number.parseInt(S[1]))}const p=l>m?l:m,A=Number.parseInt(n.toFixed(p).replace(".","")),C=Number.parseInt(o.toFixed(p).replace(".",""));return A%C/10**p}const Fg=Symbol("evaluating");function zt(n,o,l){let d;Object.defineProperty(n,o,{get(){if(d!==Fg)return d===void 0&&(d=Fg,d=l()),d},set(m){Object.defineProperty(n,o,{value:m})},configurable:!0})}function Ol(n,o,l){Object.defineProperty(n,o,{value:l,writable:!0,enumerable:!0,configurable:!0})}function Zr(...n){const o={};for(const l of n){const d=Object.getOwnPropertyDescriptors(l);Object.assign(o,d)}return Object.defineProperties({},o)}function Pg(n){return JSON.stringify(n)}function RE(n){return n.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Tx="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function yu(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const IE=T1(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Lo(n){if(yu(n)===!1)return!1;const o=n.constructor;if(o===void 0||typeof o!="function")return!0;const l=o.prototype;return!(yu(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function Ox(n){return Lo(n)?{...n}:Array.isArray(n)?[...n]:n}const DE=new Set(["string","number","symbol"]);function As(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gr(n,o,l){const d=new n._zod.constr(o??n._zod.def);return(!o||l?.parent)&&(d._zod.parent=n),d}function Fe(n){const o=n;if(!o)return{};if(typeof o=="string")return{error:()=>o};if(o?.message!==void 0){if(o?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");o.error=o.message}return delete o.message,typeof o.error=="string"?{...o,error:()=>o.error}:o}function ME(n){return Object.keys(n).filter(o=>n[o]._zod.optin==="optional"&&n[o]._zod.optout==="optional")}const BE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function kE(n,o){const l=n._zod.def,d=l.checks;if(d&&d.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const p=Zr(n._zod.def,{get shape(){const A={};for(const C in o){if(!(C in l.shape))throw new Error(`Unrecognized key: "${C}"`);o[C]&&(A[C]=l.shape[C])}return Ol(this,"shape",A),A},checks:[]});return Gr(n,p)}function LE(n,o){const l=n._zod.def,d=l.checks;if(d&&d.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const p=Zr(n._zod.def,{get shape(){const A={...n._zod.def.shape};for(const C in o){if(!(C in l.shape))throw new Error(`Unrecognized key: "${C}"`);o[C]&&delete A[C]}return Ol(this,"shape",A),A},checks:[]});return Gr(n,p)}function zE(n,o){if(!Lo(o))throw new Error("Invalid input to extend: expected a plain object");const l=n._zod.def.checks;if(l&&l.length>0){const p=n._zod.def.shape;for(const A in o)if(Object.getOwnPropertyDescriptor(p,A)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const m=Zr(n._zod.def,{get shape(){const p={...n._zod.def.shape,...o};return Ol(this,"shape",p),p}});return Gr(n,m)}function UE(n,o){if(!Lo(o))throw new Error("Invalid input to safeExtend: expected a plain object");const l=Zr(n._zod.def,{get shape(){const d={...n._zod.def.shape,...o};return Ol(this,"shape",d),d}});return Gr(n,l)}function FE(n,o){const l=Zr(n._zod.def,{get shape(){const d={...n._zod.def.shape,...o._zod.def.shape};return Ol(this,"shape",d),d},get catchall(){return o._zod.def.catchall},checks:[]});return Gr(n,l)}function PE(n,o,l){const m=o._zod.def.checks;if(m&&m.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const A=Zr(o._zod.def,{get shape(){const C=o._zod.def.shape,S={...C};if(l)for(const E in l){if(!(E in C))throw new Error(`Unrecognized key: "${E}"`);l[E]&&(S[E]=n?new n({type:"optional",innerType:C[E]}):C[E])}else for(const E in C)S[E]=n?new n({type:"optional",innerType:C[E]}):C[E];return Ol(this,"shape",S),S},checks:[]});return Gr(o,A)}function HE(n,o,l){const d=Zr(o._zod.def,{get shape(){const m=o._zod.def.shape,p={...m};if(l)for(const A in l){if(!(A in p))throw new Error(`Unrecognized key: "${A}"`);l[A]&&(p[A]=new n({type:"nonoptional",innerType:m[A]}))}else for(const A in m)p[A]=new n({type:"nonoptional",innerType:m[A]});return Ol(this,"shape",p),p}});return Gr(o,d)}function xs(n,o=0){if(n.aborted===!0)return!0;for(let l=o;l<n.issues.length;l++)if(n.issues[l]?.continue!==!0)return!0;return!1}function Nx(n,o){return o.map(l=>{var d;return(d=l).path??(d.path=[]),l.path.unshift(n),l})}function uu(n){return typeof n=="string"?n:n?.message}function vl(n,o,l){const d={...n,path:n.path??[]};if(!n.message){const m=uu(n.inst?._zod.def?.error?.(n))??uu(o?.error?.(n))??uu(l.customError?.(n))??uu(l.localeError?.(n))??"Invalid input";d.message=m}return delete d.inst,delete d.continue,o?.reportInput||delete d.input,d}function R1(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function zo(...n){const[o,l,d]=n;return typeof o=="string"?{message:o,code:"custom",input:l,inst:d}:{...o}}const Rx=(n,o)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:o,enumerable:!1}),n.message=JSON.stringify(o,m1,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},Ix=ue("$ZodError",Rx),Dx=ue("$ZodError",Rx,{Parent:Error});function ZE(n,o=l=>l.message){const l={},d=[];for(const m of n.issues)m.path.length>0?(l[m.path[0]]=l[m.path[0]]||[],l[m.path[0]].push(o(m))):d.push(o(m));return{formErrors:d,fieldErrors:l}}function GE(n,o=l=>l.message){const l={_errors:[]},d=m=>{for(const p of m.issues)if(p.code==="invalid_union"&&p.errors.length)p.errors.map(A=>d({issues:A}));else if(p.code==="invalid_key")d({issues:p.issues});else if(p.code==="invalid_element")d({issues:p.issues});else if(p.path.length===0)l._errors.push(o(p));else{let A=l,C=0;for(;C<p.path.length;){const S=p.path[C];C===p.path.length-1?(A[S]=A[S]||{_errors:[]},A[S]._errors.push(o(p))):A[S]=A[S]||{_errors:[]},A=A[S],C++}}};return d(n),l}const I1=n=>(o,l,d,m)=>{const p=d?Object.assign(d,{async:!1}):{async:!1},A=o._zod.run({value:l,issues:[]},p);if(A instanceof Promise)throw new _s;if(A.issues.length){const C=new(m?.Err??n)(A.issues.map(S=>vl(S,p,Sl())));throw Tx(C,m?.callee),C}return A.value},D1=n=>async(o,l,d,m)=>{const p=d?Object.assign(d,{async:!0}):{async:!0};let A=o._zod.run({value:l,issues:[]},p);if(A instanceof Promise&&(A=await A),A.issues.length){const C=new(m?.Err??n)(A.issues.map(S=>vl(S,p,Sl())));throw Tx(C,m?.callee),C}return A.value},Bu=n=>(o,l,d)=>{const m=d?{...d,async:!1}:{async:!1},p=o._zod.run({value:l,issues:[]},m);if(p instanceof Promise)throw new _s;return p.issues.length?{success:!1,error:new(n??Ix)(p.issues.map(A=>vl(A,m,Sl())))}:{success:!0,data:p.value}},VE=Bu(Dx),ku=n=>async(o,l,d)=>{const m=d?Object.assign(d,{async:!0}):{async:!0};let p=o._zod.run({value:l,issues:[]},m);return p instanceof Promise&&(p=await p),p.issues.length?{success:!1,error:new n(p.issues.map(A=>vl(A,m,Sl())))}:{success:!0,data:p.value}},XE=ku(Dx),jE=n=>(o,l,d)=>{const m=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return I1(n)(o,l,m)},YE=n=>(o,l,d)=>I1(n)(o,l,d),qE=n=>async(o,l,d)=>{const m=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return D1(n)(o,l,m)},KE=n=>async(o,l,d)=>D1(n)(o,l,d),QE=n=>(o,l,d)=>{const m=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return Bu(n)(o,l,m)},WE=n=>(o,l,d)=>Bu(n)(o,l,d),JE=n=>async(o,l,d)=>{const m=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return ku(n)(o,l,m)},$E=n=>async(o,l,d)=>ku(n)(o,l,d),ey=/^[cC][^\s-]{8,}$/,ty=/^[0-9a-z]+$/,ny=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,iy=/^[0-9a-vA-V]{20}$/,ay=/^[A-Za-z0-9]{27}$/,ry=/^[a-zA-Z0-9_-]{21}$/,ly=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,sy=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Hg=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,oy=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,cy="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function uy(){return new RegExp(cy,"u")}const fy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hy=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dy=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,gy=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,my=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Mx=/^[A-Za-z0-9_-]*$/,xy=/^\+[1-9]\d{6,14}$/,Bx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",py=new RegExp(`^${Bx}$`);function kx(n){const o="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${o}`:n.precision===0?`${o}:[0-5]\\d`:`${o}:[0-5]\\d\\.\\d{${n.precision}}`:`${o}(?::[0-5]\\d(?:\\.\\d+)?)?`}function wy(n){return new RegExp(`^${kx(n)}$`)}function _y(n){const o=kx({precision:n.precision}),l=["Z"];n.local&&l.push(""),n.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const d=`${o}(?:${l.join("|")})`;return new RegExp(`^${Bx}T(?:${d})$`)}const Ey=n=>{const o=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${o}$`)},yy=/^-?\d+$/,Ay=/^-?\d+(?:\.\d+)?$/,by=/^[^A-Z]*$/,Cy=/^[^a-z]*$/,xi=ue("$ZodCheck",(n,o)=>{var l;n._zod??(n._zod={}),n._zod.def=o,(l=n._zod).onattach??(l.onattach=[])}),Lx={number:"number",bigint:"bigint",object:"date"},zx=ue("$ZodCheckLessThan",(n,o)=>{xi.init(n,o);const l=Lx[typeof o.value];n._zod.onattach.push(d=>{const m=d._zod.bag,p=(o.inclusive?m.maximum:m.exclusiveMaximum)??Number.POSITIVE_INFINITY;o.value<p&&(o.inclusive?m.maximum=o.value:m.exclusiveMaximum=o.value)}),n._zod.check=d=>{(o.inclusive?d.value<=o.value:d.value<o.value)||d.issues.push({origin:l,code:"too_big",maximum:typeof o.value=="object"?o.value.getTime():o.value,input:d.value,inclusive:o.inclusive,inst:n,continue:!o.abort})}}),Ux=ue("$ZodCheckGreaterThan",(n,o)=>{xi.init(n,o);const l=Lx[typeof o.value];n._zod.onattach.push(d=>{const m=d._zod.bag,p=(o.inclusive?m.minimum:m.exclusiveMinimum)??Number.NEGATIVE_INFINITY;o.value>p&&(o.inclusive?m.minimum=o.value:m.exclusiveMinimum=o.value)}),n._zod.check=d=>{(o.inclusive?d.value>=o.value:d.value>o.value)||d.issues.push({origin:l,code:"too_small",minimum:typeof o.value=="object"?o.value.getTime():o.value,input:d.value,inclusive:o.inclusive,inst:n,continue:!o.abort})}}),Sy=ue("$ZodCheckMultipleOf",(n,o)=>{xi.init(n,o),n._zod.onattach.push(l=>{var d;(d=l._zod.bag).multipleOf??(d.multipleOf=o.value)}),n._zod.check=l=>{if(typeof l.value!=typeof o.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%o.value===BigInt(0):NE(l.value,o.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:o.value,input:l.value,inst:n,continue:!o.abort})}}),vy=ue("$ZodCheckNumberFormat",(n,o)=>{xi.init(n,o),o.format=o.format||"float64";const l=o.format?.includes("int"),d=l?"int":"number",[m,p]=BE[o.format];n._zod.onattach.push(A=>{const C=A._zod.bag;C.format=o.format,C.minimum=m,C.maximum=p,l&&(C.pattern=yy)}),n._zod.check=A=>{const C=A.value;if(l){if(!Number.isInteger(C)){A.issues.push({expected:d,format:o.format,code:"invalid_type",continue:!1,input:C,inst:n});return}if(!Number.isSafeInteger(C)){C>0?A.issues.push({input:C,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:d,inclusive:!0,continue:!o.abort}):A.issues.push({input:C,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:d,inclusive:!0,continue:!o.abort});return}}C<m&&A.issues.push({origin:"number",input:C,code:"too_small",minimum:m,inclusive:!0,inst:n,continue:!o.abort}),C>p&&A.issues.push({origin:"number",input:C,code:"too_big",maximum:p,inclusive:!0,inst:n,continue:!o.abort})}}),Ty=ue("$ZodCheckMaxLength",(n,o)=>{var l;xi.init(n,o),(l=n._zod.def).when??(l.when=d=>{const m=d.value;return!O1(m)&&m.length!==void 0}),n._zod.onattach.push(d=>{const m=d._zod.bag.maximum??Number.POSITIVE_INFINITY;o.maximum<m&&(d._zod.bag.maximum=o.maximum)}),n._zod.check=d=>{const m=d.value;if(m.length<=o.maximum)return;const A=R1(m);d.issues.push({origin:A,code:"too_big",maximum:o.maximum,inclusive:!0,input:m,inst:n,continue:!o.abort})}}),Oy=ue("$ZodCheckMinLength",(n,o)=>{var l;xi.init(n,o),(l=n._zod.def).when??(l.when=d=>{const m=d.value;return!O1(m)&&m.length!==void 0}),n._zod.onattach.push(d=>{const m=d._zod.bag.minimum??Number.NEGATIVE_INFINITY;o.minimum>m&&(d._zod.bag.minimum=o.minimum)}),n._zod.check=d=>{const m=d.value;if(m.length>=o.minimum)return;const A=R1(m);d.issues.push({origin:A,code:"too_small",minimum:o.minimum,inclusive:!0,input:m,inst:n,continue:!o.abort})}}),Ny=ue("$ZodCheckLengthEquals",(n,o)=>{var l;xi.init(n,o),(l=n._zod.def).when??(l.when=d=>{const m=d.value;return!O1(m)&&m.length!==void 0}),n._zod.onattach.push(d=>{const m=d._zod.bag;m.minimum=o.length,m.maximum=o.length,m.length=o.length}),n._zod.check=d=>{const m=d.value,p=m.length;if(p===o.length)return;const A=R1(m),C=p>o.length;d.issues.push({origin:A,...C?{code:"too_big",maximum:o.length}:{code:"too_small",minimum:o.length},inclusive:!0,exact:!0,input:d.value,inst:n,continue:!o.abort})}}),Lu=ue("$ZodCheckStringFormat",(n,o)=>{var l,d;xi.init(n,o),n._zod.onattach.push(m=>{const p=m._zod.bag;p.format=o.format,o.pattern&&(p.patterns??(p.patterns=new Set),p.patterns.add(o.pattern))}),o.pattern?(l=n._zod).check??(l.check=m=>{o.pattern.lastIndex=0,!o.pattern.test(m.value)&&m.issues.push({origin:"string",code:"invalid_format",format:o.format,input:m.value,...o.pattern?{pattern:o.pattern.toString()}:{},inst:n,continue:!o.abort})}):(d=n._zod).check??(d.check=()=>{})}),Ry=ue("$ZodCheckRegex",(n,o)=>{Lu.init(n,o),n._zod.check=l=>{o.pattern.lastIndex=0,!o.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:o.pattern.toString(),inst:n,continue:!o.abort})}}),Iy=ue("$ZodCheckLowerCase",(n,o)=>{o.pattern??(o.pattern=by),Lu.init(n,o)}),Dy=ue("$ZodCheckUpperCase",(n,o)=>{o.pattern??(o.pattern=Cy),Lu.init(n,o)}),My=ue("$ZodCheckIncludes",(n,o)=>{xi.init(n,o);const l=As(o.includes),d=new RegExp(typeof o.position=="number"?`^.{${o.position}}${l}`:l);o.pattern=d,n._zod.onattach.push(m=>{const p=m._zod.bag;p.patterns??(p.patterns=new Set),p.patterns.add(d)}),n._zod.check=m=>{m.value.includes(o.includes,o.position)||m.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:o.includes,input:m.value,inst:n,continue:!o.abort})}}),By=ue("$ZodCheckStartsWith",(n,o)=>{xi.init(n,o);const l=new RegExp(`^${As(o.prefix)}.*`);o.pattern??(o.pattern=l),n._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(l)}),n._zod.check=d=>{d.value.startsWith(o.prefix)||d.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:o.prefix,input:d.value,inst:n,continue:!o.abort})}}),ky=ue("$ZodCheckEndsWith",(n,o)=>{xi.init(n,o);const l=new RegExp(`.*${As(o.suffix)}$`);o.pattern??(o.pattern=l),n._zod.onattach.push(d=>{const m=d._zod.bag;m.patterns??(m.patterns=new Set),m.patterns.add(l)}),n._zod.check=d=>{d.value.endsWith(o.suffix)||d.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:o.suffix,input:d.value,inst:n,continue:!o.abort})}}),Ly=ue("$ZodCheckOverwrite",(n,o)=>{xi.init(n,o),n._zod.check=l=>{l.value=o.tx(l.value)}});class zy{constructor(o=[]){this.content=[],this.indent=0,this&&(this.args=o)}indented(o){this.indent+=1,o(this),this.indent-=1}write(o){if(typeof o=="function"){o(this,{execution:"sync"}),o(this,{execution:"async"});return}const d=o.split(`
`).filter(A=>A),m=Math.min(...d.map(A=>A.length-A.trimStart().length)),p=d.map(A=>A.slice(m)).map(A=>" ".repeat(this.indent*2)+A);for(const A of p)this.content.push(A)}compile(){const o=Function,l=this?.args,m=[...(this?.content??[""]).map(p=>`  ${p}`)];return new o(...l,m.join(`
`))}}const Uy={major:4,minor:3,patch:6},_n=ue("$ZodType",(n,o)=>{var l;n??(n={}),n._zod.def=o,n._zod.bag=n._zod.bag||{},n._zod.version=Uy;const d=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&d.unshift(n);for(const m of d)for(const p of m._zod.onattach)p(n);if(d.length===0)(l=n._zod).deferred??(l.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const m=(A,C,S)=>{let E=xs(A),T;for(const D of C){if(D._zod.def.when){if(!D._zod.def.when(A))continue}else if(E)continue;const k=A.issues.length,L=D._zod.check(A);if(L instanceof Promise&&S?.async===!1)throw new _s;if(T||L instanceof Promise)T=(T??Promise.resolve()).then(async()=>{await L,A.issues.length!==k&&(E||(E=xs(A,k)))});else{if(A.issues.length===k)continue;E||(E=xs(A,k))}}return T?T.then(()=>A):A},p=(A,C,S)=>{if(xs(A))return A.aborted=!0,A;const E=m(C,d,S);if(E instanceof Promise){if(S.async===!1)throw new _s;return E.then(T=>n._zod.parse(T,S))}return n._zod.parse(E,S)};n._zod.run=(A,C)=>{if(C.skipChecks)return n._zod.parse(A,C);if(C.direction==="backward"){const E=n._zod.parse({value:A.value,issues:[]},{...C,skipChecks:!0});return E instanceof Promise?E.then(T=>p(T,A,C)):p(E,A,C)}const S=n._zod.parse(A,C);if(S instanceof Promise){if(C.async===!1)throw new _s;return S.then(E=>m(E,d,C))}return m(S,d,C)}}zt(n,"~standard",()=>({validate:m=>{try{const p=VE(n,m);return p.success?{value:p.data}:{issues:p.error?.issues}}catch{return XE(n,m).then(A=>A.success?{value:A.data}:{issues:A.error?.issues})}},vendor:"zod",version:1}))}),M1=ue("$ZodString",(n,o)=>{_n.init(n,o),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??Ey(n._zod.bag),n._zod.parse=(l,d)=>{if(o.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:n}),l}}),tn=ue("$ZodStringFormat",(n,o)=>{Lu.init(n,o),M1.init(n,o)}),Fy=ue("$ZodGUID",(n,o)=>{o.pattern??(o.pattern=sy),tn.init(n,o)}),Py=ue("$ZodUUID",(n,o)=>{if(o.version){const d={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[o.version];if(d===void 0)throw new Error(`Invalid UUID version: "${o.version}"`);o.pattern??(o.pattern=Hg(d))}else o.pattern??(o.pattern=Hg());tn.init(n,o)}),Hy=ue("$ZodEmail",(n,o)=>{o.pattern??(o.pattern=oy),tn.init(n,o)}),Zy=ue("$ZodURL",(n,o)=>{tn.init(n,o),n._zod.check=l=>{try{const d=l.value.trim(),m=new URL(d);o.hostname&&(o.hostname.lastIndex=0,o.hostname.test(m.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:o.hostname.source,input:l.value,inst:n,continue:!o.abort})),o.protocol&&(o.protocol.lastIndex=0,o.protocol.test(m.protocol.endsWith(":")?m.protocol.slice(0,-1):m.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:o.protocol.source,input:l.value,inst:n,continue:!o.abort})),o.normalize?l.value=m.href:l.value=d;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:n,continue:!o.abort})}}}),Gy=ue("$ZodEmoji",(n,o)=>{o.pattern??(o.pattern=uy()),tn.init(n,o)}),Vy=ue("$ZodNanoID",(n,o)=>{o.pattern??(o.pattern=ry),tn.init(n,o)}),Xy=ue("$ZodCUID",(n,o)=>{o.pattern??(o.pattern=ey),tn.init(n,o)}),jy=ue("$ZodCUID2",(n,o)=>{o.pattern??(o.pattern=ty),tn.init(n,o)}),Yy=ue("$ZodULID",(n,o)=>{o.pattern??(o.pattern=ny),tn.init(n,o)}),qy=ue("$ZodXID",(n,o)=>{o.pattern??(o.pattern=iy),tn.init(n,o)}),Ky=ue("$ZodKSUID",(n,o)=>{o.pattern??(o.pattern=ay),tn.init(n,o)}),Qy=ue("$ZodISODateTime",(n,o)=>{o.pattern??(o.pattern=_y(o)),tn.init(n,o)}),Wy=ue("$ZodISODate",(n,o)=>{o.pattern??(o.pattern=py),tn.init(n,o)}),Jy=ue("$ZodISOTime",(n,o)=>{o.pattern??(o.pattern=wy(o)),tn.init(n,o)}),$y=ue("$ZodISODuration",(n,o)=>{o.pattern??(o.pattern=ly),tn.init(n,o)}),e8=ue("$ZodIPv4",(n,o)=>{o.pattern??(o.pattern=fy),tn.init(n,o),n._zod.bag.format="ipv4"}),t8=ue("$ZodIPv6",(n,o)=>{o.pattern??(o.pattern=hy),tn.init(n,o),n._zod.bag.format="ipv6",n._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:n,continue:!o.abort})}}}),n8=ue("$ZodCIDRv4",(n,o)=>{o.pattern??(o.pattern=dy),tn.init(n,o)}),i8=ue("$ZodCIDRv6",(n,o)=>{o.pattern??(o.pattern=gy),tn.init(n,o),n._zod.check=l=>{const d=l.value.split("/");try{if(d.length!==2)throw new Error;const[m,p]=d;if(!p)throw new Error;const A=Number(p);if(`${A}`!==p)throw new Error;if(A<0||A>128)throw new Error;new URL(`http://[${m}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:n,continue:!o.abort})}}});function Fx(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const a8=ue("$ZodBase64",(n,o)=>{o.pattern??(o.pattern=my),tn.init(n,o),n._zod.bag.contentEncoding="base64",n._zod.check=l=>{Fx(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:n,continue:!o.abort})}});function r8(n){if(!Mx.test(n))return!1;const o=n.replace(/[-_]/g,d=>d==="-"?"+":"/"),l=o.padEnd(Math.ceil(o.length/4)*4,"=");return Fx(l)}const l8=ue("$ZodBase64URL",(n,o)=>{o.pattern??(o.pattern=Mx),tn.init(n,o),n._zod.bag.contentEncoding="base64url",n._zod.check=l=>{r8(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:n,continue:!o.abort})}}),s8=ue("$ZodE164",(n,o)=>{o.pattern??(o.pattern=xy),tn.init(n,o)});function o8(n,o=null){try{const l=n.split(".");if(l.length!==3)return!1;const[d]=l;if(!d)return!1;const m=JSON.parse(atob(d));return!("typ"in m&&m?.typ!=="JWT"||!m.alg||o&&(!("alg"in m)||m.alg!==o))}catch{return!1}}const c8=ue("$ZodJWT",(n,o)=>{tn.init(n,o),n._zod.check=l=>{o8(l.value,o.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:n,continue:!o.abort})}}),Px=ue("$ZodNumber",(n,o)=>{_n.init(n,o),n._zod.pattern=n._zod.bag.pattern??Ay,n._zod.parse=(l,d)=>{if(o.coerce)try{l.value=Number(l.value)}catch{}const m=l.value;if(typeof m=="number"&&!Number.isNaN(m)&&Number.isFinite(m))return l;const p=typeof m=="number"?Number.isNaN(m)?"NaN":Number.isFinite(m)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:m,inst:n,...p?{received:p}:{}}),l}}),u8=ue("$ZodNumberFormat",(n,o)=>{vy.init(n,o),Px.init(n,o)}),f8=ue("$ZodUnknown",(n,o)=>{_n.init(n,o),n._zod.parse=l=>l}),h8=ue("$ZodNever",(n,o)=>{_n.init(n,o),n._zod.parse=(l,d)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:n}),l)});function Zg(n,o,l){n.issues.length&&o.issues.push(...Nx(l,n.issues)),o.value[l]=n.value}const d8=ue("$ZodArray",(n,o)=>{_n.init(n,o),n._zod.parse=(l,d)=>{const m=l.value;if(!Array.isArray(m))return l.issues.push({expected:"array",code:"invalid_type",input:m,inst:n}),l;l.value=Array(m.length);const p=[];for(let A=0;A<m.length;A++){const C=m[A],S=o.element._zod.run({value:C,issues:[]},d);S instanceof Promise?p.push(S.then(E=>Zg(E,l,A))):Zg(S,l,A)}return p.length?Promise.all(p).then(()=>l):l}});function Au(n,o,l,d,m){if(n.issues.length){if(m&&!(l in d))return;o.issues.push(...Nx(l,n.issues))}n.value===void 0?l in d&&(o.value[l]=void 0):o.value[l]=n.value}function Hx(n){const o=Object.keys(n.shape);for(const d of o)if(!n.shape?.[d]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const l=ME(n.shape);return{...n,keys:o,keySet:new Set(o),numKeys:o.length,optionalKeys:new Set(l)}}function Zx(n,o,l,d,m,p){const A=[],C=m.keySet,S=m.catchall._zod,E=S.def.type,T=S.optout==="optional";for(const D in o){if(C.has(D))continue;if(E==="never"){A.push(D);continue}const k=S.run({value:o[D],issues:[]},d);k instanceof Promise?n.push(k.then(L=>Au(L,l,D,o,T))):Au(k,l,D,o,T)}return A.length&&l.issues.push({code:"unrecognized_keys",keys:A,input:o,inst:p}),n.length?Promise.all(n).then(()=>l):l}const g8=ue("$ZodObject",(n,o)=>{if(_n.init(n,o),!Object.getOwnPropertyDescriptor(o,"shape")?.get){const C=o.shape;Object.defineProperty(o,"shape",{get:()=>{const S={...C};return Object.defineProperty(o,"shape",{value:S}),S}})}const d=T1(()=>Hx(o));zt(n._zod,"propValues",()=>{const C=o.shape,S={};for(const E in C){const T=C[E]._zod;if(T.values){S[E]??(S[E]=new Set);for(const D of T.values)S[E].add(D)}}return S});const m=yu,p=o.catchall;let A;n._zod.parse=(C,S)=>{A??(A=d.value);const E=C.value;if(!m(E))return C.issues.push({expected:"object",code:"invalid_type",input:E,inst:n}),C;C.value={};const T=[],D=A.shape;for(const k of A.keys){const L=D[k],X=L._zod.optout==="optional",re=L._zod.run({value:E[k],issues:[]},S);re instanceof Promise?T.push(re.then(fe=>Au(fe,C,k,E,X))):Au(re,C,k,E,X)}return p?Zx(T,E,C,S,d.value,n):T.length?Promise.all(T).then(()=>C):C}}),m8=ue("$ZodObjectJIT",(n,o)=>{g8.init(n,o);const l=n._zod.parse,d=T1(()=>Hx(o)),m=k=>{const L=new zy(["shape","payload","ctx"]),X=d.value,re=Q=>{const Y=Pg(Q);return`shape[${Y}]._zod.run({ value: input[${Y}], issues: [] }, ctx)`};L.write("const input = payload.value;");const fe=Object.create(null);let be=0;for(const Q of X.keys)fe[Q]=`key_${be++}`;L.write("const newResult = {};");for(const Q of X.keys){const Y=fe[Q],ve=Pg(Q),Z=k[Q]?._zod?.optout==="optional";L.write(`const ${Y} = ${re(Q)};`),Z?L.write(`
        if (${Y}.issues.length) {
          if (${ve} in input) {
            payload.issues = payload.issues.concat(${Y}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${ve}, ...iss.path] : [${ve}]
            })));
          }
        }
        
        if (${Y}.value === undefined) {
          if (${ve} in input) {
            newResult[${ve}] = undefined;
          }
        } else {
          newResult[${ve}] = ${Y}.value;
        }
        
      `):L.write(`
        if (${Y}.issues.length) {
          payload.issues = payload.issues.concat(${Y}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ve}, ...iss.path] : [${ve}]
          })));
        }
        
        if (${Y}.value === undefined) {
          if (${ve} in input) {
            newResult[${ve}] = undefined;
          }
        } else {
          newResult[${ve}] = ${Y}.value;
        }
        
      `)}L.write("payload.value = newResult;"),L.write("return payload;");const we=L.compile();return(Q,Y)=>we(k,Q,Y)};let p;const A=yu,C=!Sx.jitless,E=C&&IE.value,T=o.catchall;let D;n._zod.parse=(k,L)=>{D??(D=d.value);const X=k.value;return A(X)?C&&E&&L?.async===!1&&L.jitless!==!0?(p||(p=m(o.shape)),k=p(k,L),T?Zx([],X,k,L,D,n):k):l(k,L):(k.issues.push({expected:"object",code:"invalid_type",input:X,inst:n}),k)}});function Gg(n,o,l,d){for(const p of n)if(p.issues.length===0)return o.value=p.value,o;const m=n.filter(p=>!xs(p));return m.length===1?(o.value=m[0].value,m[0]):(o.issues.push({code:"invalid_union",input:o.value,inst:l,errors:n.map(p=>p.issues.map(A=>vl(A,d,Sl())))}),o)}const x8=ue("$ZodUnion",(n,o)=>{_n.init(n,o),zt(n._zod,"optin",()=>o.options.some(m=>m._zod.optin==="optional")?"optional":void 0),zt(n._zod,"optout",()=>o.options.some(m=>m._zod.optout==="optional")?"optional":void 0),zt(n._zod,"values",()=>{if(o.options.every(m=>m._zod.values))return new Set(o.options.flatMap(m=>Array.from(m._zod.values)))}),zt(n._zod,"pattern",()=>{if(o.options.every(m=>m._zod.pattern)){const m=o.options.map(p=>p._zod.pattern);return new RegExp(`^(${m.map(p=>N1(p.source)).join("|")})$`)}});const l=o.options.length===1,d=o.options[0]._zod.run;n._zod.parse=(m,p)=>{if(l)return d(m,p);let A=!1;const C=[];for(const S of o.options){const E=S._zod.run({value:m.value,issues:[]},p);if(E instanceof Promise)C.push(E),A=!0;else{if(E.issues.length===0)return E;C.push(E)}}return A?Promise.all(C).then(S=>Gg(S,m,n,p)):Gg(C,m,n,p)}}),p8=ue("$ZodIntersection",(n,o)=>{_n.init(n,o),n._zod.parse=(l,d)=>{const m=l.value,p=o.left._zod.run({value:m,issues:[]},d),A=o.right._zod.run({value:m,issues:[]},d);return p instanceof Promise||A instanceof Promise?Promise.all([p,A]).then(([S,E])=>Vg(l,S,E)):Vg(l,p,A)}});function x1(n,o){if(n===o)return{valid:!0,data:n};if(n instanceof Date&&o instanceof Date&&+n==+o)return{valid:!0,data:n};if(Lo(n)&&Lo(o)){const l=Object.keys(o),d=Object.keys(n).filter(p=>l.indexOf(p)!==-1),m={...n,...o};for(const p of d){const A=x1(n[p],o[p]);if(!A.valid)return{valid:!1,mergeErrorPath:[p,...A.mergeErrorPath]};m[p]=A.data}return{valid:!0,data:m}}if(Array.isArray(n)&&Array.isArray(o)){if(n.length!==o.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let d=0;d<n.length;d++){const m=n[d],p=o[d],A=x1(m,p);if(!A.valid)return{valid:!1,mergeErrorPath:[d,...A.mergeErrorPath]};l.push(A.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function Vg(n,o,l){const d=new Map;let m;for(const C of o.issues)if(C.code==="unrecognized_keys"){m??(m=C);for(const S of C.keys)d.has(S)||d.set(S,{}),d.get(S).l=!0}else n.issues.push(C);for(const C of l.issues)if(C.code==="unrecognized_keys")for(const S of C.keys)d.has(S)||d.set(S,{}),d.get(S).r=!0;else n.issues.push(C);const p=[...d].filter(([,C])=>C.l&&C.r).map(([C])=>C);if(p.length&&m&&n.issues.push({...m,keys:p}),xs(n))return n;const A=x1(o.value,l.value);if(!A.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(A.mergeErrorPath)}`);return n.value=A.data,n}const w8=ue("$ZodEnum",(n,o)=>{_n.init(n,o);const l=vx(o.entries),d=new Set(l);n._zod.values=d,n._zod.pattern=new RegExp(`^(${l.filter(m=>DE.has(typeof m)).map(m=>typeof m=="string"?As(m):m.toString()).join("|")})$`),n._zod.parse=(m,p)=>{const A=m.value;return d.has(A)||m.issues.push({code:"invalid_value",values:l,input:A,inst:n}),m}}),_8=ue("$ZodLiteral",(n,o)=>{if(_n.init(n,o),o.values.length===0)throw new Error("Cannot create literal schema with no valid values");const l=new Set(o.values);n._zod.values=l,n._zod.pattern=new RegExp(`^(${o.values.map(d=>typeof d=="string"?As(d):d?As(d.toString()):String(d)).join("|")})$`),n._zod.parse=(d,m)=>{const p=d.value;return l.has(p)||d.issues.push({code:"invalid_value",values:o.values,input:p,inst:n}),d}}),E8=ue("$ZodTransform",(n,o)=>{_n.init(n,o),n._zod.parse=(l,d)=>{if(d.direction==="backward")throw new Cx(n.constructor.name);const m=o.transform(l.value,l);if(d.async)return(m instanceof Promise?m:Promise.resolve(m)).then(A=>(l.value=A,l));if(m instanceof Promise)throw new _s;return l.value=m,l}});function Xg(n,o){return n.issues.length&&o===void 0?{issues:[],value:void 0}:n}const Gx=ue("$ZodOptional",(n,o)=>{_n.init(n,o),n._zod.optin="optional",n._zod.optout="optional",zt(n._zod,"values",()=>o.innerType._zod.values?new Set([...o.innerType._zod.values,void 0]):void 0),zt(n._zod,"pattern",()=>{const l=o.innerType._zod.pattern;return l?new RegExp(`^(${N1(l.source)})?$`):void 0}),n._zod.parse=(l,d)=>{if(o.innerType._zod.optin==="optional"){const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(p=>Xg(p,l.value)):Xg(m,l.value)}return l.value===void 0?l:o.innerType._zod.run(l,d)}}),y8=ue("$ZodExactOptional",(n,o)=>{Gx.init(n,o),zt(n._zod,"values",()=>o.innerType._zod.values),zt(n._zod,"pattern",()=>o.innerType._zod.pattern),n._zod.parse=(l,d)=>o.innerType._zod.run(l,d)}),A8=ue("$ZodNullable",(n,o)=>{_n.init(n,o),zt(n._zod,"optin",()=>o.innerType._zod.optin),zt(n._zod,"optout",()=>o.innerType._zod.optout),zt(n._zod,"pattern",()=>{const l=o.innerType._zod.pattern;return l?new RegExp(`^(${N1(l.source)}|null)$`):void 0}),zt(n._zod,"values",()=>o.innerType._zod.values?new Set([...o.innerType._zod.values,null]):void 0),n._zod.parse=(l,d)=>l.value===null?l:o.innerType._zod.run(l,d)}),b8=ue("$ZodDefault",(n,o)=>{_n.init(n,o),n._zod.optin="optional",zt(n._zod,"values",()=>o.innerType._zod.values),n._zod.parse=(l,d)=>{if(d.direction==="backward")return o.innerType._zod.run(l,d);if(l.value===void 0)return l.value=o.defaultValue,l;const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(p=>jg(p,o)):jg(m,o)}});function jg(n,o){return n.value===void 0&&(n.value=o.defaultValue),n}const C8=ue("$ZodPrefault",(n,o)=>{_n.init(n,o),n._zod.optin="optional",zt(n._zod,"values",()=>o.innerType._zod.values),n._zod.parse=(l,d)=>(d.direction==="backward"||l.value===void 0&&(l.value=o.defaultValue),o.innerType._zod.run(l,d))}),S8=ue("$ZodNonOptional",(n,o)=>{_n.init(n,o),zt(n._zod,"values",()=>{const l=o.innerType._zod.values;return l?new Set([...l].filter(d=>d!==void 0)):void 0}),n._zod.parse=(l,d)=>{const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(p=>Yg(p,n)):Yg(m,n)}});function Yg(n,o){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:o}),n}const v8=ue("$ZodCatch",(n,o)=>{_n.init(n,o),zt(n._zod,"optin",()=>o.innerType._zod.optin),zt(n._zod,"optout",()=>o.innerType._zod.optout),zt(n._zod,"values",()=>o.innerType._zod.values),n._zod.parse=(l,d)=>{if(d.direction==="backward")return o.innerType._zod.run(l,d);const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(p=>(l.value=p.value,p.issues.length&&(l.value=o.catchValue({...l,error:{issues:p.issues.map(A=>vl(A,d,Sl()))},input:l.value}),l.issues=[]),l)):(l.value=m.value,m.issues.length&&(l.value=o.catchValue({...l,error:{issues:m.issues.map(p=>vl(p,d,Sl()))},input:l.value}),l.issues=[]),l)}}),T8=ue("$ZodPipe",(n,o)=>{_n.init(n,o),zt(n._zod,"values",()=>o.in._zod.values),zt(n._zod,"optin",()=>o.in._zod.optin),zt(n._zod,"optout",()=>o.out._zod.optout),zt(n._zod,"propValues",()=>o.in._zod.propValues),n._zod.parse=(l,d)=>{if(d.direction==="backward"){const p=o.out._zod.run(l,d);return p instanceof Promise?p.then(A=>fu(A,o.in,d)):fu(p,o.in,d)}const m=o.in._zod.run(l,d);return m instanceof Promise?m.then(p=>fu(p,o.out,d)):fu(m,o.out,d)}});function fu(n,o,l){return n.issues.length?(n.aborted=!0,n):o._zod.run({value:n.value,issues:n.issues},l)}const O8=ue("$ZodReadonly",(n,o)=>{_n.init(n,o),zt(n._zod,"propValues",()=>o.innerType._zod.propValues),zt(n._zod,"values",()=>o.innerType._zod.values),zt(n._zod,"optin",()=>o.innerType?._zod?.optin),zt(n._zod,"optout",()=>o.innerType?._zod?.optout),n._zod.parse=(l,d)=>{if(d.direction==="backward")return o.innerType._zod.run(l,d);const m=o.innerType._zod.run(l,d);return m instanceof Promise?m.then(qg):qg(m)}});function qg(n){return n.value=Object.freeze(n.value),n}const N8=ue("$ZodCustom",(n,o)=>{xi.init(n,o),_n.init(n,o),n._zod.parse=(l,d)=>l,n._zod.check=l=>{const d=l.value,m=o.fn(d);if(m instanceof Promise)return m.then(p=>Kg(p,l,d,n));Kg(m,l,d,n)}});function Kg(n,o,l,d){if(!n){const m={code:"custom",input:l,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(m.params=d._zod.def.params),o.issues.push(zo(m))}}var Qg;class R8{constructor(){this._map=new WeakMap,this._idmap=new Map}add(o,...l){const d=l[0];return this._map.set(o,d),d&&typeof d=="object"&&"id"in d&&this._idmap.set(d.id,o),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(o){const l=this._map.get(o);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(o),this}get(o){const l=o._zod.parent;if(l){const d={...this.get(l)??{}};delete d.id;const m={...d,...this._map.get(o)};return Object.keys(m).length?m:void 0}return this._map.get(o)}has(o){return this._map.has(o)}}function I8(){return new R8}(Qg=globalThis).__zod_globalRegistry??(Qg.__zod_globalRegistry=I8());const bo=globalThis.__zod_globalRegistry;function D8(n,o){return new n({type:"string",...Fe(o)})}function M8(n,o){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Fe(o)})}function Wg(n,o){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(o)})}function B8(n,o){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(o)})}function k8(n,o){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(o)})}function L8(n,o){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(o)})}function z8(n,o){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(o)})}function U8(n,o){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Fe(o)})}function F8(n,o){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(o)})}function P8(n,o){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(o)})}function H8(n,o){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(o)})}function Z8(n,o){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(o)})}function G8(n,o){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(o)})}function V8(n,o){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(o)})}function X8(n,o){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(o)})}function j8(n,o){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(o)})}function Y8(n,o){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(o)})}function q8(n,o){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(o)})}function K8(n,o){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(o)})}function Q8(n,o){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(o)})}function W8(n,o){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(o)})}function J8(n,o){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(o)})}function $8(n,o){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(o)})}function eA(n,o){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(o)})}function tA(n,o){return new n({type:"string",format:"date",check:"string_format",...Fe(o)})}function nA(n,o){return new n({type:"string",format:"time",check:"string_format",precision:null,...Fe(o)})}function iA(n,o){return new n({type:"string",format:"duration",check:"string_format",...Fe(o)})}function aA(n,o){return new n({type:"number",checks:[],...Fe(o)})}function rA(n,o){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(o)})}function lA(n){return new n({type:"unknown"})}function sA(n,o){return new n({type:"never",...Fe(o)})}function Jg(n,o){return new zx({check:"less_than",...Fe(o),value:n,inclusive:!1})}function $0(n,o){return new zx({check:"less_than",...Fe(o),value:n,inclusive:!0})}function $g(n,o){return new Ux({check:"greater_than",...Fe(o),value:n,inclusive:!1})}function e1(n,o){return new Ux({check:"greater_than",...Fe(o),value:n,inclusive:!0})}function em(n,o){return new Sy({check:"multiple_of",...Fe(o),value:n})}function Vx(n,o){return new Ty({check:"max_length",...Fe(o),maximum:n})}function bu(n,o){return new Oy({check:"min_length",...Fe(o),minimum:n})}function Xx(n,o){return new Ny({check:"length_equals",...Fe(o),length:n})}function oA(n,o){return new Ry({check:"string_format",format:"regex",...Fe(o),pattern:n})}function cA(n){return new Iy({check:"string_format",format:"lowercase",...Fe(n)})}function uA(n){return new Dy({check:"string_format",format:"uppercase",...Fe(n)})}function fA(n,o){return new My({check:"string_format",format:"includes",...Fe(o),includes:n})}function hA(n,o){return new By({check:"string_format",format:"starts_with",...Fe(o),prefix:n})}function dA(n,o){return new ky({check:"string_format",format:"ends_with",...Fe(o),suffix:n})}function vs(n){return new Ly({check:"overwrite",tx:n})}function gA(n){return vs(o=>o.normalize(n))}function mA(){return vs(n=>n.trim())}function xA(){return vs(n=>n.toLowerCase())}function pA(){return vs(n=>n.toUpperCase())}function wA(){return vs(n=>RE(n))}function _A(n,o,l){return new n({type:"array",element:o,...Fe(l)})}function EA(n,o,l){return new n({type:"custom",check:"custom",fn:o,...Fe(l)})}function yA(n){const o=AA(l=>(l.addIssue=d=>{if(typeof d=="string")l.issues.push(zo(d,l.value,o._zod.def));else{const m=d;m.fatal&&(m.continue=!1),m.code??(m.code="custom"),m.input??(m.input=l.value),m.inst??(m.inst=o),m.continue??(m.continue=!o._zod.def.abort),l.issues.push(zo(m))}},n(l.value,l)));return o}function AA(n,o){const l=new xi({check:"custom",...Fe(o)});return l._zod.check=n,l}function jx(n){let o=n?.target??"draft-2020-12";return o==="draft-4"&&(o="draft-04"),o==="draft-7"&&(o="draft-07"),{processors:n.processors??{},metadataRegistry:n?.metadata??bo,target:o,unrepresentable:n?.unrepresentable??"throw",override:n?.override??(()=>{}),io:n?.io??"output",counter:0,seen:new Map,cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0}}function jn(n,o,l={path:[],schemaPath:[]}){var d;const m=n._zod.def,p=o.seen.get(n);if(p)return p.count++,l.schemaPath.includes(n)&&(p.cycle=l.path),p.schema;const A={schema:{},count:1,cycle:void 0,path:l.path};o.seen.set(n,A);const C=n._zod.toJSONSchema?.();if(C)A.schema=C;else{const T={...l,schemaPath:[...l.schemaPath,n],path:l.path};if(n._zod.processJSONSchema)n._zod.processJSONSchema(o,A.schema,T);else{const k=A.schema,L=o.processors[m.type];if(!L)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${m.type}`);L(n,o,k,T)}const D=n._zod.parent;D&&(A.ref||(A.ref=D),jn(D,o,T),o.seen.get(D).isParent=!0)}const S=o.metadataRegistry.get(n);return S&&Object.assign(A.schema,S),o.io==="input"&&ii(n)&&(delete A.schema.examples,delete A.schema.default),o.io==="input"&&A.schema._prefault&&((d=A.schema).default??(d.default=A.schema._prefault)),delete A.schema._prefault,o.seen.get(n).schema}function Yx(n,o){const l=n.seen.get(o);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=new Map;for(const A of n.seen.entries()){const C=n.metadataRegistry.get(A[0])?.id;if(C){const S=d.get(C);if(S&&S!==A[0])throw new Error(`Duplicate schema id "${C}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);d.set(C,A[0])}}const m=A=>{const C=n.target==="draft-2020-12"?"$defs":"definitions";if(n.external){const D=n.external.registry.get(A[0])?.id,k=n.external.uri??(X=>X);if(D)return{ref:k(D)};const L=A[1].defId??A[1].schema.id??`schema${n.counter++}`;return A[1].defId=L,{defId:L,ref:`${k("__shared")}#/${C}/${L}`}}if(A[1]===l)return{ref:"#"};const E=`#/${C}/`,T=A[1].schema.id??`__schema${n.counter++}`;return{defId:T,ref:E+T}},p=A=>{if(A[1].schema.$ref)return;const C=A[1],{ref:S,defId:E}=m(A);C.def={...C.schema},E&&(C.defId=E);const T=C.schema;for(const D in T)delete T[D];T.$ref=S};if(n.cycles==="throw")for(const A of n.seen.entries()){const C=A[1];if(C.cycle)throw new Error(`Cycle detected: #/${C.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const A of n.seen.entries()){const C=A[1];if(o===A[0]){p(A);continue}if(n.external){const E=n.external.registry.get(A[0])?.id;if(o!==A[0]&&E){p(A);continue}}if(n.metadataRegistry.get(A[0])?.id){p(A);continue}if(C.cycle){p(A);continue}if(C.count>1&&n.reused==="ref"){p(A);continue}}}function qx(n,o){const l=n.seen.get(o);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const d=A=>{const C=n.seen.get(A);if(C.ref===null)return;const S=C.def??C.schema,E={...S},T=C.ref;if(C.ref=null,T){d(T);const k=n.seen.get(T),L=k.schema;if(L.$ref&&(n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0")?(S.allOf=S.allOf??[],S.allOf.push(L)):Object.assign(S,L),Object.assign(S,E),A._zod.parent===T)for(const re in S)re==="$ref"||re==="allOf"||re in E||delete S[re];if(L.$ref&&k.def)for(const re in S)re==="$ref"||re==="allOf"||re in k.def&&JSON.stringify(S[re])===JSON.stringify(k.def[re])&&delete S[re]}const D=A._zod.parent;if(D&&D!==T){d(D);const k=n.seen.get(D);if(k?.schema.$ref&&(S.$ref=k.schema.$ref,k.def))for(const L in S)L==="$ref"||L==="allOf"||L in k.def&&JSON.stringify(S[L])===JSON.stringify(k.def[L])&&delete S[L]}n.override({zodSchema:A,jsonSchema:S,path:C.path??[]})};for(const A of[...n.seen.entries()].reverse())d(A[0]);const m={};if(n.target==="draft-2020-12"?m.$schema="https://json-schema.org/draft/2020-12/schema":n.target==="draft-07"?m.$schema="http://json-schema.org/draft-07/schema#":n.target==="draft-04"?m.$schema="http://json-schema.org/draft-04/schema#":n.target,n.external?.uri){const A=n.external.registry.get(o)?.id;if(!A)throw new Error("Schema is missing an `id` property");m.$id=n.external.uri(A)}Object.assign(m,l.def??l.schema);const p=n.external?.defs??{};for(const A of n.seen.entries()){const C=A[1];C.def&&C.defId&&(p[C.defId]=C.def)}n.external||Object.keys(p).length>0&&(n.target==="draft-2020-12"?m.$defs=p:m.definitions=p);try{const A=JSON.parse(JSON.stringify(m));return Object.defineProperty(A,"~standard",{value:{...o["~standard"],jsonSchema:{input:Cu(o,"input",n.processors),output:Cu(o,"output",n.processors)}},enumerable:!1,writable:!1}),A}catch{throw new Error("Error converting schema to JSON.")}}function ii(n,o){const l=o??{seen:new Set};if(l.seen.has(n))return!1;l.seen.add(n);const d=n._zod.def;if(d.type==="transform")return!0;if(d.type==="array")return ii(d.element,l);if(d.type==="set")return ii(d.valueType,l);if(d.type==="lazy")return ii(d.getter(),l);if(d.type==="promise"||d.type==="optional"||d.type==="nonoptional"||d.type==="nullable"||d.type==="readonly"||d.type==="default"||d.type==="prefault")return ii(d.innerType,l);if(d.type==="intersection")return ii(d.left,l)||ii(d.right,l);if(d.type==="record"||d.type==="map")return ii(d.keyType,l)||ii(d.valueType,l);if(d.type==="pipe")return ii(d.in,l)||ii(d.out,l);if(d.type==="object"){for(const m in d.shape)if(ii(d.shape[m],l))return!0;return!1}if(d.type==="union"){for(const m of d.options)if(ii(m,l))return!0;return!1}if(d.type==="tuple"){for(const m of d.items)if(ii(m,l))return!0;return!!(d.rest&&ii(d.rest,l))}return!1}const bA=(n,o={})=>l=>{const d=jx({...l,processors:o});return jn(n,d),Yx(d,n),qx(d,n)},Cu=(n,o,l={})=>d=>{const{libraryOptions:m,target:p}=d??{},A=jx({...m??{},target:p,io:o,processors:l});return jn(n,A),Yx(A,n),qx(A,n)},CA={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},SA=(n,o,l,d)=>{const m=l;m.type="string";const{minimum:p,maximum:A,format:C,patterns:S,contentEncoding:E}=n._zod.bag;if(typeof p=="number"&&(m.minLength=p),typeof A=="number"&&(m.maxLength=A),C&&(m.format=CA[C]??C,m.format===""&&delete m.format,C==="time"&&delete m.format),E&&(m.contentEncoding=E),S&&S.size>0){const T=[...S];T.length===1?m.pattern=T[0].source:T.length>1&&(m.allOf=[...T.map(D=>({...o.target==="draft-07"||o.target==="draft-04"||o.target==="openapi-3.0"?{type:"string"}:{},pattern:D.source}))])}},vA=(n,o,l,d)=>{const m=l,{minimum:p,maximum:A,format:C,multipleOf:S,exclusiveMaximum:E,exclusiveMinimum:T}=n._zod.bag;typeof C=="string"&&C.includes("int")?m.type="integer":m.type="number",typeof T=="number"&&(o.target==="draft-04"||o.target==="openapi-3.0"?(m.minimum=T,m.exclusiveMinimum=!0):m.exclusiveMinimum=T),typeof p=="number"&&(m.minimum=p,typeof T=="number"&&o.target!=="draft-04"&&(T>=p?delete m.minimum:delete m.exclusiveMinimum)),typeof E=="number"&&(o.target==="draft-04"||o.target==="openapi-3.0"?(m.maximum=E,m.exclusiveMaximum=!0):m.exclusiveMaximum=E),typeof A=="number"&&(m.maximum=A,typeof E=="number"&&o.target!=="draft-04"&&(E<=A?delete m.maximum:delete m.exclusiveMaximum)),typeof S=="number"&&(m.multipleOf=S)},TA=(n,o,l,d)=>{l.not={}},OA=(n,o,l,d)=>{},NA=(n,o,l,d)=>{const m=n._zod.def,p=vx(m.entries);p.every(A=>typeof A=="number")&&(l.type="number"),p.every(A=>typeof A=="string")&&(l.type="string"),l.enum=p},RA=(n,o,l,d)=>{const m=n._zod.def,p=[];for(const A of m.values)if(A===void 0){if(o.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof A=="bigint"){if(o.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");p.push(Number(A))}else p.push(A);if(p.length!==0)if(p.length===1){const A=p[0];l.type=A===null?"null":typeof A,o.target==="draft-04"||o.target==="openapi-3.0"?l.enum=[A]:l.const=A}else p.every(A=>typeof A=="number")&&(l.type="number"),p.every(A=>typeof A=="string")&&(l.type="string"),p.every(A=>typeof A=="boolean")&&(l.type="boolean"),p.every(A=>A===null)&&(l.type="null"),l.enum=p},IA=(n,o,l,d)=>{if(o.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},DA=(n,o,l,d)=>{if(o.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},MA=(n,o,l,d)=>{const m=l,p=n._zod.def,{minimum:A,maximum:C}=n._zod.bag;typeof A=="number"&&(m.minItems=A),typeof C=="number"&&(m.maxItems=C),m.type="array",m.items=jn(p.element,o,{...d,path:[...d.path,"items"]})},BA=(n,o,l,d)=>{const m=l,p=n._zod.def;m.type="object",m.properties={};const A=p.shape;for(const E in A)m.properties[E]=jn(A[E],o,{...d,path:[...d.path,"properties",E]});const C=new Set(Object.keys(A)),S=new Set([...C].filter(E=>{const T=p.shape[E]._zod;return o.io==="input"?T.optin===void 0:T.optout===void 0}));S.size>0&&(m.required=Array.from(S)),p.catchall?._zod.def.type==="never"?m.additionalProperties=!1:p.catchall?p.catchall&&(m.additionalProperties=jn(p.catchall,o,{...d,path:[...d.path,"additionalProperties"]})):o.io==="output"&&(m.additionalProperties=!1)},kA=(n,o,l,d)=>{const m=n._zod.def,p=m.inclusive===!1,A=m.options.map((C,S)=>jn(C,o,{...d,path:[...d.path,p?"oneOf":"anyOf",S]}));p?l.oneOf=A:l.anyOf=A},LA=(n,o,l,d)=>{const m=n._zod.def,p=jn(m.left,o,{...d,path:[...d.path,"allOf",0]}),A=jn(m.right,o,{...d,path:[...d.path,"allOf",1]}),C=E=>"allOf"in E&&Object.keys(E).length===1,S=[...C(p)?p.allOf:[p],...C(A)?A.allOf:[A]];l.allOf=S},zA=(n,o,l,d)=>{const m=n._zod.def,p=jn(m.innerType,o,d),A=o.seen.get(n);o.target==="openapi-3.0"?(A.ref=m.innerType,l.nullable=!0):l.anyOf=[p,{type:"null"}]},UA=(n,o,l,d)=>{const m=n._zod.def;jn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType},FA=(n,o,l,d)=>{const m=n._zod.def;jn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType,l.default=JSON.parse(JSON.stringify(m.defaultValue))},PA=(n,o,l,d)=>{const m=n._zod.def;jn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType,o.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(m.defaultValue)))},HA=(n,o,l,d)=>{const m=n._zod.def;jn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType;let A;try{A=m.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=A},ZA=(n,o,l,d)=>{const m=n._zod.def,p=o.io==="input"?m.in._zod.def.type==="transform"?m.out:m.in:m.out;jn(p,o,d);const A=o.seen.get(n);A.ref=p},GA=(n,o,l,d)=>{const m=n._zod.def;jn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType,l.readOnly=!0},Kx=(n,o,l,d)=>{const m=n._zod.def;jn(m.innerType,o,d);const p=o.seen.get(n);p.ref=m.innerType},VA=ue("ZodISODateTime",(n,o)=>{Qy.init(n,o),an.init(n,o)});function XA(n){return eA(VA,n)}const jA=ue("ZodISODate",(n,o)=>{Wy.init(n,o),an.init(n,o)});function YA(n){return tA(jA,n)}const qA=ue("ZodISOTime",(n,o)=>{Jy.init(n,o),an.init(n,o)});function KA(n){return nA(qA,n)}const QA=ue("ZodISODuration",(n,o)=>{$y.init(n,o),an.init(n,o)});function WA(n){return iA(QA,n)}const JA=(n,o)=>{Ix.init(n,o),n.name="ZodError",Object.defineProperties(n,{format:{value:l=>GE(n,l)},flatten:{value:l=>ZE(n,l)},addIssue:{value:l=>{n.issues.push(l),n.message=JSON.stringify(n.issues,m1,2)}},addIssues:{value:l=>{n.issues.push(...l),n.message=JSON.stringify(n.issues,m1,2)}},isEmpty:{get(){return n.issues.length===0}}})},Wi=ue("ZodError",JA,{Parent:Error}),$A=I1(Wi),eb=D1(Wi),tb=Bu(Wi),nb=ku(Wi),ib=jE(Wi),ab=YE(Wi),rb=qE(Wi),lb=KE(Wi),sb=QE(Wi),ob=WE(Wi),cb=JE(Wi),ub=$E(Wi),En=ue("ZodType",(n,o)=>(_n.init(n,o),Object.assign(n["~standard"],{jsonSchema:{input:Cu(n,"input"),output:Cu(n,"output")}}),n.toJSONSchema=bA(n,{}),n.def=o,n.type=o.type,Object.defineProperty(n,"_def",{value:o}),n.check=(...l)=>n.clone(Zr(o,{checks:[...o.checks??[],...l.map(d=>typeof d=="function"?{_zod:{check:d,def:{check:"custom"},onattach:[]}}:d)]}),{parent:!0}),n.with=n.check,n.clone=(l,d)=>Gr(n,l,d),n.brand=()=>n,n.register=((l,d)=>(l.add(n,d),n)),n.parse=(l,d)=>$A(n,l,d,{callee:n.parse}),n.safeParse=(l,d)=>tb(n,l,d),n.parseAsync=async(l,d)=>eb(n,l,d,{callee:n.parseAsync}),n.safeParseAsync=async(l,d)=>nb(n,l,d),n.spa=n.safeParseAsync,n.encode=(l,d)=>ib(n,l,d),n.decode=(l,d)=>ab(n,l,d),n.encodeAsync=async(l,d)=>rb(n,l,d),n.decodeAsync=async(l,d)=>lb(n,l,d),n.safeEncode=(l,d)=>sb(n,l,d),n.safeDecode=(l,d)=>ob(n,l,d),n.safeEncodeAsync=async(l,d)=>cb(n,l,d),n.safeDecodeAsync=async(l,d)=>ub(n,l,d),n.refine=(l,d)=>n.check(n4(l,d)),n.superRefine=l=>n.check(i4(l)),n.overwrite=l=>n.check(vs(l)),n.optional=()=>am(n),n.exactOptional=()=>Gb(n),n.nullable=()=>rm(n),n.nullish=()=>am(rm(n)),n.nonoptional=l=>Kb(n,l),n.array=()=>B1(n),n.or=l=>w1([n,l]),n.and=l=>zb(n,l),n.transform=l=>lm(n,Hb(l)),n.default=l=>jb(n,l),n.prefault=l=>qb(n,l),n.catch=l=>Wb(n,l),n.pipe=l=>lm(n,l),n.readonly=()=>e4(n),n.describe=l=>{const d=n.clone();return bo.add(d,{description:l}),d},Object.defineProperty(n,"description",{get(){return bo.get(n)?.description},configurable:!0}),n.meta=(...l)=>{if(l.length===0)return bo.get(n);const d=n.clone();return bo.add(d,l[0]),d},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n.apply=l=>l(n),n)),Qx=ue("_ZodString",(n,o)=>{M1.init(n,o),En.init(n,o),n._zod.processJSONSchema=(d,m,p)=>SA(n,d,m);const l=n._zod.bag;n.format=l.format??null,n.minLength=l.minimum??null,n.maxLength=l.maximum??null,n.regex=(...d)=>n.check(oA(...d)),n.includes=(...d)=>n.check(fA(...d)),n.startsWith=(...d)=>n.check(hA(...d)),n.endsWith=(...d)=>n.check(dA(...d)),n.min=(...d)=>n.check(bu(...d)),n.max=(...d)=>n.check(Vx(...d)),n.length=(...d)=>n.check(Xx(...d)),n.nonempty=(...d)=>n.check(bu(1,...d)),n.lowercase=d=>n.check(cA(d)),n.uppercase=d=>n.check(uA(d)),n.trim=()=>n.check(mA()),n.normalize=(...d)=>n.check(gA(...d)),n.toLowerCase=()=>n.check(xA()),n.toUpperCase=()=>n.check(pA()),n.slugify=()=>n.check(wA())}),fb=ue("ZodString",(n,o)=>{M1.init(n,o),Qx.init(n,o),n.email=l=>n.check(M8(hb,l)),n.url=l=>n.check(U8(db,l)),n.jwt=l=>n.check($8(Ob,l)),n.emoji=l=>n.check(F8(gb,l)),n.guid=l=>n.check(Wg(tm,l)),n.uuid=l=>n.check(B8(hu,l)),n.uuidv4=l=>n.check(k8(hu,l)),n.uuidv6=l=>n.check(L8(hu,l)),n.uuidv7=l=>n.check(z8(hu,l)),n.nanoid=l=>n.check(P8(mb,l)),n.guid=l=>n.check(Wg(tm,l)),n.cuid=l=>n.check(H8(xb,l)),n.cuid2=l=>n.check(Z8(pb,l)),n.ulid=l=>n.check(G8(wb,l)),n.base64=l=>n.check(Q8(Sb,l)),n.base64url=l=>n.check(W8(vb,l)),n.xid=l=>n.check(V8(_b,l)),n.ksuid=l=>n.check(X8(Eb,l)),n.ipv4=l=>n.check(j8(yb,l)),n.ipv6=l=>n.check(Y8(Ab,l)),n.cidrv4=l=>n.check(q8(bb,l)),n.cidrv6=l=>n.check(K8(Cb,l)),n.e164=l=>n.check(J8(Tb,l)),n.datetime=l=>n.check(XA(l)),n.date=l=>n.check(YA(l)),n.time=l=>n.check(KA(l)),n.duration=l=>n.check(WA(l))});function Ki(n){return D8(fb,n)}const an=ue("ZodStringFormat",(n,o)=>{tn.init(n,o),Qx.init(n,o)}),hb=ue("ZodEmail",(n,o)=>{Hy.init(n,o),an.init(n,o)}),tm=ue("ZodGUID",(n,o)=>{Fy.init(n,o),an.init(n,o)}),hu=ue("ZodUUID",(n,o)=>{Py.init(n,o),an.init(n,o)}),db=ue("ZodURL",(n,o)=>{Zy.init(n,o),an.init(n,o)}),gb=ue("ZodEmoji",(n,o)=>{Gy.init(n,o),an.init(n,o)}),mb=ue("ZodNanoID",(n,o)=>{Vy.init(n,o),an.init(n,o)}),xb=ue("ZodCUID",(n,o)=>{Xy.init(n,o),an.init(n,o)}),pb=ue("ZodCUID2",(n,o)=>{jy.init(n,o),an.init(n,o)}),wb=ue("ZodULID",(n,o)=>{Yy.init(n,o),an.init(n,o)}),_b=ue("ZodXID",(n,o)=>{qy.init(n,o),an.init(n,o)}),Eb=ue("ZodKSUID",(n,o)=>{Ky.init(n,o),an.init(n,o)}),yb=ue("ZodIPv4",(n,o)=>{e8.init(n,o),an.init(n,o)}),Ab=ue("ZodIPv6",(n,o)=>{t8.init(n,o),an.init(n,o)}),bb=ue("ZodCIDRv4",(n,o)=>{n8.init(n,o),an.init(n,o)}),Cb=ue("ZodCIDRv6",(n,o)=>{i8.init(n,o),an.init(n,o)}),Sb=ue("ZodBase64",(n,o)=>{a8.init(n,o),an.init(n,o)}),vb=ue("ZodBase64URL",(n,o)=>{l8.init(n,o),an.init(n,o)}),Tb=ue("ZodE164",(n,o)=>{s8.init(n,o),an.init(n,o)}),Ob=ue("ZodJWT",(n,o)=>{c8.init(n,o),an.init(n,o)}),Wx=ue("ZodNumber",(n,o)=>{Px.init(n,o),En.init(n,o),n._zod.processJSONSchema=(d,m,p)=>vA(n,d,m),n.gt=(d,m)=>n.check($g(d,m)),n.gte=(d,m)=>n.check(e1(d,m)),n.min=(d,m)=>n.check(e1(d,m)),n.lt=(d,m)=>n.check(Jg(d,m)),n.lte=(d,m)=>n.check($0(d,m)),n.max=(d,m)=>n.check($0(d,m)),n.int=d=>n.check(nm(d)),n.safe=d=>n.check(nm(d)),n.positive=d=>n.check($g(0,d)),n.nonnegative=d=>n.check(e1(0,d)),n.negative=d=>n.check(Jg(0,d)),n.nonpositive=d=>n.check($0(0,d)),n.multipleOf=(d,m)=>n.check(em(d,m)),n.step=(d,m)=>n.check(em(d,m)),n.finite=()=>n;const l=n._zod.bag;n.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),n.isFinite=!0,n.format=l.format??null});function p1(n){return aA(Wx,n)}const Nb=ue("ZodNumberFormat",(n,o)=>{u8.init(n,o),Wx.init(n,o)});function nm(n){return rA(Nb,n)}const Rb=ue("ZodUnknown",(n,o)=>{f8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>OA()});function im(){return lA(Rb)}const Ib=ue("ZodNever",(n,o)=>{h8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>TA(n,l,d)});function Db(n){return sA(Ib,n)}const Mb=ue("ZodArray",(n,o)=>{d8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>MA(n,l,d,m),n.element=o.element,n.min=(l,d)=>n.check(bu(l,d)),n.nonempty=l=>n.check(bu(1,l)),n.max=(l,d)=>n.check(Vx(l,d)),n.length=(l,d)=>n.check(Xx(l,d)),n.unwrap=()=>n.element});function B1(n,o){return _A(Mb,n,o)}const Bb=ue("ZodObject",(n,o)=>{m8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>BA(n,l,d,m),zt(n,"shape",()=>o.shape),n.keyof=()=>Ub(Object.keys(n._zod.def.shape)),n.catchall=l=>n.clone({...n._zod.def,catchall:l}),n.passthrough=()=>n.clone({...n._zod.def,catchall:im()}),n.loose=()=>n.clone({...n._zod.def,catchall:im()}),n.strict=()=>n.clone({...n._zod.def,catchall:Db()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=l=>zE(n,l),n.safeExtend=l=>UE(n,l),n.merge=l=>FE(n,l),n.pick=l=>kE(n,l),n.omit=l=>LE(n,l),n.partial=(...l)=>PE(Jx,n,l[0]),n.required=(...l)=>HE($x,n,l[0])});function zu(n,o){const l={type:"object",shape:n??{},...Fe(o)};return new Bb(l)}const kb=ue("ZodUnion",(n,o)=>{x8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>kA(n,l,d,m),n.options=o.options});function w1(n,o){return new kb({type:"union",options:n,...Fe(o)})}const Lb=ue("ZodIntersection",(n,o)=>{p8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>LA(n,l,d,m)});function zb(n,o){return new Lb({type:"intersection",left:n,right:o})}const _1=ue("ZodEnum",(n,o)=>{w8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(d,m,p)=>NA(n,d,m),n.enum=o.entries,n.options=Object.values(o.entries);const l=new Set(Object.keys(o.entries));n.extract=(d,m)=>{const p={};for(const A of d)if(l.has(A))p[A]=o.entries[A];else throw new Error(`Key ${A} not found in enum`);return new _1({...o,checks:[],...Fe(m),entries:p})},n.exclude=(d,m)=>{const p={...o.entries};for(const A of d)if(l.has(A))delete p[A];else throw new Error(`Key ${A} not found in enum`);return new _1({...o,checks:[],...Fe(m),entries:p})}});function Ub(n,o){const l=Array.isArray(n)?Object.fromEntries(n.map(d=>[d,d])):n;return new _1({type:"enum",entries:l,...Fe(o)})}const Fb=ue("ZodLiteral",(n,o)=>{_8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>RA(n,l,d),n.values=new Set(o.values),Object.defineProperty(n,"value",{get(){if(o.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return o.values[0]}})});function xl(n,o){return new Fb({type:"literal",values:Array.isArray(n)?n:[n],...Fe(o)})}const Pb=ue("ZodTransform",(n,o)=>{E8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>DA(n,l),n._zod.parse=(l,d)=>{if(d.direction==="backward")throw new Cx(n.constructor.name);l.addIssue=p=>{if(typeof p=="string")l.issues.push(zo(p,l.value,o));else{const A=p;A.fatal&&(A.continue=!1),A.code??(A.code="custom"),A.input??(A.input=l.value),A.inst??(A.inst=n),l.issues.push(zo(A))}};const m=o.transform(l.value,l);return m instanceof Promise?m.then(p=>(l.value=p,l)):(l.value=m,l)}});function Hb(n){return new Pb({type:"transform",transform:n})}const Jx=ue("ZodOptional",(n,o)=>{Gx.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>Kx(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function am(n){return new Jx({type:"optional",innerType:n})}const Zb=ue("ZodExactOptional",(n,o)=>{y8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>Kx(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function Gb(n){return new Zb({type:"optional",innerType:n})}const Vb=ue("ZodNullable",(n,o)=>{A8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>zA(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function rm(n){return new Vb({type:"nullable",innerType:n})}const Xb=ue("ZodDefault",(n,o)=>{b8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>FA(n,l,d,m),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function jb(n,o){return new Xb({type:"default",innerType:n,get defaultValue(){return typeof o=="function"?o():Ox(o)}})}const Yb=ue("ZodPrefault",(n,o)=>{C8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>PA(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function qb(n,o){return new Yb({type:"prefault",innerType:n,get defaultValue(){return typeof o=="function"?o():Ox(o)}})}const $x=ue("ZodNonOptional",(n,o)=>{S8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>UA(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function Kb(n,o){return new $x({type:"nonoptional",innerType:n,...Fe(o)})}const Qb=ue("ZodCatch",(n,o)=>{v8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>HA(n,l,d,m),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function Wb(n,o){return new Qb({type:"catch",innerType:n,catchValue:typeof o=="function"?o:()=>o})}const Jb=ue("ZodPipe",(n,o)=>{T8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>ZA(n,l,d,m),n.in=o.in,n.out=o.out});function lm(n,o){return new Jb({type:"pipe",in:n,out:o})}const $b=ue("ZodReadonly",(n,o)=>{O8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>GA(n,l,d,m),n.unwrap=()=>n._zod.def.innerType});function e4(n){return new $b({type:"readonly",innerType:n})}const t4=ue("ZodCustom",(n,o)=>{N8.init(n,o),En.init(n,o),n._zod.processJSONSchema=(l,d,m)=>IA(n,l)});function n4(n,o={}){return EA(t4,n,o)}function i4(n){return yA(n)}const Kn={HD_1080:"HD_1080",HD_720:"HD_720",SD_480:"SD_480",RECOVERING:"RECOVERING"},Mi={PASS_PHRASE_MISMATCH:"PASS_PHRASE_MISMATCH",EXPIRED_PACKET:"EXPIRED_PACKET",NAT_BLOCKED:"NAT_BLOCKED",DEVICE_DENIED:"DEVICE_DENIED",MEDIA_UNSUPPORTED:"MEDIA_UNSUPPORTED",CONNECTION_TIMEOUT:"CONNECTION_TIMEOUT"};function mu(n){let o="";for(let l=0;l<n.length;l+=1)o+=String.fromCharCode(n[l]);return btoa(o)}function xu(n){const o=atob(n),l=new Uint8Array(o.length);for(let d=0;d<o.length;d+=1)l[d]=o.charCodeAt(d);return l}function a4(n){return mu(n).replaceAll("+","-").replaceAll("/","_").replace(/=+$/u,"")}function r4(n){const o=n.replaceAll("-","+").replaceAll("_","/").padEnd(Math.ceil(n.length/4)*4,"=");return xu(o)}const k1=new TextEncoder,l4=new TextDecoder,s4=6e5,o4=256;function El(n){return new Uint8Array(n).buffer}function ep(n,o){return o?{name:"AES-GCM",iv:El(n),additionalData:El(k1.encode(o))}:{name:"AES-GCM",iv:El(n)}}function L1(){if(typeof globalThis.crypto>"u")throw new Error("Web Crypto is not available in this environment.");return globalThis.crypto}async function tp(n,o,l){const d=L1(),m=await d.subtle.importKey("raw",El(k1.encode(`${n}:${o}`)),"PBKDF2",!1,["deriveKey"]);return d.subtle.deriveKey({name:"PBKDF2",salt:El(l),iterations:s4,hash:"SHA-256"},m,{name:"AES-GCM",length:o4},!1,["encrypt","decrypt"])}async function c4(n,o,l,d){const m=L1(),p=m.getRandomValues(new Uint8Array(16)),A=m.getRandomValues(new Uint8Array(12)),C=await tp(o,l,p),S=k1.encode(JSON.stringify(n)),E=await m.subtle.encrypt(ep(A,d),C,El(S));return{saltB64:mu(p),ivB64:mu(A),ciphertextB64:mu(new Uint8Array(E))}}async function np(n,o,l,d){const m=L1(),p=xu(n.saltB64),A=xu(n.ivB64),C=xu(n.ciphertextB64),S=await tp(o,l,p);let E;try{E=await m.subtle.decrypt(ep(A,d),S,El(C))}catch(D){throw new Error("DECRYPTION_FAILED",{cause:D})}const T=l4.decode(E);return JSON.parse(T)}const ip="1",sm=900,ap="P2PV1",rp=600*1e3,lp=2e5,sp=256,u4=12e4,f4=35e4,z1=Ki().trim().regex(/^[a-zA-Z0-9_-]{4,48}$/u,"Room code must be 4-48 letters, numbers, - or _."),op=Ki().min(6).max(128).regex(/^[a-zA-Z0-9-]+$/u),cp=zu({candidate:Ki().min(1).max(2048),sdpMid:Ki().max(64).nullable().optional(),sdpMLineIndex:p1().int().min(0).max(10).optional(),usernameFragment:Ki().max(256).optional()}),h4=zu({version:xl(ip),type:w1([xl("offer"),xl("answer")]),roomCode:z1,createdAt:p1().int().positive(),expiresAt:p1().int().positive(),saltB64:Ki().min(10),ivB64:Ki().min(10),ciphertextB64:Ki().min(10),senderRole:w1([xl("host"),xl("joiner")])}),d4=zu({sessionId:op,sdpOffer:Ki().min(10).max(3e4),iceCandidates:B1(cp).max(96),mediaTarget:xl("1080p30"),clientInfo:Ki().min(2).max(180)}),g4=zu({sessionId:op,sdpAnswer:Ki().min(10).max(3e4),iceCandidates:B1(cp).max(96),acceptedMediaTarget:xl("1080p30"),clientInfo:Ki().min(2).max(180)});function U1(n){return[n.version,n.type,n.roomCode,String(n.createdAt),String(n.expiresAt),n.senderRole].join("|")}function up(n){if(n.expiresAt<=n.createdAt)throw new Error("Packet timestamps are invalid.");if(n.expiresAt-n.createdAt>rp)throw new Error("Packet lifetime is invalid.")}function fp(n){return n.split(`
`).map(o=>o.trim()).filter(o=>o.length>0)}function m4(n){const o=n.split("|");if(o.length!==4||o[0]!==ap)throw new Error("Invalid packet chunk format.");const l=o[1];if(!/^[a-f0-9]{16}$/u.test(l))throw new Error("Packet ID is invalid.");const d=o[2].split("/");if(d.length!==2)throw new Error("Invalid packet chunk index.");const m=Number(d[0]),p=Number(d[1]);if(Number.isNaN(m)||Number.isNaN(p)||m<1||p<1||m>p)throw new Error("Packet chunk index is out of range.");return{packetId:l,partIndex:m,partTotal:p,payload:o[3]}}function x4(n){return`${ap}|${n.packetId}|${n.partIndex}/${n.partTotal}|${n.payload}`}function p4(){const n=crypto.getRandomValues(new Uint8Array(8));return Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function w4(n){if(n.length>lp)throw new Error("Packet is too large to share safely.");const o=[];for(let l=0;l<n.length;l+=sm)o.push(n.slice(l,l+sm));if(o.length>sp)throw new Error("Packet has too many chunks.");return o}function t1(n){return n instanceof Error&&n.message==="DECRYPTION_FAILED"?{code:Mi.PASS_PHRASE_MISMATCH,message:"The passphrase did not match, so this packet could not be opened."}:n instanceof Error&&n.message==="PACKET_EXPIRED"?{code:Mi.EXPIRED_PACKET,message:"This packet expired. Please make a new one and try again."}:{code:Mi.MEDIA_UNSUPPORTED,message:n instanceof Error?n.message:"Unknown packet error."}}async function om({payload:n,passphrase:o,roomCode:l,type:d,senderRole:m}){const p=z1.parse(l),A=Date.now(),C={version:ip,type:d,roomCode:p,createdAt:A,expiresAt:A+rp,senderRole:m},S=await c4(n,o,p,U1(C));return{...C,saltB64:S.saltB64,ivB64:S.ivB64,ciphertextB64:S.ciphertextB64}}function cm(n){const o=JSON.stringify(n),l=TE(new TextEncoder().encode(o)),d=a4(l),m=w4(d),p=p4();return m.map((C,S)=>{const E=S+1,T=m.length;return x4({packetId:p,partIndex:E,partTotal:T,payload:C})}).join(`
`)}function _4(n){return fp(n)}function um(n){if(n.length>lp)throw new Error("Packet text is too large.");const o=fp(n);if(o.length===0)throw new Error("No packet data was found.");if(o.length>sp)throw new Error("Packet has too many chunks.");const l=o.map(m4),d=l[0].packetId,m=l[0].partTotal;if(l.some(L=>L.packetId!==d||L.partTotal!==m))throw new Error("Packet chunks do not belong together.");const p=new Map;for(const L of l)p.set(L.partIndex,L);if(p.size!==m)throw new Error("Packet is missing one or more chunks.");const C=Array.from(p.values()).sort((L,X)=>L.partIndex-X.partIndex).map(L=>L.payload).join(""),S=r4(C);if(S.length>u4)throw new Error("Packet payload is too large.");const E=OE(S);if(E.length>f4)throw new Error("Packet decompressed payload is too large.");const T=new TextDecoder().decode(E),D=JSON.parse(T),k=h4.parse(D);return up(k),k}function hp(n,o){const l=z1.parse(o);if(n.roomCode!==l)throw new Error("This packet does not belong to this room code.");if(up(n),Date.now()>n.expiresAt)throw new Error("PACKET_EXPIRED");return l}async function E4({envelope:n,roomCode:o,passphrase:l}){const d=hp(n,o);if(n.type!=="offer")throw new Error("Expected an offer packet.");if(n.senderRole!=="host")throw new Error("Offer packet role is invalid.");const m=await np(n,l,d,U1(n));return d4.parse(m)}async function y4({envelope:n,roomCode:o,passphrase:l}){const d=hp(n,o);if(n.type!=="answer")throw new Error("Expected an answer packet.");if(n.senderRole!=="joiner")throw new Error("Answer packet role is invalid.");const m=await np(n,l,d,U1(n));return g4.parse(m)}function fm({title:n,packetText:o}){const l=xt.useMemo(()=>_4(o),[o]),[d,m]=xt.useState(0),p=l[d]??"",A=async()=>{await navigator.clipboard.writeText(o)},C=async()=>{p&&await navigator.clipboard.writeText(p)};return Ee.jsxs("section",{className:"panel packet-panel",children:[Ee.jsx("h3",{children:n}),Ee.jsx("p",{className:"muted",children:"Share this packet as text or QR. If there are multiple chunks, send all chunks in order."}),Ee.jsxs("div",{className:"button-row",children:[Ee.jsx("button",{type:"button",onClick:A,children:"Copy Full Packet"}),Ee.jsx("button",{type:"button",onClick:C,disabled:!p,children:"Copy This Chunk"})]}),Ee.jsx("textarea",{readOnly:!0,value:o,className:"packet-textarea"}),p?Ee.jsxs("div",{className:"qr-block",children:[Ee.jsx(Zm,{value:p,size:220,includeMargin:!0}),Ee.jsxs("div",{className:"chunk-controls",children:[Ee.jsx("button",{type:"button",onClick:()=>m(S=>Math.max(0,S-1)),disabled:d===0,children:"Previous Chunk"}),Ee.jsxs("span",{children:["Chunk ",d+1," / ",l.length]}),Ee.jsx("button",{type:"button",onClick:()=>m(S=>Math.min(l.length-1,S+1)),disabled:d>=l.length-1,children:"Next Chunk"})]})]}):null]})}var De;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(De||(De={}));var hm=new Map([[De.QR_CODE,"QR_CODE"],[De.AZTEC,"AZTEC"],[De.CODABAR,"CODABAR"],[De.CODE_39,"CODE_39"],[De.CODE_93,"CODE_93"],[De.CODE_128,"CODE_128"],[De.DATA_MATRIX,"DATA_MATRIX"],[De.MAXICODE,"MAXICODE"],[De.ITF,"ITF"],[De.EAN_13,"EAN_13"],[De.EAN_8,"EAN_8"],[De.PDF_417,"PDF_417"],[De.RSS_14,"RSS_14"],[De.RSS_EXPANDED,"RSS_EXPANDED"],[De.UPC_A,"UPC_A"],[De.UPC_E,"UPC_E"],[De.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),dm;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(dm||(dm={}));function A4(n){return Object.values(De).includes(n)}var Su;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Su||(Su={}));var b4=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[Su.SCAN_TYPE_CAMERA,Su.SCAN_TYPE_FILE],n})(),dp=(function(){function n(o,l){this.format=o,this.formatName=l}return n.prototype.toString=function(){return this.formatName},n.create=function(o){if(!hm.has(o))throw"".concat(o," not in html5QrcodeSupportedFormatsTextMap");return new n(o,hm.get(o))},n})(),gm=(function(){function n(){}return n.createFromText=function(o){var l={text:o};return{decodedText:o,result:l}},n.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},n})(),E1;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(E1||(E1={}));var C4=(function(){function n(){}return n.createFrom=function(o){return{errorMessage:o,type:E1.UNKWOWN_ERROR}},n})(),S4=(function(){function n(o){this.verbose=o}return n.prototype.log=function(o){this.verbose&&console.log(o)},n.prototype.warn=function(o){this.verbose&&console.warn(o)},n.prototype.logError=function(o,l){(this.verbose||l===!0)&&console.error(o)},n.prototype.logErrors=function(o){if(o.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},n})();function Ka(n){return typeof n>"u"||n===null}var ps=(function(){function n(){}return n.codeParseError=function(o){return"QR code parse error, error = ".concat(o)},n.errorGettingUserMedia=function(o){return"Error getting userMedia, error = ".concat(o)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),gp=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(o,l){if(typeof o!="object"){var d=typeof o;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var m=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(m),A=Object.keys(o),C=0,S=A;C<S.length;C++){var E=S[C];if(p.has(E))return l.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},n})(),Co={exports:{}},v4=Co.exports,mm;function T4(){return mm||(mm=1,(function(n,o){(function(l,d){d(o)})(v4,(function(l){function d(O){return O==null}var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,t){O.__proto__=t}||function(O,t){for(var a in t)t.hasOwnProperty(a)&&(O[a]=t[a])};function p(O,t){m(O,t);function a(){this.constructor=O}O.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function A(O,t){var a=Object.setPrototypeOf;a?a(O,t):O.__proto__=t}function C(O,t){t===void 0&&(t=O.constructor);var a=Error.captureStackTrace;a&&a(O,t)}var S=(function(O){p(t,O);function t(a){var r=this.constructor,c=O.call(this,a)||this;return Object.defineProperty(c,"name",{value:r.name,enumerable:!1}),A(c,r.prototype),C(c),c}return t})(Error);class E extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}E.kind="Exception";class T extends E{}T.kind="ArgumentException";class D extends E{}D.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new D("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,a){return this.binarizer.getBlackRow(t,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,a,r,c){const u=this.binarizer.getLuminanceSource().crop(t,a,r,c);return new k(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends E{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class X{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class re{static arraycopy(t,a,r,c,u){for(;u--;)r[c++]=t[a++]}static currentTimeMillis(){return Date.now()}}class fe extends E{}fe.kind="IndexOutOfBoundsException";class be extends fe{constructor(t=void 0,a=void 0){super(a),this.index=t,this.message=a}}be.kind="ArrayIndexOutOfBoundsException";class we{static fill(t,a){for(let r=0,c=t.length;r<c;r++)t[r]=a}static fillWithin(t,a,r,c){we.rangeCheck(t.length,a,r);for(let u=a;u<r;u++)t[u]=c}static rangeCheck(t,a,r){if(a>r)throw new D("fromIndex("+a+") > toIndex("+r+")");if(a<0)throw new be(a);if(r>t)throw new be(r)}static asList(...t){return t}static create(t,a,r){return Array.from({length:t}).map(u=>Array.from({length:a}).fill(r))}static createInt32Array(t,a,r){return Array.from({length:t}).map(u=>Int32Array.from({length:a}).fill(r))}static equals(t,a){if(!t||!a||!t.length||!a.length||t.length!==a.length)return!1;for(let r=0,c=t.length;r<c;r++)if(t[r]!==a[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let a=1;for(const r of t)a=31*a+r;return a}static fillUint8Array(t,a){for(let r=0;r!==t.length;r++)t[r]=a}static copyOf(t,a){return t.slice(0,a)}static copyOfUint8Array(t,a){if(t.length<=a){const r=new Uint8Array(a);return r.set(t),r}return t.slice(0,a)}static copyOfRange(t,a,r){const c=r-a,u=new Int32Array(c);return re.arraycopy(t,a,u,0,c),u}static binarySearch(t,a,r){r===void 0&&(r=we.numberComparator);let c=0,u=t.length-1;for(;c<=u;){const h=u+c>>1,g=r(a,t[h]);if(g>0)c=h+1;else if(g<0)u=h-1;else return h}return-c-1}static numberComparator(t,a){return t-a}}class Q{static numberOfTrailingZeros(t){let a;if(t===0)return 32;let r=31;return a=t<<16,a!==0&&(r-=16,t=a),a=t<<8,a!==0&&(r-=8,t=a),a=t<<4,a!==0&&(r-=4,t=a),a=t<<2,a!==0&&(r-=2,t=a),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let a=1;return t>>>16||(a+=16,t<<=16),t>>>24||(a+=8,t<<=8),t>>>28||(a+=4,t<<=4),t>>>30||(a+=2,t<<=2),a-=t>>>31,a}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,a){return Math.trunc(t/a)}static parseInt(t,a=void 0){return parseInt(t,a)}}Q.MIN_VALUE_32_BITS=-2147483648,Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Y{constructor(t,a){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,a==null?this.bits=Y.makeArray(t):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const a=Y.makeArray(t);re.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const a=this.size;if(t>=a)return a;const r=this.bits;let c=Math.floor(t/32),u=r[c];u&=~((1<<(t&31))-1);const h=r.length;for(;u===0;){if(++c===h)return a;u=r[c]}const g=c*32+Q.numberOfTrailingZeros(u);return g>a?a:g}getNextUnset(t){const a=this.size;if(t>=a)return a;const r=this.bits;let c=Math.floor(t/32),u=~r[c];u&=~((1<<(t&31))-1);const h=r.length;for(;u===0;){if(++c===h)return a;u=~r[c]}const g=c*32+Q.numberOfTrailingZeros(u);return g>a?a:g}setBulk(t,a){this.bits[Math.floor(t/32)]=a}setRange(t,a){if(a<t||t<0||a>this.size)throw new D;if(a===t)return;a--;const r=Math.floor(t/32),c=Math.floor(a/32),u=this.bits;for(let h=r;h<=c;h++){const g=h>r?0:t&31,y=(2<<(h<c?31:a&31))-(1<<g);u[h]|=y}}clear(){const t=this.bits.length,a=this.bits;for(let r=0;r<t;r++)a[r]=0}isRange(t,a,r){if(a<t||t<0||a>this.size)throw new D;if(a===t)return!0;a--;const c=Math.floor(t/32),u=Math.floor(a/32),h=this.bits;for(let g=c;g<=u;g++){const w=g>c?0:t&31,b=(2<<(g<u?31:a&31))-(1<<w)&4294967295;if((h[g]&b)!==(r?b:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,a){if(a<0||a>32)throw new D("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let r=a;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const a=t.size;this.ensureCapacity(this.size+a);for(let r=0;r<a;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new D("Sizes don't match");const a=this.bits;for(let r=0,c=a.length;r<c;r++)a[r]^=t.bits[r]}toBytes(t,a,r,c){for(let u=0;u<c;u++){let h=0;for(let g=0;g<8;g++)this.get(t)&&(h|=1<<7-g),t++;a[r+u]=h}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),r=a+1,c=this.bits;for(let u=0;u<r;u++){let h=c[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,t[a-u]=h}if(this.size!==r*32){const u=r*32-this.size;let h=t[0]>>>u;for(let g=1;g<r;g++){const w=t[g];h|=w<<32-u,t[g-1]=h,h=w>>>u}t[r-1]=h}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Y))return!1;const a=t;return this.size===a.size&&we.equals(this.bits,a.bits)}hashCode(){return 31*this.size+we.hashCode(this.bits)}toString(){let t="";for(let a=0,r=this.size;a<r;a++)(a&7)===0&&(t+=" "),t+=this.get(a)?"X":".";return t}clone(){return new Y(this.size,this.bits.slice())}}var ve;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ve||(ve={}));var ye=ve;class Z extends E{static getFormatInstance(){return new Z}}Z.kind="FormatException";var pe;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(pe||(pe={}));class ee{constructor(t,a,r,...c){this.valueIdentifier=t,this.name=r,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=c,ee.VALUE_IDENTIFIER_TO_ECI.set(t,this),ee.NAME_TO_ECI.set(r,this);const u=this.values;for(let h=0,g=u.length;h!==g;h++){const w=u[h];ee.VALUES_TO_ECI.set(w,this)}for(const h of c)ee.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new Z("incorect value");const a=ee.VALUES_TO_ECI.get(t);if(a===void 0)throw new Z("incorect value");return a}static getCharacterSetECIByName(t){const a=ee.NAME_TO_ECI.get(t);if(a===void 0)throw new Z("incorect value");return a}equals(t){if(!(t instanceof ee))return!1;const a=t;return this.getName()===a.getName()}}ee.VALUE_IDENTIFIER_TO_ECI=new Map,ee.VALUES_TO_ECI=new Map,ee.NAME_TO_ECI=new Map,ee.Cp437=new ee(pe.Cp437,Int32Array.from([0,2]),"Cp437"),ee.ISO8859_1=new ee(pe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ee.ISO8859_2=new ee(pe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ee.ISO8859_3=new ee(pe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ee.ISO8859_4=new ee(pe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ee.ISO8859_5=new ee(pe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ee.ISO8859_6=new ee(pe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ee.ISO8859_7=new ee(pe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ee.ISO8859_8=new ee(pe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ee.ISO8859_9=new ee(pe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ee.ISO8859_10=new ee(pe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ee.ISO8859_11=new ee(pe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ee.ISO8859_13=new ee(pe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ee.ISO8859_14=new ee(pe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ee.ISO8859_15=new ee(pe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ee.ISO8859_16=new ee(pe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ee.SJIS=new ee(pe.SJIS,20,"SJIS","Shift_JIS"),ee.Cp1250=new ee(pe.Cp1250,21,"Cp1250","windows-1250"),ee.Cp1251=new ee(pe.Cp1251,22,"Cp1251","windows-1251"),ee.Cp1252=new ee(pe.Cp1252,23,"Cp1252","windows-1252"),ee.Cp1256=new ee(pe.Cp1256,24,"Cp1256","windows-1256"),ee.UnicodeBigUnmarked=new ee(pe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ee.UTF8=new ee(pe.UTF8,26,"UTF8","UTF-8"),ee.ASCII=new ee(pe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ee.Big5=new ee(pe.Big5,28,"Big5"),ee.GB18030=new ee(pe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ee.EUC_KR=new ee(pe.EUC_KR,30,"EUC_KR","EUC-KR");class Ne extends E{}Ne.kind="UnsupportedOperationException";class Te{static decode(t,a){const r=this.encodingName(a);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!Te.isBrowser()&&t==="ISO-8859-1"}static encode(t,a){const r=this.encodingName(a);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ee?t:ee.getCharacterSetECIByName(t)}static decodeFallback(t,a){const r=this.encodingCharacterSet(a);if(Te.isDecodeFallbackSupported(r)){let c="";for(let u=0,h=t.length;u<h;u++){let g=t[u].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(r.equals(ee.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Ne(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ee.UTF8)||t.equals(ee.ISO8859_1)||t.equals(ee.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),c=[];for(let u=0;u<r.length;u++)c.push(r[u].charCodeAt(0));return new Uint8Array(c)}}class Oe{static castAsNonUtf8Char(t,a=null){const r=a?a.getName():this.ISO88591;return Te.decode(new Uint8Array([t]),r)}static guessEncoding(t,a){if(a!=null&&a.get(ye.CHARACTER_SET)!==void 0)return a.get(ye.CHARACTER_SET).toString();const r=t.length;let c=!0,u=!0,h=!0,g=0,w=0,y=0,b=0,N=0,R=0,B=0,U=0,F=0,V=0,ne=0;const xe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ge=0;ge<r&&(c||u||h);ge++){const de=t[ge]&255;h&&(g>0?(de&128)===0?h=!1:g--:(de&128)!==0&&((de&64)===0?h=!1:(g++,(de&32)===0?w++:(g++,(de&16)===0?y++:(g++,(de&8)===0?b++:h=!1))))),c&&(de>127&&de<160?c=!1:de>159&&(de<192||de===215||de===247)&&ne++),u&&(N>0?de<64||de===127||de>252?u=!1:N--:de===128||de===160||de>239?u=!1:de>160&&de<224?(R++,U=0,B++,B>F&&(F=B)):de>127?(N++,B=0,U++,U>V&&(V=U)):(B=0,U=0))}return h&&g>0&&(h=!1),u&&N>0&&(u=!1),h&&(xe||w+y+b>0)?Oe.UTF8:u&&(Oe.ASSUME_SHIFT_JIS||F>=3||V>=3)?Oe.SHIFT_JIS:c&&u?F===2&&R===2||ne*10>=r?Oe.SHIFT_JIS:Oe.ISO88591:c?Oe.ISO88591:u?Oe.SHIFT_JIS:h?Oe.UTF8:Oe.PLATFORM_DEFAULT_ENCODING}static format(t,...a){let r=-1;function c(h,g,w,y,b,N){if(h==="%%")return"%";if(a[++r]===void 0)return;h=y?parseInt(y.substr(1)):void 0;let R=b?parseInt(b.substr(1)):void 0,B;switch(N){case"s":B=a[r];break;case"c":B=a[r][0];break;case"f":B=parseFloat(a[r]).toFixed(h);break;case"p":B=parseFloat(a[r]).toPrecision(h);break;case"e":B=parseFloat(a[r]).toExponential(h);break;case"x":B=parseInt(a[r]).toString(R||16);break;case"d":B=parseFloat(parseInt(a[r],R||10).toPrecision(h)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(R);let U=parseInt(w),F=w&&w[0]+""=="0"?"0":" ";for(;B.length<U;)B=g!==void 0?B+F:F+B;return B}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,c)}static getBytes(t,a){return Te.encode(t,a)}static getCharCode(t,a=0){return t.charCodeAt(a)}static getCharAt(t){return String.fromCharCode(t)}}Oe.SHIFT_JIS=ee.SJIS.getName(),Oe.GB2312="GB2312",Oe.ISO88591=ee.ISO8859_1.getName(),Oe.EUC_JP="EUC_JP",Oe.UTF8=ee.UTF8.getName(),Oe.PLATFORM_DEFAULT_ENCODING=Oe.UTF8,Oe.ASSUME_SHIFT_JIS=!1;class Xe{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Oe.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,a,r){for(let c=a;a<a+r;c++)this.append(t[c]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+1)}substring(t,a){return this.value.substring(t,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+a.length)}}class qe{constructor(t,a,r,c){if(this.width=t,this.height=a,this.rowSize=r,this.bits=c,a==null&&(a=t),this.height=a,t<1||a<1)throw new D("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const a=t.length,r=t[0].length,c=new qe(r,a);for(let u=0;u<a;u++){const h=t[u];for(let g=0;g<r;g++)h[g]&&c.set(g,u)}return c}static parseFromString(t,a,r){if(t===null)throw new D("stringRepresentation cannot be null");const c=new Array(t.length);let u=0,h=0,g=-1,w=0,y=0;for(;y<t.length;)if(t.charAt(y)===`
`||t.charAt(y)==="\r"){if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new D("row lengths do not match");h=u,w++}y++}else if(t.substring(y,y+a.length)===a)y+=a.length,c[u]=!0,u++;else if(t.substring(y,y+r.length)===r)y+=r.length,c[u]=!1,u++;else throw new D("illegal character encountered: "+t.substring(y));if(u>h){if(g===-1)g=u-h;else if(u-h!==g)throw new D("row lengths do not match");w++}const b=new qe(g,w);for(let N=0;N<u;N++)c[N]&&b.set(Math.floor(N%g),Math.floor(N/g));return b}get(t,a){const r=a*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new D("input matrix dimensions do not match");const a=new Y(Math.floor(this.width/32)+1),r=this.rowSize,c=this.bits;for(let u=0,h=this.height;u<h;u++){const g=u*r,w=t.getRow(u,a).getBitArray();for(let y=0;y<r;y++)c[g+y]^=w[y]}}clear(){const t=this.bits,a=t.length;for(let r=0;r<a;r++)t[r]=0}setRegion(t,a,r,c){if(a<0||t<0)throw new D("Left and top must be nonnegative");if(c<1||r<1)throw new D("Height and width must be at least 1");const u=t+r,h=a+c;if(h>this.height||u>this.width)throw new D("The region must fit inside the matrix");const g=this.rowSize,w=this.bits;for(let y=a;y<h;y++){const b=y*g;for(let N=t;N<u;N++)w[b+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,a){a==null||a.getSize()<this.width?a=new Y(this.width):a.clear();const r=this.rowSize,c=this.bits,u=t*r;for(let h=0;h<r;h++)a.setBulk(h*32,c[u+h]);return a}setRow(t,a){re.arraycopy(a.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),a=this.getHeight();let r=new Y(t),c=new Y(t);for(let u=0,h=Math.floor((a+1)/2);u<h;u++)r=this.getRow(u,r),c=this.getRow(a-1-u,c),r.reverse(),c.reverse(),this.setRow(u,c),this.setRow(a-1-u,r)}getEnclosingRectangle(){const t=this.width,a=this.height,r=this.rowSize,c=this.bits;let u=t,h=a,g=-1,w=-1;for(let y=0;y<a;y++)for(let b=0;b<r;b++){const N=c[y*r+b];if(N!==0){if(y<h&&(h=y),y>w&&(w=y),b*32<u){let R=0;for(;(N<<31-R&4294967295)===0;)R++;b*32+R<u&&(u=b*32+R)}if(b*32+31>g){let R=31;for(;!(N>>>R);)R--;b*32+R>g&&(g=b*32+R)}}}return g<u||w<h?null:Int32Array.from([u,h,g-u+1,w-h+1])}getTopLeftOnBit(){const t=this.rowSize,a=this.bits;let r=0;for(;r<a.length&&a[r]===0;)r++;if(r===a.length)return null;const c=r/t;let u=r%t*32;const h=a[r];let g=0;for(;(h<<31-g&4294967295)===0;)g++;return u+=g,Int32Array.from([u,c])}getBottomRightOnBit(){const t=this.rowSize,a=this.bits;let r=a.length-1;for(;r>=0&&a[r]===0;)r--;if(r<0)return null;const c=Math.floor(r/t);let u=Math.floor(r%t)*32;const h=a[r];let g=31;for(;!(h>>>g);)g--;return u+=g,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof qe))return!1;const a=t;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&we.equals(this.bits,a.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+we.hashCode(this.bits),t}toString(t="X ",a="  ",r=`
`){return this.buildToString(t,a,r)}buildToString(t,a,r){let c=new Xe;for(let u=0,h=this.height;u<h;u++){for(let g=0,w=this.width;g<w;g++)c.append(this.get(g,u)?t:a);c.append(r)}return c.toString()}clone(){return new qe(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends E{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class te extends X{constructor(t){super(t),this.luminances=te.EMPTY,this.buckets=new Int32Array(te.LUMINANCE_BUCKETS)}getBlackRow(t,a){const r=this.getLuminanceSource(),c=r.getWidth();a==null||a.getSize()<c?a=new Y(c):a.clear(),this.initArrays(c);const u=r.getRow(t,this.luminances),h=this.buckets;for(let w=0;w<c;w++)h[(u[w]&255)>>te.LUMINANCE_SHIFT]++;const g=te.estimateBlackPoint(h);if(c<3)for(let w=0;w<c;w++)(u[w]&255)<g&&a.set(w);else{let w=u[0]&255,y=u[1]&255;for(let b=1;b<c-1;b++){const N=u[b+1]&255;(y*4-w-N)/2<g&&a.set(b),w=y,y=N}}return a}getBlackMatrix(){const t=this.getLuminanceSource(),a=t.getWidth(),r=t.getHeight(),c=new qe(a,r);this.initArrays(a);const u=this.buckets;for(let w=1;w<5;w++){const y=Math.floor(r*w/5),b=t.getRow(y,this.luminances),N=Math.floor(a*4/5);for(let R=Math.floor(a/5);R<N;R++){const B=b[R]&255;u[B>>te.LUMINANCE_SHIFT]++}}const h=te.estimateBlackPoint(u),g=t.getMatrix();for(let w=0;w<r;w++){const y=w*a;for(let b=0;b<a;b++)(g[y+b]&255)<h&&c.set(b,w)}return c}createBinarizer(t){return new te(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const a=this.buckets;for(let r=0;r<te.LUMINANCE_BUCKETS;r++)a[r]=0}static estimateBlackPoint(t){const a=t.length;let r=0,c=0,u=0;for(let b=0;b<a;b++)t[b]>u&&(c=b,u=t[b]),t[b]>r&&(r=t[b]);let h=0,g=0;for(let b=0;b<a;b++){const N=b-c,R=t[b]*N*N;R>g&&(h=b,g=R)}if(c>h){const b=c;c=h,h=b}if(h-c<=a/16)throw new W;let w=h-1,y=-1;for(let b=h-1;b>c;b--){const N=b-c,R=N*N*(h-b)*(r-t[b]);R>y&&(w=b,y=R)}return w<<te.LUMINANCE_SHIFT}}te.LUMINANCE_BITS=5,te.LUMINANCE_SHIFT=8-te.LUMINANCE_BITS,te.LUMINANCE_BUCKETS=1<<te.LUMINANCE_BITS,te.EMPTY=Uint8ClampedArray.from([0]);class se extends te{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),a=t.getWidth(),r=t.getHeight();if(a>=se.MINIMUM_DIMENSION&&r>=se.MINIMUM_DIMENSION){const c=t.getMatrix();let u=a>>se.BLOCK_SIZE_POWER;(a&se.BLOCK_SIZE_MASK)!==0&&u++;let h=r>>se.BLOCK_SIZE_POWER;(r&se.BLOCK_SIZE_MASK)!==0&&h++;const g=se.calculateBlackPoints(c,u,h,a,r),w=new qe(a,r);se.calculateThresholdForBlock(c,u,h,a,r,g,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new se(t)}static calculateThresholdForBlock(t,a,r,c,u,h,g){const w=u-se.BLOCK_SIZE,y=c-se.BLOCK_SIZE;for(let b=0;b<r;b++){let N=b<<se.BLOCK_SIZE_POWER;N>w&&(N=w);const R=se.cap(b,2,r-3);for(let B=0;B<a;B++){let U=B<<se.BLOCK_SIZE_POWER;U>y&&(U=y);const F=se.cap(B,2,a-3);let V=0;for(let xe=-2;xe<=2;xe++){const ge=h[R+xe];V+=ge[F-2]+ge[F-1]+ge[F]+ge[F+1]+ge[F+2]}const ne=V/25;se.thresholdBlock(t,U,N,ne,c,g)}}}static cap(t,a,r){return t<a?a:t>r?r:t}static thresholdBlock(t,a,r,c,u,h){for(let g=0,w=r*u+a;g<se.BLOCK_SIZE;g++,w+=u)for(let y=0;y<se.BLOCK_SIZE;y++)(t[w+y]&255)<=c&&h.set(a+y,r+g)}static calculateBlackPoints(t,a,r,c,u){const h=u-se.BLOCK_SIZE,g=c-se.BLOCK_SIZE,w=new Array(r);for(let y=0;y<r;y++){w[y]=new Int32Array(a);let b=y<<se.BLOCK_SIZE_POWER;b>h&&(b=h);for(let N=0;N<a;N++){let R=N<<se.BLOCK_SIZE_POWER;R>g&&(R=g);let B=0,U=255,F=0;for(let ne=0,xe=b*c+R;ne<se.BLOCK_SIZE;ne++,xe+=c){for(let ge=0;ge<se.BLOCK_SIZE;ge++){const de=t[xe+ge]&255;B+=de,de<U&&(U=de),de>F&&(F=de)}if(F-U>se.MIN_DYNAMIC_RANGE)for(ne++,xe+=c;ne<se.BLOCK_SIZE;ne++,xe+=c)for(let ge=0;ge<se.BLOCK_SIZE;ge++)B+=t[xe+ge]&255}let V=B>>se.BLOCK_SIZE_POWER*2;if(F-U<=se.MIN_DYNAMIC_RANGE&&(V=U/2,y>0&&N>0)){const ne=(w[y-1][N]+2*w[y][N-1]+w[y-1][N-1])/4;U<ne&&(V=ne)}w[y][N]=V}}return w}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class Le{constructor(t,a){this.width=t,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,a,r,c){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let a=new Xe;for(let r=0;r<this.height;r++){const c=this.getRow(r,t);for(let u=0;u<this.width;u++){const h=c[u]&255;let g;h<64?g="#":h<128?g="+":h<192?g=".":g=" ",a.append(g)}a.append(`
`)}return a.toString()}}class Qe extends Le{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,a){const r=this.delegate.getRow(t,a),c=this.getWidth();for(let u=0;u<c;u++)r[u]=255-(r[u]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(a);for(let c=0;c<a;c++)r[c]=255-(t[c]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,a,r,c){return new Qe(this.delegate.crop(t,a,r,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Qe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Qe(this.delegate.rotateCounterClockwise45())}}class We extends Le{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=We.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const a=t.getContext("2d").getImageData(0,0,t.width,t.height);return We.toGrayscaleBuffer(a.data,t.width,t.height)}static toGrayscaleBuffer(t,a,r){const c=new Uint8ClampedArray(a*r);for(let u=0,h=0,g=t.length;u<g;u+=4,h++){let w;if(t[u+3]===0)w=255;else{const b=t[u],N=t[u+1],R=t[u+2];w=306*b+601*N+117*R+512>>10}c[h]=w}return c}getRow(t,a){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const r=this.getWidth(),c=t*r;return a===null?a=this.buffer.slice(c,c+r):(a.length<r&&(a=new Uint8ClampedArray(r)),a.set(this.buffer.slice(c,c+r))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,a,r,c){return super.crop(t,a,r,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const a=this.getTempCanvasElement(),r=a.getContext("2d"),c=t*We.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*h),w=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*h);return a.width=g,a.height=w,r.translate(g/2,w/2),r.rotate(c),r.drawImage(this.canvas,u/-2,h/-2),this.buffer=We.makeBufferFromCanvasImageData(a),this}invert(){return new Qe(this)}}We.DEGREE_TO_RADIANS=Math.PI/180;class P{constructor(t,a,r){this.deviceId=t,this.label=a,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var $=(globalThis||au||self||window||void 0)&&(globalThis||au||self||window||void 0).__awaiter||function(O,t,a,r){function c(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function g(b){try{y(r.next(b))}catch(N){h(N)}}function w(b){try{y(r.throw(b))}catch(N){h(N)}}function y(b){b.done?u(b.value):c(b.value).then(g,w)}y((r=r.apply(O,t||[])).next())})};class Ae{constructor(t,a=500,r){this.reader=t,this.timeBetweenScansMillis=a,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return $(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const r of t){const c=r.kind==="video"?"videoinput":r.kind;if(c!=="videoinput")continue;const u=r.deviceId||r.id,h=r.label||`Video device ${a.length+1}`,g=r.groupId,w={deviceId:u,label:h,kind:c,groupId:g};a.push(w)}return a})}getVideoInputDevices(){return $(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new P(a.deviceId,a.label))})}findDeviceById(t){return $(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,a){return $(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,a)})}decodeOnceFromVideoDevice(t,a){return $(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const c={video:r};return yield this.decodeOnceFromConstraints(c,a)})}decodeOnceFromConstraints(t,a){return $(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,a)})}decodeOnceFromStream(t,a){return $(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,a);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,a,r){return $(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,a,r)})}decodeFromVideoDevice(t,a,r){return $(this,void 0,void 0,function*(){let c;t?c={deviceId:{exact:t}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,a,r)})}decodeFromConstraints(t,a,r){return $(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(c,a,r)})}decodeFromStream(t,a,r){return $(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(t,a);return yield this.decodeContinuously(c,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,a){return $(this,void 0,void 0,function*(){const r=this.prepareVideoElement(a);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((a,r)=>this.playVideoOnLoad(t,()=>a()))}playVideoOnLoad(t,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",a),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return $(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,a){const r=document.getElementById(t);if(!r)throw new T(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==a.toLowerCase())throw new T(`element with id '${t}' must be an ${a} element`);return r}decodeFromImage(t,a){if(!t&&!a)throw new T("either imageElement with a src set or an url must be provided");return a&&!t?this.decodeFromImageUrl(a):this.decodeFromImageElement(t)}decodeFromVideo(t,a){if(!t&&!a)throw new T("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,a,r){if(t===void 0&&a===void 0)throw new T("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrlContinuously(a,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new T("An image element must be provided.");this.reset();const a=this.prepareImageElement(t);this.imageElement=a;let r;return this.isImageLoaded(a)?r=this.decodeOnce(a,!1,!0):r=this._decodeOnLoadImage(a),r}decodeFromVideoElement(t){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(t,a){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,a)}_decodeFromVideoElementSetup(t){if(!t)throw new T("A video element must be provided.");this.reset();const a=this.prepareVideoElement(t);return this.videoElement=a,a}decodeFromImageUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const r=this._decodeOnLoadImage(a);return a.src=t,r}decodeFromVideoUrl(t){if(!t)throw new T("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),r=this.decodeFromVideoElement(a);return a.src=t,r}decodeFromVideoUrlContinuously(t,a){if(!t)throw new T("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(r,a);return r.src=t,c}_decodeOnLoadImage(t){return new Promise((a,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(a,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return $(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,a){return $(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,a)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let a;return typeof t>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(a=t),a}prepareVideoElement(t){let a;return!t&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(a=t),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(t,a=!0,r=!0){this._stopAsyncDecode=!1;const c=(u,h)=>{if(this._stopAsyncDecode){h(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(t);u(g)}catch(g){const w=a&&g instanceof W,b=(g instanceof L||g instanceof Z)&&r;if(w||b)return setTimeout(c,this._timeBetweenDecodingAttempts,u,h);h(g)}};return new Promise((u,h)=>c(u,h))}decodeContinuously(t,a){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(t);a(c,null),setTimeout(r,this.timeBetweenScansMillis)}catch(c){a(null,c);const u=c instanceof L||c instanceof Z,h=c instanceof W;(u||h)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const a=this.createBinaryBitmap(t);return this.decodeBitmap(a)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,a,r){a||(a={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(t,a,r=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const a=this.getCaptureCanvas(t),r=new We(a),c=new se(r);return new k(c)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const a=this.createCaptureCanvas(t);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let r,c;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,c=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,c=t.naturalHeight||t.height)),a.style.width=r+"px",a.style.height=c+"px",a.width=r,a.height=c,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,a){try{t.srcObject=a}catch{t.src=URL.createObjectURL(a)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Se{constructor(t,a,r=a==null?0:8*a.length,c,u,h=re.currentTimeMillis()){this.text=t,this.rawBytes=a,this.numBits=r,this.resultPoints=c,this.format=u,this.timestamp=h,this.text=t,this.rawBytes=a,r==null?this.numBits=a==null?0:8*a.length:this.numBits=r,this.resultPoints=c,this.format=u,this.resultMetadata=null,h==null?this.timestamp=re.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,a)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const a=this.resultPoints;if(a===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(a.length+t.length);re.arraycopy(a,0,r,0,a.length),re.arraycopy(t,0,r,a.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ve;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var _e=Ve,lt;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lt||(lt={}));var rt=lt;class St{constructor(t,a,r,c,u=-1,h=-1){this.rawBytes=t,this.text=a,this.byteSegments=r,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class pi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new D;return this.logTable[t]}static addOrSubtract(t,a){return t^a}}class rn{constructor(t,a){if(a.length===0)throw new D;this.field=t;const r=a.length;if(r>1&&a[0]===0){let c=1;for(;c<r&&a[c]===0;)c++;c===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-c),re.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const a=this.coefficients;let r;if(t===1){r=0;for(let h=0,g=a.length;h!==g;h++){const w=a[h];r=pi.addOrSubtract(r,w)}return r}r=a[0];const c=a.length,u=this.field;for(let h=1;h<c;h++)r=pi.addOrSubtract(u.multiply(t,r),a[h]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,r=t.coefficients;if(a.length>r.length){const h=a;a=r,r=h}let c=new Int32Array(r.length);const u=r.length-a.length;re.arraycopy(r,0,c,0,u);for(let h=u;h<r.length;h++)c[h]=pi.addOrSubtract(a[h-u],r[h]);return new rn(this.field,c)}multiply(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const a=this.coefficients,r=a.length,c=t.coefficients,u=c.length,h=new Int32Array(r+u-1),g=this.field;for(let w=0;w<r;w++){const y=a[w];for(let b=0;b<u;b++)h[w+b]=pi.addOrSubtract(h[w+b],g.multiply(y,c[b]))}return new rn(g,h)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const a=this.coefficients.length,r=this.field,c=new Int32Array(a),u=this.coefficients;for(let h=0;h<a;h++)c[h]=r.multiply(u[h],t);return new rn(r,c)}multiplyByMonomial(t,a){if(t<0)throw new D;if(a===0)return this.field.getZero();const r=this.coefficients,c=r.length,u=new Int32Array(c+t),h=this.field;for(let g=0;g<c;g++)u[g]=h.multiply(r[g],a);return new rn(h,u)}divide(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new D("Divide by 0");const a=this.field;let r=a.getZero(),c=this;const u=t.getCoefficient(t.getDegree()),h=a.inverse(u);for(;c.getDegree()>=t.getDegree()&&!c.isZero();){const g=c.getDegree()-t.getDegree(),w=a.multiply(c.getCoefficient(c.getDegree()),h),y=t.multiplyByMonomial(g,w),b=a.buildMonomial(g,w);r=r.addOrSubtract(b),c=c.addOrSubtract(y)}return[r,c]}toString(){let t="";for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),a===0||r!==1){const c=this.field.log(r);c===0?t+="1":c===1?t+="a":(t+="a^",t+=c)}a!==0&&(a===1?t+="x":(t+="x^",t+=a))}}return t}}class Ji extends E{}Ji.kind="ArithmeticException";class st extends pi{constructor(t,a,r){super(),this.primitive=t,this.size=a,this.generatorBase=r;const c=new Int32Array(a);let u=1;for(let g=0;g<a;g++)c[g]=u,u*=2,u>=a&&(u^=t,u&=a-1);this.expTable=c;const h=new Int32Array(a);for(let g=0;g<a-1;g++)h[c[g]]=g;this.logTable=h,this.zero=new rn(this,Int32Array.from([0])),this.one=new rn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new D;if(a===0)return this.zero;const r=new Int32Array(t+1);return r[0]=a,new rn(this,r)}inverse(t){if(t===0)throw new Ji;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Q.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class zn extends E{}zn.kind="ReedSolomonException";class Un extends E{}Un.kind="IllegalStateException";class Bi{constructor(t){this.field=t}decode(t,a){const r=this.field,c=new rn(r,t),u=new Int32Array(a);let h=!0;for(let B=0;B<a;B++){const U=c.evaluateAt(r.exp(B+r.getGeneratorBase()));u[u.length-1-B]=U,U!==0&&(h=!1)}if(h)return;const g=new rn(r,u),w=this.runEuclideanAlgorithm(r.buildMonomial(a,1),g,a),y=w[0],b=w[1],N=this.findErrorLocations(y),R=this.findErrorMagnitudes(b,N);for(let B=0;B<N.length;B++){const U=t.length-1-r.log(N[B]);if(U<0)throw new zn("Bad error location");t[U]=st.addOrSubtract(t[U],R[B])}}runEuclideanAlgorithm(t,a,r){if(t.getDegree()<a.getDegree()){const B=t;t=a,a=B}const c=this.field;let u=t,h=a,g=c.getZero(),w=c.getOne();for(;h.getDegree()>=(r/2|0);){let B=u,U=g;if(u=h,g=w,u.isZero())throw new zn("r_{i-1} was zero");h=B;let F=c.getZero();const V=u.getCoefficient(u.getDegree()),ne=c.inverse(V);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const xe=h.getDegree()-u.getDegree(),ge=c.multiply(h.getCoefficient(h.getDegree()),ne);F=F.addOrSubtract(c.buildMonomial(xe,ge)),h=h.addOrSubtract(u.multiplyByMonomial(xe,ge))}if(w=F.multiply(g).addOrSubtract(U),h.getDegree()>=u.getDegree())throw new Un("Division algorithm failed to reduce polynomial?")}const y=w.getCoefficient(0);if(y===0)throw new zn("sigmaTilde(0) was zero");const b=c.inverse(y),N=w.multiplyScalar(b),R=h.multiplyScalar(b);return[N,R]}findErrorLocations(t){const a=t.getDegree();if(a===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(a);let c=0;const u=this.field;for(let h=1;h<u.getSize()&&c<a;h++)t.evaluateAt(h)===0&&(r[c]=u.inverse(h),c++);if(c!==a)throw new zn("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,a){const r=a.length,c=new Int32Array(r),u=this.field;for(let h=0;h<r;h++){const g=u.inverse(a[h]);let w=1;for(let y=0;y<r;y++)if(h!==y){const b=u.multiply(a[y],g),N=(b&1)===0?b|1:b&-2;w=u.multiply(w,N)}c[h]=u.multiply(t.evaluateAt(g),u.inverse(w)),u.getGeneratorBase()!==0&&(c[h]=u.multiply(c[h],g))}return c}}var ln;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(ln||(ln={}));class yt{decode(t){this.ddata=t;let a=t.getBits(),r=this.extractBits(a),c=this.correctBits(r),u=yt.convertBoolArrayToByteArray(c),h=yt.getEncodedData(c),g=new St(u,h,null,null);return g.setNumBits(c.length),g}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let a=t.length,r=ln.UPPER,c=ln.UPPER,u="",h=0;for(;h<a;)if(c===ln.BINARY){if(a-h<5)break;let g=yt.readCode(t,h,5);if(h+=5,g===0){if(a-h<11)break;g=yt.readCode(t,h,11)+31,h+=11}for(let w=0;w<g;w++){if(a-h<8){h=a;break}const y=yt.readCode(t,h,8);u+=Oe.castAsNonUtf8Char(y),h+=8}c=r}else{let g=c===ln.DIGIT?4:5;if(a-h<g)break;let w=yt.readCode(t,h,g);h+=g;let y=yt.getCharacter(c,w);y.startsWith("CTRL_")?(r=c,c=yt.getTable(y.charAt(5)),y.charAt(6)==="L"&&(r=c)):(u+=y,c=r)}return u}static getTable(t){switch(t){case"L":return ln.LOWER;case"P":return ln.PUNCT;case"M":return ln.MIXED;case"D":return ln.DIGIT;case"B":return ln.BINARY;default:return ln.UPPER}}static getCharacter(t,a){switch(t){case ln.UPPER:return yt.UPPER_TABLE[a];case ln.LOWER:return yt.LOWER_TABLE[a];case ln.MIXED:return yt.MIXED_TABLE[a];case ln.PUNCT:return yt.PUNCT_TABLE[a];case ln.DIGIT:return yt.DIGIT_TABLE[a];default:throw new Un("Bad table")}}correctBits(t){let a,r;this.ddata.getNbLayers()<=2?(r=6,a=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,a=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,a=st.AZTEC_DATA_10):(r=12,a=st.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=t.length/r;if(u<c)throw new Z;let h=t.length%r,g=new Int32Array(u);for(let R=0;R<u;R++,h+=r)g[R]=yt.readCode(t,h,r);try{new Bi(a).decode(g,u-c)}catch(R){throw new Z(R)}let w=(1<<r)-1,y=0;for(let R=0;R<c;R++){let B=g[R];if(B===0||B===w)throw new Z;(B===1||B===w-1)&&y++}let b=new Array(c*r-y),N=0;for(let R=0;R<c;R++){let B=g[R];if(B===1||B===w-1)b.fill(B>1,N,N+r-1),N+=r-1;else for(let U=r-1;U>=0;--U)b[N++]=(B&1<<U)!==0}return b}extractBits(t){let a=this.ddata.isCompact(),r=this.ddata.getNbLayers(),c=(a?11:14)+r*4,u=new Int32Array(c),h=new Array(this.totalBitsInLayer(r,a));if(a)for(let g=0;g<u.length;g++)u[g]=g;else{let g=c+1+2*Q.truncDivision(Q.truncDivision(c,2)-1,15),w=c/2,y=Q.truncDivision(g,2);for(let b=0;b<w;b++){let N=b+Q.truncDivision(b,15);u[w-b-1]=y-N-1,u[w+b]=y+N+1}}for(let g=0,w=0;g<r;g++){let y=(r-g)*4+(a?9:12),b=g*2,N=c-1-b;for(let R=0;R<y;R++){let B=R*2;for(let U=0;U<2;U++)h[w+B+U]=t.get(u[b+U],u[b+R]),h[w+2*y+B+U]=t.get(u[b+R],u[N-U]),h[w+4*y+B+U]=t.get(u[N-U],u[N-R]),h[w+6*y+B+U]=t.get(u[N-R],u[b+U])}w+=y*8}return h}static readCode(t,a,r){let c=0;for(let u=a;u<a+r;u++)c<<=1,t[u]&&(c|=1);return c}static readByte(t,a){let r=t.length-a;return r>=8?yt.readCode(t,a,8):yt.readCode(t,a,r)<<8-r}static convertBoolArrayToByteArray(t){let a=new Uint8Array((t.length+7)/8);for(let r=0;r<a.length;r++)a[r]=yt.readByte(t,8*r);return a}totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}yt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],yt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],yt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],yt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],yt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class nt{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,a,r,c){const u=t-r,h=a-c;return Math.sqrt(u*u+h*h)}static sum(t){let a=0;for(let r=0,c=t.length;r!==c;r++){const u=t[r];a+=u}return a}}class oa{static floatToIntBits(t){return t}}oa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ie{constructor(t,a){this.x=t,this.y=a}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ie){const a=t;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*oa.floatToIntBits(this.x)+oa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const a=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),c=this.distance(t[0],t[2]);let u,h,g;if(r>=a&&r>=c?(h=t[0],u=t[1],g=t[2]):c>=r&&c>=a?(h=t[1],u=t[0],g=t[2]):(h=t[2],u=t[0],g=t[1]),this.crossProductZ(u,h,g)<0){const w=u;u=g,g=w}t[0]=u,t[1]=h,t[2]=g}static distance(t,a){return nt.distance(t.x,t.y,a.x,a.y)}static crossProductZ(t,a,r){const c=a.x,u=a.y;return(r.x-c)*(t.y-u)-(r.y-u)*(t.x-c)}}class Ja{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Nl extends Ja{constructor(t,a,r,c,u){super(t,a),this.compact=r,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class jt{constructor(t,a,r,c){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),a==null&&(a=jt.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),c==null&&(c=t.getHeight()/2|0);const u=a/2|0;if(this.leftInit=r-u,this.rightInit=r+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let t=this.leftInit,a=this.rightInit,r=this.upInit,c=this.downInit,u=!1,h=!0,g=!1,w=!1,y=!1,b=!1,N=!1;const R=this.width,B=this.height;for(;h;){h=!1;let U=!0;for(;(U||!w)&&a<R;)U=this.containsBlackPoint(r,c,a,!1),U?(a++,h=!0,w=!0):w||a++;if(a>=R){u=!0;break}let F=!0;for(;(F||!y)&&c<B;)F=this.containsBlackPoint(t,a,c,!0),F?(c++,h=!0,y=!0):y||c++;if(c>=B){u=!0;break}let V=!0;for(;(V||!b)&&t>=0;)V=this.containsBlackPoint(r,c,t,!1),V?(t--,h=!0,b=!0):b||t--;if(t<0){u=!0;break}let ne=!0;for(;(ne||!N)&&r>=0;)ne=this.containsBlackPoint(t,a,r,!0),ne?(r--,h=!0,N=!0):N||r--;if(r<0){u=!0;break}h&&(g=!0)}if(!u&&g){const U=a-t;let F=null;for(let ge=1;F===null&&ge<U;ge++)F=this.getBlackPointOnSegment(t,c-ge,t+ge,c);if(F==null)throw new W;let V=null;for(let ge=1;V===null&&ge<U;ge++)V=this.getBlackPointOnSegment(t,r+ge,t+ge,r);if(V==null)throw new W;let ne=null;for(let ge=1;ne===null&&ge<U;ge++)ne=this.getBlackPointOnSegment(a,r+ge,a-ge,r);if(ne==null)throw new W;let xe=null;for(let ge=1;xe===null&&ge<U;ge++)xe=this.getBlackPointOnSegment(a,c-ge,a-ge,c);if(xe==null)throw new W;return this.centerEdges(xe,F,ne,V)}else throw new W}getBlackPointOnSegment(t,a,r,c){const u=nt.round(nt.distance(t,a,r,c)),h=(r-t)/u,g=(c-a)/u,w=this.image;for(let y=0;y<u;y++){const b=nt.round(t+y*h),N=nt.round(a+y*g);if(w.get(b,N))return new Ie(b,N)}return null}centerEdges(t,a,r,c){const u=t.getX(),h=t.getY(),g=a.getX(),w=a.getY(),y=r.getX(),b=r.getY(),N=c.getX(),R=c.getY(),B=jt.CORR;return u<this.width/2?[new Ie(N-B,R+B),new Ie(g+B,w+B),new Ie(y-B,b-B),new Ie(u+B,h-B)]:[new Ie(N+B,R+B),new Ie(g+B,w-B),new Ie(y-B,b+B),new Ie(u-B,h-B)]}containsBlackPoint(t,a,r,c){const u=this.image;if(c){for(let h=t;h<=a;h++)if(u.get(h,r))return!0}else for(let h=t;h<=a;h++)if(u.get(r,h))return!0;return!1}}jt.INIT_SIZE=10,jt.CORR=1;class Vr{static checkAndNudgePoints(t,a){const r=t.getWidth(),c=t.getHeight();let u=!0;for(let h=0;h<a.length&&u;h+=2){const g=Math.floor(a[h]),w=Math.floor(a[h+1]);if(g<-1||g>r||w<-1||w>c)throw new W;u=!1,g===-1?(a[h]=0,u=!0):g===r&&(a[h]=r-1,u=!0),w===-1?(a[h+1]=0,u=!0):w===c&&(a[h+1]=c-1,u=!0)}u=!0;for(let h=a.length-2;h>=0&&u;h-=2){const g=Math.floor(a[h]),w=Math.floor(a[h+1]);if(g<-1||g>r||w<-1||w>c)throw new W;u=!1,g===-1?(a[h]=0,u=!0):g===r&&(a[h]=r-1,u=!0),w===-1?(a[h+1]=0,u=!0):w===c&&(a[h+1]=c-1,u=!0)}}}class Yn{constructor(t,a,r,c,u,h,g,w,y){this.a11=t,this.a21=a,this.a31=r,this.a12=c,this.a22=u,this.a32=h,this.a13=g,this.a23=w,this.a33=y}static quadrilateralToQuadrilateral(t,a,r,c,u,h,g,w,y,b,N,R,B,U,F,V){const ne=Yn.quadrilateralToSquare(t,a,r,c,u,h,g,w);return Yn.squareToQuadrilateral(y,b,N,R,B,U,F,V).times(ne)}transformPoints(t){const a=t.length,r=this.a11,c=this.a12,u=this.a13,h=this.a21,g=this.a22,w=this.a23,y=this.a31,b=this.a32,N=this.a33;for(let R=0;R<a;R+=2){const B=t[R],U=t[R+1],F=u*B+w*U+N;t[R]=(r*B+h*U+y)/F,t[R+1]=(c*B+g*U+b)/F}}transformPointsWithValues(t,a){const r=this.a11,c=this.a12,u=this.a13,h=this.a21,g=this.a22,w=this.a23,y=this.a31,b=this.a32,N=this.a33,R=t.length;for(let B=0;B<R;B++){const U=t[B],F=a[B],V=u*U+w*F+N;t[B]=(r*U+h*F+y)/V,a[B]=(c*U+g*F+b)/V}}static squareToQuadrilateral(t,a,r,c,u,h,g,w){const y=t-r+u-g,b=a-c+h-w;if(y===0&&b===0)return new Yn(r-t,u-r,t,c-a,h-c,a,0,0,1);{const N=r-u,R=g-u,B=c-h,U=w-h,F=N*U-R*B,V=(y*U-R*b)/F,ne=(N*b-y*B)/F;return new Yn(r-t+V*r,g-t+ne*g,t,c-a+V*c,w-a+ne*w,a,V,ne,1)}}static quadrilateralToSquare(t,a,r,c,u,h,g,w){return Yn.squareToQuadrilateral(t,a,r,c,u,h,g,w).buildAdjoint()}buildAdjoint(){return new Yn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Yn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class $a extends Vr{sampleGrid(t,a,r,c,u,h,g,w,y,b,N,R,B,U,F,V,ne,xe,ge){const de=Yn.quadrilateralToQuadrilateral(c,u,h,g,w,y,b,N,R,B,U,F,V,ne,xe,ge);return this.sampleGridWithTransform(t,a,r,de)}sampleGridWithTransform(t,a,r,c){if(a<=0||r<=0)throw new W;const u=new qe(a,r),h=new Float32Array(2*a);for(let g=0;g<r;g++){const w=h.length,y=g+.5;for(let b=0;b<w;b+=2)h[b]=b/2+.5,h[b+1]=y;c.transformPoints(h),Vr.checkAndNudgePoints(t,h);try{for(let b=0;b<w;b+=2)t.get(Math.floor(h[b]),Math.floor(h[b+1]))&&u.set(b/2,g)}catch{throw new W}}return u}}class Ce{static setGridSampler(t){Ce.gridSampler=t}static getInstance(){return Ce.gridSampler}}Ce.gridSampler=new $a;class Pe{constructor(t,a){this.x=t,this.y=a}toResultPoint(){return new Ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class yn{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let a=this.getMatrixCenter(),r=this.getBullsEyeCorners(a);if(t){let h=r[0];r[0]=r[2],r[2]=h}this.extractParameters(r);let c=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),u=this.getMatrixCornerPoints(r);return new Nl(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new W;let a=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],a),this.sampleLine(t[1],t[2],a),this.sampleLine(t[2],t[3],a),this.sampleLine(t[3],t[0],a)]);this.shift=this.getRotation(r,a);let c=0;for(let h=0;h<4;h++){let g=r[(this.shift+h)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,a){let r=0;t.forEach((c,u,h)=>{let g=(c>>a-2<<1)+(c&1);r=(r<<3)+g}),r=((r&1)<<11)+(r>>1);for(let c=0;c<4;c++)if(Q.bitCount(r^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new W}getCorrectedParameterData(t,a){let r,c;a?(r=7,c=2):(r=10,c=4);let u=r-c,h=new Int32Array(r);for(let w=r-1;w>=0;--w)h[w]=t&15,t>>=4;try{new Bi(st.AZTEC_PARAM).decode(h,u)}catch{throw new W}let g=0;for(let w=0;w<c;w++)g=(g<<4)+h[w];return g}getBullsEyeCorners(t){let a=t,r=t,c=t,u=t,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(a,h,1,-1),R=this.getFirstDifferent(r,h,1,1),B=this.getFirstDifferent(c,h,-1,1),U=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(U,N)*this.nbCenterLayers/(this.distancePoint(u,a)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(N,R,B,U))break}a=N,r=R,c=B,u=U,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let g=new Ie(a.getX()+.5,a.getY()-.5),w=new Ie(r.getX()+.5,r.getY()+.5),y=new Ie(c.getX()-.5,c.getY()+.5),b=new Ie(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,w,y,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,a,r,c;try{let g=new jt(this.image).detect();t=g[0],a=g[1],r=g[2],c=g[3]}catch{let w=this.image.getWidth()/2,y=this.image.getHeight()/2;t=this.getFirstDifferent(new Pe(w+7,y-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Pe(w+7,y+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Pe(w-7,y+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Pe(w-7,y-7),!1,-1,-1).toResultPoint()}let u=nt.round((t.getX()+c.getX()+a.getX()+r.getX())/4),h=nt.round((t.getY()+c.getY()+a.getY()+r.getY())/4);try{let g=new jt(this.image,15,u,h).detect();t=g[0],a=g[1],r=g[2],c=g[3]}catch{t=this.getFirstDifferent(new Pe(u+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Pe(u+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Pe(u-7,h+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Pe(u-7,h-7),!1,-1,-1).toResultPoint()}return u=nt.round((t.getX()+c.getX()+a.getX()+r.getX())/4),h=nt.round((t.getY()+c.getY()+a.getY()+r.getY())/4),new Pe(u,h)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,a,r,c,u){let h=Ce.getInstance(),g=this.getDimension(),w=g/2-this.nbCenterLayers,y=g/2+this.nbCenterLayers;return h.sampleGrid(t,g,g,w,w,y,w,y,y,w,y,a.getX(),a.getY(),r.getX(),r.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(t,a,r){let c=0,u=this.distanceResultPoint(t,a),h=u/r,g=t.getX(),w=t.getY(),y=h*(a.getX()-t.getX())/u,b=h*(a.getY()-t.getY())/u;for(let N=0;N<r;N++)this.image.get(nt.round(g+N*y),nt.round(w+N*b))&&(c|=1<<r-N-1);return c}isWhiteOrBlackRectangle(t,a,r,c){let u=3;t=new Pe(t.getX()-u,t.getY()+u),a=new Pe(a.getX()-u,a.getY()-u),r=new Pe(r.getX()+u,r.getY()-u),c=new Pe(c.getX()+u,c.getY()+u);let h=this.getColor(c,t);if(h===0)return!1;let g=this.getColor(t,a);return g!==h||(g=this.getColor(a,r),g!==h)?!1:(g=this.getColor(r,c),g===h)}getColor(t,a){let r=this.distancePoint(t,a),c=(a.getX()-t.getX())/r,u=(a.getY()-t.getY())/r,h=0,g=t.getX(),w=t.getY(),y=this.image.get(t.getX(),t.getY()),b=Math.ceil(r);for(let R=0;R<b;R++)g+=c,w+=u,this.image.get(nt.round(g),nt.round(w))!==y&&h++;let N=h/r;return N>.1&&N<.9?0:N<=.1===y?1:-1}getFirstDifferent(t,a,r,c){let u=t.getX()+r,h=t.getY()+c;for(;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=r,h+=c;for(u-=r,h-=c;this.isValid(u,h)&&this.image.get(u,h)===a;)u+=r;for(u-=r;this.isValid(u,h)&&this.image.get(u,h)===a;)h+=c;return h-=c,new Pe(u,h)}expandSquare(t,a,r){let c=r/(2*a),u=t[0].getX()-t[2].getX(),h=t[0].getY()-t[2].getY(),g=(t[0].getX()+t[2].getX())/2,w=(t[0].getY()+t[2].getY())/2,y=new Ie(g+c*u,w+c*h),b=new Ie(g-c*u,w-c*h);u=t[1].getX()-t[3].getX(),h=t[1].getY()-t[3].getY(),g=(t[1].getX()+t[3].getX())/2,w=(t[1].getY()+t[3].getY())/2;let N=new Ie(g+c*u,w+c*h),R=new Ie(g-c*u,w-c*h);return[y,N,b,R]}isValid(t,a){return t>=0&&t<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(t){let a=nt.round(t.getX()),r=nt.round(t.getY());return this.isValid(a,r)}distancePoint(t,a){return nt.distance(t.getX(),t.getY(),a.getX(),a.getY())}distanceResultPoint(t,a){return nt.distance(t.getX(),t.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Q.truncDivision(this.nbLayers-4,8)+1)+15}}class ri{decode(t,a=null){let r=null,c=new yn(t.getBlackMatrix()),u=null,h=null;try{let b=c.detectMirror(!1);u=b.getPoints(),this.reportFoundResultPoints(a,u),h=new yt().decode(b)}catch(b){r=b}if(h==null)try{let b=c.detectMirror(!0);u=b.getPoints(),this.reportFoundResultPoints(a,u),h=new yt().decode(b)}catch(b){throw r??b}let g=new Se(h.getText(),h.getRawBytes(),h.getNumBits(),u,_e.AZTEC,re.currentTimeMillis()),w=h.getByteSegments();w!=null&&g.putMetadata(rt.BYTE_SEGMENTS,w);let y=h.getECLevel();return y!=null&&g.putMetadata(rt.ERROR_CORRECTION_LEVEL,y),g}reportFoundResultPoints(t,a){if(t!=null){let r=t.get(ye.NEED_RESULT_POINT_CALLBACK);r!=null&&a.forEach((c,u,h)=>{r.foundPossibleResultPoint(c)})}}reset(){}}class er extends Ae{constructor(t=500){super(new ri,t)}}class Ut{decode(t,a){try{return this.doDecode(t,a)}catch{if(a&&a.get(ye.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),h=this.doDecode(u,a),g=h.getResultMetadata();let w=270;g!==null&&g.get(rt.ORIENTATION)===!0&&(w=w+g.get(rt.ORIENTATION)%360),h.putMetadata(rt.ORIENTATION,w);const y=h.getResultPoints();if(y!==null){const b=u.getHeight();for(let N=0;N<y.length;N++)y[N]=new Ie(b-y[N].getY()-1,y[N].getX())}return h}else throw new W}}reset(){}doDecode(t,a){const r=t.getWidth(),c=t.getHeight();let u=new Y(r);const h=a&&a.get(ye.TRY_HARDER)===!0,g=Math.max(1,c>>(h?8:5));let w;h?w=c:w=15;const y=Math.trunc(c/2);for(let b=0;b<w;b++){const N=Math.trunc((b+1)/2),R=(b&1)===0,B=y+g*(R?N:-N);if(B<0||B>=c)break;try{u=t.getBlackRow(B,u)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(u.reverse(),a&&a.get(ye.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;a.forEach((V,ne)=>F.set(ne,V)),F.delete(ye.NEED_RESULT_POINT_CALLBACK),a=F}try{const F=this.decodeRow(B,u,a);if(U===1){F.putMetadata(rt.ORIENTATION,180);const V=F.getResultPoints();V!==null&&(V[0]=new Ie(r-V[0].getX()-1,V[0].getY()),V[1]=new Ie(r-V[1].getX()-1,V[1].getY()))}return F}catch{}}}throw new W}static recordPattern(t,a,r){const c=r.length;for(let y=0;y<c;y++)r[y]=0;const u=t.getSize();if(a>=u)throw new W;let h=!t.get(a),g=0,w=a;for(;w<u;){if(t.get(w)!==h)r[g]++;else{if(++g===c)break;r[g]=1,h=!h}w++}if(!(g===c||g===c-1&&w===u))throw new W}static recordPatternInReverse(t,a,r){let c=r.length,u=t.get(a);for(;a>0&&c>=0;)t.get(--a)!==u&&(c--,u=!u);if(c>=0)throw new W;Ut.recordPattern(t,a+1,r)}static patternMatchVariance(t,a,r){const c=t.length;let u=0,h=0;for(let y=0;y<c;y++)u+=t[y],h+=a[y];if(u<h)return Number.POSITIVE_INFINITY;const g=u/h;r*=g;let w=0;for(let y=0;y<c;y++){const b=t[y],N=a[y]*g,R=b>N?b-N:N-b;if(R>r)return Number.POSITIVE_INFINITY;w+=R}return w/u}}class me extends Ut{static findStartPattern(t){const a=t.getSize(),r=t.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),h=r,g=!1;const w=6;for(let y=r;y<a;y++)if(t.get(y)!==g)u[c]++;else{if(c===w-1){let b=me.MAX_AVG_VARIANCE,N=-1;for(let R=me.CODE_START_A;R<=me.CODE_START_C;R++){const B=Ut.patternMatchVariance(u,me.CODE_PATTERNS[R],me.MAX_INDIVIDUAL_VARIANCE);B<b&&(b=B,N=R)}if(N>=0&&t.isRange(Math.max(0,h-(y-h)/2),h,!1))return Int32Array.from([h,y,N]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,g=!g}throw new W}static decodeCode(t,a,r){Ut.recordPattern(t,r,a);let c=me.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<me.CODE_PATTERNS.length;h++){const g=me.CODE_PATTERNS[h],w=this.patternMatchVariance(a,g,me.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,u=h)}if(u>=0)return u;throw new W}decodeRow(t,a,r){const c=r&&r.get(ye.ASSUME_GS1)===!0,u=me.findStartPattern(a),h=u[2];let g=0;const w=new Uint8Array(20);w[g++]=h;let y;switch(h){case me.CODE_START_A:y=me.CODE_CODE_A;break;case me.CODE_START_B:y=me.CODE_CODE_B;break;case me.CODE_START_C:y=me.CODE_CODE_C;break;default:throw new Z}let b=!1,N=!1,R="",B=u[0],U=u[1];const F=Int32Array.from([0,0,0,0,0,0]);let V=0,ne=0,xe=h,ge=0,de=!0,it=!1,Ye=!1;for(;!b;){const Da=N;switch(N=!1,V=ne,ne=me.decodeCode(a,F,U),w[g++]=ne,ne!==me.CODE_STOP&&(de=!0),ne!==me.CODE_STOP&&(ge++,xe+=ge*ne),B=U,U+=F.reduce((tc,Us)=>tc+Us,0),ne){case me.CODE_START_A:case me.CODE_START_B:case me.CODE_START_C:throw new Z}switch(y){case me.CODE_CODE_A:if(ne<64)Ye===it?R+=String.fromCharCode(32+ne):R+=String.fromCharCode(32+ne+128),Ye=!1;else if(ne<96)Ye===it?R+=String.fromCharCode(ne-64):R+=String.fromCharCode(ne+64),Ye=!1;else switch(ne!==me.CODE_STOP&&(de=!1),ne){case me.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_A:!it&&Ye?(it=!0,Ye=!1):it&&Ye?(it=!1,Ye=!1):Ye=!0;break;case me.CODE_SHIFT:N=!0,y=me.CODE_CODE_B;break;case me.CODE_CODE_B:y=me.CODE_CODE_B;break;case me.CODE_CODE_C:y=me.CODE_CODE_C;break;case me.CODE_STOP:b=!0;break}break;case me.CODE_CODE_B:if(ne<96)Ye===it?R+=String.fromCharCode(32+ne):R+=String.fromCharCode(32+ne+128),Ye=!1;else switch(ne!==me.CODE_STOP&&(de=!1),ne){case me.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case me.CODE_FNC_2:case me.CODE_FNC_3:break;case me.CODE_FNC_4_B:!it&&Ye?(it=!0,Ye=!1):it&&Ye?(it=!1,Ye=!1):Ye=!0;break;case me.CODE_SHIFT:N=!0,y=me.CODE_CODE_A;break;case me.CODE_CODE_A:y=me.CODE_CODE_A;break;case me.CODE_CODE_C:y=me.CODE_CODE_C;break;case me.CODE_STOP:b=!0;break}break;case me.CODE_CODE_C:if(ne<100)ne<10&&(R+="0"),R+=ne;else switch(ne!==me.CODE_STOP&&(de=!1),ne){case me.CODE_FNC_1:c&&(R.length===0?R+="]C1":R+="");break;case me.CODE_CODE_A:y=me.CODE_CODE_A;break;case me.CODE_CODE_B:y=me.CODE_CODE_B;break;case me.CODE_STOP:b=!0;break}break}Da&&(y=y===me.CODE_CODE_A?me.CODE_CODE_B:me.CODE_CODE_A)}const cn=U-B;if(U=a.getNextUnset(U),!a.isRange(U,Math.min(a.getSize(),U+(U-B)/2),!1))throw new W;if(xe-=ge*V,xe%103!==V)throw new L;const ci=R.length;if(ci===0)throw new W;ci>0&&de&&(y===me.CODE_CODE_C?R=R.substring(0,ci-2):R=R.substring(0,ci-1));const Pn=(u[1]+u[0])/2,Mt=B+cn/2,In=w.length,ti=new Uint8Array(In);for(let Da=0;Da<In;Da++)ti[Da]=w[Da];const gr=[new Ie(Pn,t),new Ie(Mt,t)];return new Se(R,ti,0,gr,_e.CODE_128,new Date().getTime())}}me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],me.MAX_AVG_VARIANCE=.25,me.MAX_INDIVIDUAL_VARIANCE=.7,me.CODE_SHIFT=98,me.CODE_CODE_C=99,me.CODE_CODE_B=100,me.CODE_CODE_A=101,me.CODE_FNC_1=102,me.CODE_FNC_2=97,me.CODE_FNC_3=96,me.CODE_FNC_4_A=101,me.CODE_FNC_4_B=100,me.CODE_START_A=103,me.CODE_START_B=104,me.CODE_START_C=105,me.CODE_STOP=106;class Rt extends Ut{constructor(t=!1,a=!1){super(),this.usingCheckDigit=t,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,a,r){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Rt.findAsteriskPattern(a,c),h=a.getNextSet(u[1]),g=a.getSize(),w,y;do{Rt.recordPattern(a,h,c);let F=Rt.toNarrowWidePattern(c);if(F<0)throw new W;w=Rt.patternToChar(F),this.decodeRowResult+=w,y=h;for(let V of c)h+=V;h=a.getNextSet(h)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let F of c)b+=F;let N=h-y-b;if(h!==g&&N*2<b)throw new W;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,V=0;for(let ne=0;ne<F;ne++)V+=Rt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(F)!==Rt.ALPHABET_STRING.charAt(V%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new W;let R;this.extendedMode?R=Rt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let B=(u[1]+u[0])/2,U=y+b/2;return new Se(R,null,0,[new Ie(B,t),new Ie(U,t)],_e.CODE_39,new Date().getTime())}static findAsteriskPattern(t,a){let r=t.getSize(),c=t.getNextSet(0),u=0,h=c,g=!1,w=a.length;for(let y=c;y<r;y++)if(t.get(y)!==g)a[u]++;else{if(u===w-1){if(this.toNarrowWidePattern(a)===Rt.ASTERISK_ENCODING&&t.isRange(Math.max(0,h-Math.floor((y-h)/2)),h,!1))return[h,y];h+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,g=!g}throw new W}static toNarrowWidePattern(t){let a=t.length,r=0,c;do{let u=2147483647;for(let w of t)w<u&&w>r&&(u=w);r=u,c=0;let h=0,g=0;for(let w=0;w<a;w++){let y=t[w];y>r&&(g|=1<<a-1-w,c++,h+=y)}if(c===3){for(let w=0;w<a&&c>0;w++){let y=t[w];if(y>r&&(c--,y*2>=h))return-1}return g}}while(c>3);return-1}static patternToChar(t){for(let a=0;a<Rt.CHARACTER_ENCODINGS.length;a++)if(Rt.CHARACTER_ENCODINGS[a]===t)return Rt.ALPHABET_STRING.charAt(a);if(t===Rt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(t){let a=t.length,r="";for(let c=0;c<a;c++){let u=t.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=t.charAt(c+1),g="\0";switch(u){case"+":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)+32);else throw new Z;break;case"$":if(h>="A"&&h<="Z")g=String.fromCharCode(h.charCodeAt(0)-64);else throw new Z;break;case"%":if(h>="A"&&h<="E")g=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")g=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")g=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")g="\0";else if(h==="V")g="@";else if(h==="W")g="`";else if(h==="X"||h==="Y"||h==="Z")g="";else throw new Z;break;case"/":if(h>="A"&&h<="O")g=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")g=":";else throw new Z;break}r+=g,c++}else r+=u}return r}}Rt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Rt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Rt.ASTERISK_ENCODING=148;class $e extends Ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,a,r){let c=this.decodeStart(a),u=this.decodeEnd(a),h=new Xe;$e.decodeMiddle(a,c[1],u[0],h);let g=h.toString(),w=null;r!=null&&(w=r.get(ye.ALLOWED_LENGTHS)),w==null&&(w=$e.DEFAULT_ALLOWED_LENGTHS);let y=g.length,b=!1,N=0;for(let U of w){if(y===U){b=!0;break}U>N&&(N=U)}if(!b&&y>N&&(b=!0),!b)throw new Z;const R=[new Ie(c[1],t),new Ie(u[0],t)];return new Se(g,null,0,R,_e.ITF,new Date().getTime())}static decodeMiddle(t,a,r,c){let u=new Int32Array(10),h=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),h.fill(0),g.fill(0);a<r;){Ut.recordPattern(t,a,u);for(let y=0;y<5;y++){let b=2*y;h[y]=u[b],g[y]=u[b+1]}let w=$e.decodeDigit(h);c.append(w.toString()),w=this.decodeDigit(g),c.append(w.toString()),u.forEach(function(y){a+=y})}}decodeStart(t){let a=$e.skipWhiteSpace(t),r=$e.findGuardPattern(t,a,$e.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,a){let r=this.narrowLineWidth*10;r=r<a?r:a;for(let c=a-1;r>0&&c>=0&&!t.get(c);c--)r--;if(r!==0)throw new W}static skipWhiteSpace(t){const a=t.getSize(),r=t.getNextSet(0);if(r===a)throw new W;return r}decodeEnd(t){t.reverse();try{let a=$e.skipWhiteSpace(t),r;try{r=$e.findGuardPattern(t,a,$e.END_PATTERN_REVERSED[0])}catch(u){u instanceof W&&(r=$e.findGuardPattern(t,a,$e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let c=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-c,r}finally{t.reverse()}}static findGuardPattern(t,a,r){let c=r.length,u=new Int32Array(c),h=t.getSize(),g=!1,w=0,y=a;u.fill(0);for(let b=a;b<h;b++)if(t.get(b)!==g)u[w]++;else{if(w===c-1){if(Ut.patternMatchVariance(u,r,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return[y,b];y+=u[0]+u[1],re.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,g=!g}throw new W}static decodeDigit(t){let a=$e.MAX_AVG_VARIANCE,r=-1,c=$e.PATTERNS.length;for(let u=0;u<c;u++){let h=$e.PATTERNS[u],g=Ut.patternMatchVariance(t,h,$e.MAX_INDIVIDUAL_VARIANCE);g<a?(a=g,r=u):g===a&&(r=-1)}if(r>=0)return r%10;throw new W}}$e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],$e.MAX_AVG_VARIANCE=.38,$e.MAX_INDIVIDUAL_VARIANCE=.5,$e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],$e.START_PATTERN=Int32Array.from([1,1,1,1]),$e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Wt extends Ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let a=!1,r,c=0,u=Int32Array.from([0,0,0]);for(;!a;){u=Int32Array.from([0,0,0]),r=Wt.findGuardPattern(t,c,!1,this.START_END_PATTERN,u);let h=r[0];c=r[1];let g=h-(c-h);g>=0&&(a=t.isRange(g,h,!1))}return r}static checkChecksum(t){return Wt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let r=parseInt(t.charAt(a-1),10);return Wt.getStandardUPCEANChecksum(t.substring(0,a-1))===r}static getStandardUPCEANChecksum(t){let a=t.length,r=0;for(let c=a-1;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Z;r+=u}r*=3;for(let c=a-2;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Z;r+=u}return(1e3-r)%10}static decodeEnd(t,a){return Wt.findGuardPattern(t,a,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,a,r,c){return this.findGuardPattern(t,a,r,c,new Int32Array(c.length))}static findGuardPattern(t,a,r,c,u){let h=t.getSize();a=r?t.getNextUnset(a):t.getNextSet(a);let g=0,w=a,y=c.length,b=r;for(let N=a;N<h;N++)if(t.get(N)!==b)u[g]++;else{if(g===y-1){if(Ut.patternMatchVariance(u,c,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return Int32Array.from([w,N]);w+=u[0]+u[1];let R=u.slice(2,u.length-1);for(let B=0;B<g-1;B++)u[B]=R[B];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,b=!b}throw new W}static decodeDigit(t,a,r,c){this.recordPattern(t,r,a);let u=this.MAX_AVG_VARIANCE,h=-1,g=c.length;for(let w=0;w<g;w++){let y=c[w],b=Ut.patternMatchVariance(a,y,Wt.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,h=w)}if(h>=0)return h;throw new W}}Wt.MAX_AVG_VARIANCE=.48,Wt.MAX_INDIVIDUAL_VARIANCE=.7,Wt.START_END_PATTERN=Int32Array.from([1,1,1]),Wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,r){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,r,c),h=c.toString(),g=Xr.parseExtensionString(h),w=[new Ie((r[0]+r[1])/2,t),new Ie(u,t)],y=new Se(h,null,0,w,_e.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&y.putAllMetadata(g),y}decodeMiddle(t,a,r){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=a[1],g=0;for(let y=0;y<5&&h<u;y++){let b=Wt.decodeDigit(t,c,h,Wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+b%10);for(let N of c)h+=N;b>=10&&(g|=1<<4-y),y!==4&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(r.length!==5)throw new W;let w=this.determineCheckDigit(g);if(Xr.extensionChecksum(r.toString())!==w)throw new W;return h}static extensionChecksum(t){let a=t.length,r=0;for(let c=a-2;c>=0;c-=2)r+=t.charAt(c).charCodeAt(0)-48;r*=3;for(let c=a-1;c>=0;c-=2)r+=t.charAt(c).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let a=0;a<10;a++)if(t===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new W}static parseExtensionString(t){if(t.length!==5)return null;let a=Xr.parseExtension5String(t);return a==null?null:new Map([[rt.SUGGESTED_PRICE,a]])}static parseExtension5String(t){let a;switch(t.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let r=parseInt(t.substring(1)),c=(r/100).toString(),u=r%100,h=u<10?"0"+u:u.toString();return a+c+"."+h}}class Ts{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,r){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(a,r,c),h=c.toString(),g=Ts.parseExtensionString(h),w=[new Ie((r[0]+r[1])/2,t),new Ie(u,t)],y=new Se(h,null,0,w,_e.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&y.putAllMetadata(g),y}decodeMiddle(t,a,r){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=a[1],g=0;for(let w=0;w<2&&h<u;w++){let y=Wt.decodeDigit(t,c,h,Wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let b of c)h+=b;y>=10&&(g|=1<<1-w),w!==1&&(h=t.getNextSet(h),h=t.getNextUnset(h))}if(r.length!==2)throw new W;if(parseInt(r.toString())%4!==g)throw new W;return h}static parseExtensionString(t){return t.length!==2?null:new Map([[rt.ISSUE_NUMBER,parseInt(t)]])}}class jr{static decodeRow(t,a,r){let c=Wt.findGuardPattern(a,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xr().decodeRow(t,a,c)}catch{return new Ts().decodeRow(t,a,c)}}}jr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends Wt{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let a=ht.L_PATTERNS[t-10],r=new Int32Array(a.length);for(let c=0;c<a.length;c++)r[c]=a[a.length-c-1];ht.L_AND_G_PATTERNS[t]=r}}decodeRow(t,a,r){let c=ht.findStartGuardPattern(a),u=r==null?null:r.get(ye.NEED_RESULT_POINT_CALLBACK);if(u!=null){const de=new Ie((c[0]+c[1])/2,t);u.foundPossibleResultPoint(de)}let h=this.decodeMiddle(a,c,this.decodeRowStringBuffer),g=h.rowOffset,w=h.resultString;if(u!=null){const de=new Ie(g,t);u.foundPossibleResultPoint(de)}let y=this.decodeEnd(a,g);if(u!=null){const de=new Ie((y[0]+y[1])/2,t);u.foundPossibleResultPoint(de)}let b=y[1],N=b+(b-y[0]);if(N>=a.getSize()||!a.isRange(b,N,!1))throw new W;let R=w.toString();if(R.length<8)throw new Z;if(!ht.checkChecksum(R))throw new L;let B=(c[1]+c[0])/2,U=(y[1]+y[0])/2,F=this.getBarcodeFormat(),V=[new Ie(B,t),new Ie(U,t)],ne=new Se(R,null,0,V,F,new Date().getTime()),xe=0;try{let de=jr.decodeRow(t,a,y[1]);ne.putMetadata(rt.UPC_EAN_EXTENSION,de.getText()),ne.putAllMetadata(de.getResultMetadata()),ne.addResultPoints(de.getResultPoints()),xe=de.getText().length}catch{}let ge=r==null?null:r.get(ye.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let de=!1;for(let it in ge)if(xe.toString()===it){de=!0;break}if(!de)throw new W}return ne}decodeEnd(t,a){return ht.findGuardPattern(t,a,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return ht.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let r=parseInt(t.charAt(a-1),10);return ht.getStandardUPCEANChecksum(t.substring(0,a-1))===r}static getStandardUPCEANChecksum(t){let a=t.length,r=0;for(let c=a-1;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Z;r+=u}r*=3;for(let c=a-2;c>=0;c-=2){let u=t.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new Z;r+=u}return(1e3-r)%10}}class ki extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,r){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=a[1],g=0;for(let y=0;y<6&&h<u;y++){let b=ht.decodeDigit(t,c,h,ht.L_AND_G_PATTERNS);r+=String.fromCharCode(48+b%10);for(let N of c)h+=N;b>=10&&(g|=1<<5-y)}r=ki.determineFirstDigit(r,g),h=ht.findGuardPattern(t,h,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&h<u;y++){let b=ht.decodeDigit(t,c,h,ht.L_PATTERNS);r+=String.fromCharCode(48+b);for(let N of c)h+=N}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return _e.EAN_13}static determineFirstDigit(t,a){for(let r=0;r<10;r++)if(a===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new W}}ki.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ca extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,r){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h=a[1];for(let w=0;w<4&&h<u;w++){let y=ht.decodeDigit(t,c,h,ht.L_PATTERNS);r+=String.fromCharCode(48+y);for(let b of c)h+=b}h=ht.findGuardPattern(t,h,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&h<u;w++){let y=ht.decodeDigit(t,c,h,ht.L_PATTERNS);r+=String.fromCharCode(48+y);for(let b of c)h+=b}return{rowOffset:h,resultString:r}}getBarcodeFormat(){return _e.EAN_8}}class Yr extends ht{constructor(){super(...arguments),this.ean13Reader=new ki}getBarcodeFormat(){return _e.UPC_A}decode(t,a){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,a,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,a,r))}decodeMiddle(t,a,r){return this.ean13Reader.decodeMiddle(t,a,r)}maybeReturnResult(t){let a=t.getText();if(a.charAt(0)==="0"){let r=new Se(a.substring(1),null,null,t.getResultPoints(),_e.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new W}reset(){this.ean13Reader.reset()}}class Fn extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,a,r){const c=this.decodeMiddleCounters.map(y=>y);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=t.getSize();let h=a[1],g=0;for(let y=0;y<6&&h<u;y++){const b=Fn.decodeDigit(t,c,h,Fn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+b%10);for(let N of c)h+=N;b>=10&&(g|=1<<5-y)}let w=Fn.determineNumSysAndCheckDigit(r,g);return{rowOffset:h,resultString:w}}decodeEnd(t,a){return Fn.findGuardPatternWithoutCounters(t,a,!0,Fn.MIDDLE_END_PATTERN)}checkChecksum(t){return ht.checkChecksum(Fn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,a){for(let r=0;r<=1;r++)for(let c=0;c<10;c++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][c]){let u=String.fromCharCode(48+r),h=String.fromCharCode(48+c);return u+t+h}throw W.getNotFoundInstance()}getBarcodeFormat(){return _e.UPC_E}static convertUPCEtoUPCA(t){const a=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),r=new Xe;r.append(t.charAt(0));let c=a[5];switch(c){case 0:case 1:case 2:r.appendChars(a,0,2),r.append(c),r.append("0000"),r.appendChars(a,2,3);break;case 3:r.appendChars(a,0,3),r.append("00000"),r.appendChars(a,3,2);break;case 4:r.appendChars(a,0,4),r.append("00000"),r.append(a[4]);break;default:r.appendChars(a,0,5),r.append("0000"),r.append(c);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}Fn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Os extends Ut{constructor(t){super();let a=t==null?null:t.get(ye.POSSIBLE_FORMATS),r=[];d(a)?(r.push(new ki),r.push(new Yr),r.push(new ca),r.push(new Fn)):(a.indexOf(_e.EAN_13)>-1&&r.push(new ki),a.indexOf(_e.UPC_A)>-1&&r.push(new Yr),a.indexOf(_e.EAN_8)>-1&&r.push(new ca),a.indexOf(_e.UPC_E)>-1&&r.push(new Fn)),this.readers=r}decodeRow(t,a,r){for(let c of this.readers)try{const u=c.decodeRow(t,a,r),h=u.getBarcodeFormat()===_e.EAN_13&&u.getText().charAt(0)==="0",g=r==null?null:r.get(ye.POSSIBLE_FORMATS),w=g==null||g.includes(_e.UPC_A);if(h&&w){const y=u.getRawBytes(),b=new Se(u.getText().substring(1),y,y?y.length:null,u.getResultPoints(),_e.UPC_A);return b.putAllMetadata(u.getResultMetadata()),b}return u}catch{}throw new W}reset(){for(let t of this.readers)t.reset()}}class On extends Ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,a){for(let r=0;r<a.length;r++)if(Ut.patternMatchVariance(t,a[r],On.MAX_INDIVIDUAL_VARIANCE)<On.MAX_AVG_VARIANCE)return r;throw new W}static count(t){return nt.sum(new Int32Array(t))}static increment(t,a){let r=0,c=a[0];for(let u=1;u<t.length;u++)a[u]>c&&(c=a[u],r=u);t[r]++}static decrement(t,a){let r=0,c=a[0];for(let u=1;u<t.length;u++)a[u]<c&&(c=a[u],r=u);t[r]--}static isFinderPattern(t){let a=t[0]+t[1],r=a+t[2]+t[3],c=a/r;if(c>=On.MIN_FINDER_PATTERN_RATIO&&c<=On.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let g of t)g>h&&(h=g),g<u&&(u=g);return h<10*u}return!1}}On.MAX_AVG_VARIANCE=.2,On.MAX_INDIVIDUAL_VARIANCE=.45,On.MIN_FINDER_PATTERN_RATIO=9.5/12,On.MAX_FINDER_PATTERN_RATIO=12.5/14;class ua{constructor(t,a){this.value=t,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ua))return!1;const a=t;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class fa{constructor(t,a,r,c,u){this.value=t,this.startEnd=a,this.value=t,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new Ie(r,u)),this.resultPoints.push(new Ie(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof fa))return!1;const a=t;return this.value===a.value}hashCode(){return this.value}}class Li{constructor(){}static getRSSvalue(t,a,r){let c=0;for(let w of t)c+=w;let u=0,h=0,g=t.length;for(let w=0;w<g-1;w++){let y;for(y=1,h|=1<<w;y<t[w];y++,h&=~(1<<w)){let b=Li.combins(c-y-1,g-w-2);if(r&&h===0&&c-y-(g-w-1)>=g-w-1&&(b-=Li.combins(c-y-(g-w),g-w-2)),g-w-1>1){let N=0;for(let R=c-y-(g-w-2);R>a;R--)N+=Li.combins(c-y-R-1,g-w-3);b-=N*(g-1-w)}else c-y>a&&b--;u+=b}c-=y}return u}static combins(t,a){let r,c;t-a>a?(c=a,r=t-a):(c=t-a,r=a);let u=1,h=1;for(let g=t;g>r;g--)u*=g,h<=c&&(u/=h,h++);for(;h<=c;)u/=h,h++;return u}}class Ho{static buildBitArray(t){let a=t.length*2-1;t[t.length-1].getRightChar()==null&&(a-=1);let r=12*a,c=new Y(r),u=0,g=t[0].getRightChar().getValue();for(let w=11;w>=0;--w)(g&1<<w)!=0&&c.set(u),u++;for(let w=1;w<t.length;++w){let y=t[w],b=y.getLeftChar().getValue();for(let N=11;N>=0;--N)(b&1<<N)!=0&&c.set(u),u++;if(y.getRightChar()!=null){let N=y.getRightChar().getValue();for(let R=11;R>=0;--R)(N&1<<R)!=0&&c.set(u),u++}}return c}}class ha{constructor(t,a){a?this.decodedInformation=null:(this.finished=t,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Rl{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Bn extends Rl{constructor(t,a){super(t),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Bn.FNC1}}Bn.FNC1="$";class $i extends Rl{constructor(t,a,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Qn extends Rl{constructor(t,a,r){if(super(t),a<0||a>10||r<0||r>10)throw new Z;this.firstDigit=a,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Qn.FNC1}isAnyFNC1(){return this.firstDigit===Qn.FNC1||this.secondDigit===Qn.FNC1}}Qn.FNC1=10;class Re{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new W;let a=t.substring(0,2);for(let u of Re.TWO_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(2,u[2],t):Re.processFixedAI(2,u[1],t);if(t.length<3)throw new W;let r=t.substring(0,3);for(let u of Re.THREE_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(3,u[2],t):Re.processFixedAI(3,u[1],t);for(let u of Re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(4,u[2],t):Re.processFixedAI(4,u[1],t);if(t.length<4)throw new W;let c=t.substring(0,4);for(let u of Re.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(4,u[2],t):Re.processFixedAI(4,u[1],t);throw new W}static processFixedAI(t,a,r){if(r.length<t)throw new W;let c=r.substring(0,t);if(r.length<t+a)throw new W;let u=r.substring(t,t+a),h=r.substring(t+a),g="("+c+")"+u,w=Re.parseFieldsInGeneralPurpose(h);return w==null?g:g+w}static processVariableAI(t,a,r){let c=r.substring(0,t),u;r.length<t+a?u=r.length:u=t+a;let h=r.substring(t,u),g=r.substring(u),w="("+c+")"+h,y=Re.parseFieldsInGeneralPurpose(g);return y==null?w:w+y}}Re.VARIABLE_LENGTH=[],Re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Re.VARIABLE_LENGTH,20],["22",Re.VARIABLE_LENGTH,29],["30",Re.VARIABLE_LENGTH,8],["37",Re.VARIABLE_LENGTH,8],["90",Re.VARIABLE_LENGTH,30],["91",Re.VARIABLE_LENGTH,30],["92",Re.VARIABLE_LENGTH,30],["93",Re.VARIABLE_LENGTH,30],["94",Re.VARIABLE_LENGTH,30],["95",Re.VARIABLE_LENGTH,30],["96",Re.VARIABLE_LENGTH,30],["97",Re.VARIABLE_LENGTH,3],["98",Re.VARIABLE_LENGTH,30],["99",Re.VARIABLE_LENGTH,30]],Re.THREE_DIGIT_DATA_LENGTH=[["240",Re.VARIABLE_LENGTH,30],["241",Re.VARIABLE_LENGTH,30],["242",Re.VARIABLE_LENGTH,6],["250",Re.VARIABLE_LENGTH,30],["251",Re.VARIABLE_LENGTH,30],["253",Re.VARIABLE_LENGTH,17],["254",Re.VARIABLE_LENGTH,20],["400",Re.VARIABLE_LENGTH,30],["401",Re.VARIABLE_LENGTH,30],["402",17],["403",Re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Re.VARIABLE_LENGTH,20],["421",Re.VARIABLE_LENGTH,15],["422",3],["423",Re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Re.VARIABLE_LENGTH,15],["391",Re.VARIABLE_LENGTH,18],["392",Re.VARIABLE_LENGTH,15],["393",Re.VARIABLE_LENGTH,18],["703",Re.VARIABLE_LENGTH,30]],Re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Re.VARIABLE_LENGTH,20],["8003",Re.VARIABLE_LENGTH,30],["8004",Re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Re.VARIABLE_LENGTH,30],["8008",Re.VARIABLE_LENGTH,12],["8018",18],["8020",Re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Re.VARIABLE_LENGTH,70],["8200",Re.VARIABLE_LENGTH,70]];class Wn{constructor(t){this.buffer=new Xe,this.information=t}decodeAllCodes(t,a){let r=a,c=null;do{let u=this.decodeGeneralPurposeField(r,c),h=Re.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&t.append(h),u.isRemaining()?c=""+u.getRemainingValue():c=null,r===u.getNewPosition())break;r=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let a=t;a<t+3;++a)if(this.information.get(a))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new Qn(this.information.getSize(),Qn.FNC1,Qn.FNC1):new Qn(this.information.getSize(),u-1,Qn.FNC1)}let a=this.extractNumericValueFromBitArray(t,7),r=(a-8)/11,c=(a-8)%11;return new Qn(t+7,r,c)}extractNumericValueFromBitArray(t,a){return Wn.extractNumericValueFromBitArray(this.information,t,a)}static extractNumericValueFromBitArray(t,a,r){let c=0;for(let u=0;u<r;++u)t.get(a+u)&&(c|=1<<r-u-1);return c}decodeGeneralPurposeField(t,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new $i(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new $i(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,a;do{let r=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),t=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),t=a.isFinished()):(a=this.parseNumericBlock(),t=a.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let a;return t.isSecondDigitFNC1()?a=new $i(this.current.getPosition(),this.buffer.toString()):a=new $i(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new ha(!0,a)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let a=new $i(this.current.getPosition(),this.buffer.toString());return new ha(!0,a)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ha(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new $i(this.current.getPosition(),this.buffer.toString());return new ha(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ha(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new $i(this.current.getPosition(),this.buffer.toString());return new ha(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ha(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(t,8);return c>=232&&c<253}decodeIsoIec646(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new Bn(t+5,Bn.FNC1);if(a>=5&&a<15)return new Bn(t+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Bn(t+7,""+(r+1));if(r>=90&&r<116)return new Bn(t+7,""+(r+7));let c=this.extractNumericValueFromBitArray(t,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new Z}return new Bn(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new Bn(t+5,Bn.FNC1);if(a>=5&&a<15)return new Bn(t+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Bn(t+6,""+(r+33));let c;switch(r){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Un("Decoding invalid alphanumeric value: "+r)}return new Bn(t+6,c)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<5&&a+t<this.information.getSize();++a)if(a===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+a))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let a=t;a<t+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<4&&a+t<this.information.getSize();++a)if(this.information.get(t+a))return!1;return!0}}class gn{constructor(t){this.information=t,this.generalDecoder=new Wn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Bt extends gn{constructor(t){super(t)}encodeCompressedGtin(t,a){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,a,r)}encodeCompressedGtinWithoutAI(t,a,r){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*c,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}Bt.appendCheckDigit(t,r)}static appendCheckDigit(t,a){let r=0;for(let c=0;c<13;c++){let u=t.charAt(c+a).charCodeAt(0)-48;r+=(c&1)===0?3*u:u}r=10-r%10,r===10&&(r=0),t.append(r)}}Bt.GTIN_SIZE=40;class wi extends Bt{constructor(t){super(t)}parseInformation(){let t=new Xe;t.append("(01)");let a=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(wi.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,wi.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(t,wi.HEADER_SIZE+44)}}wi.HEADER_SIZE=4;class tr extends gn{constructor(t){super(t)}parseInformation(){let t=new Xe;return this.getGeneralDecoder().decodeAllCodes(t,tr.HEADER_SIZE)}}tr.HEADER_SIZE=5;class Il extends Bt{constructor(t){super(t)}encodeCompressedWeight(t,a,r){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,r);this.addWeightCode(t,c);let u=this.checkWeight(c),h=1e5;for(let g=0;g<5;++g)u/h===0&&t.append("0"),h/=10;t.append(u)}}class zi extends Il{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=zi.HEADER_SIZE+Il.GTIN_SIZE+zi.WEIGHT_SIZE)throw new W;let t=new Xe;return this.encodeCompressedGtin(t,zi.HEADER_SIZE),this.encodeCompressedWeight(t,zi.HEADER_SIZE+Il.GTIN_SIZE,zi.WEIGHT_SIZE),t.toString()}}zi.HEADER_SIZE=5,zi.WEIGHT_SIZE=15;class Zo extends zi{constructor(t){super(t)}addWeightCode(t,a){t.append("(3103)")}checkWeight(t){return t}}class qr extends zi{constructor(t){super(t)}addWeightCode(t,a){a<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class li extends Bt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<li.HEADER_SIZE+Bt.GTIN_SIZE)throw new W;let t=new Xe;this.encodeCompressedGtin(t,li.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(li.HEADER_SIZE+Bt.GTIN_SIZE,li.LAST_DIGIT_SIZE);t.append("(392"),t.append(a),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(li.HEADER_SIZE+Bt.GTIN_SIZE+li.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}li.HEADER_SIZE=8,li.LAST_DIGIT_SIZE=2;class sn extends Bt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<sn.HEADER_SIZE+Bt.GTIN_SIZE)throw new W;let t=new Xe;this.encodeCompressedGtin(t,sn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+Bt.GTIN_SIZE,sn.LAST_DIGIT_SIZE);t.append("(393"),t.append(a),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+Bt.GTIN_SIZE+sn.LAST_DIGIT_SIZE,sn.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let c=this.getGeneralDecoder().decodeGeneralPurposeField(sn.HEADER_SIZE+Bt.GTIN_SIZE+sn.LAST_DIGIT_SIZE+sn.FIRST_THREE_DIGITS_SIZE,null);return t.append(c.getNewString()),t.toString()}}sn.HEADER_SIZE=8,sn.LAST_DIGIT_SIZE=2,sn.FIRST_THREE_DIGITS_SIZE=10;class vt extends Il{constructor(t,a,r){super(t),this.dateCode=r,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE+vt.DATE_SIZE)throw new W;let t=new Xe;return this.encodeCompressedGtin(t,vt.HEADER_SIZE),this.encodeCompressedWeight(t,vt.HEADER_SIZE+vt.GTIN_SIZE,vt.WEIGHT_SIZE),this.encodeCompressedDate(t,vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,a){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(a,vt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let c=r%32;r/=32;let u=r%12+1;r/=12;let h=r;h/10==0&&t.append("0"),t.append(h),u/10==0&&t.append("0"),t.append(u),c/10==0&&t.append("0"),t.append(c)}addWeightCode(t,a){t.append("("),t.append(this.firstAIdigits),t.append(a/1e5),t.append(")")}checkWeight(t){return t%1e5}}vt.HEADER_SIZE=8,vt.WEIGHT_SIZE=20,vt.DATE_SIZE=16;function nr(O){try{if(O.get(1))return new wi(O);if(!O.get(2))return new tr(O);switch(Wn.extractNumericValueFromBitArray(O,1,4)){case 4:return new Zo(O);case 5:return new qr(O)}switch(Wn.extractNumericValueFromBitArray(O,1,5)){case 12:return new li(O);case 13:return new sn(O)}switch(Wn.extractNumericValueFromBitArray(O,1,7)){case 56:return new vt(O,"310","11");case 57:return new vt(O,"320","11");case 58:return new vt(O,"310","13");case 59:return new vt(O,"320","13");case 60:return new vt(O,"310","15");case 61:return new vt(O,"320","15");case 62:return new vt(O,"310","17");case 63:return new vt(O,"320","17")}}catch(t){throw console.log(t),new Un("unknown decoder: "+O)}}class Jn{constructor(t,a,r,c){this.leftchar=t,this.rightchar=a,this.finderpattern=r,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,a){return t instanceof Jn?Jn.equalsOrNull(t.leftchar,a.leftchar)&&Jn.equalsOrNull(t.rightchar,a.rightchar)&&Jn.equalsOrNull(t.finderpattern,a.finderpattern):!1}static equalsOrNull(t,a){return t===null?a===null:Jn.equals(t,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class on{constructor(t,a,r){this.pairs=t,this.rowNumber=a,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,a){return t instanceof on?this.checkEqualitity(t,a)&&t.wasReversed===a.wasReversed:!1}checkEqualitity(t,a){if(!t||!a)return;let r;return t.forEach((c,u)=>{a.forEach(h=>{c.getLeftChar().getValue()===h.getLeftChar().getValue()&&c.getRightChar().getValue()===h.getRightChar().getValue()&&c.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(r=!0)})}),r}}class he extends On{constructor(t){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,a,r){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(t,a))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(t,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,a){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,t))}catch(u){if(u instanceof W){if(!this.pairs.length)throw new W;r=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(t,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new W}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),a}checkRows(t,a){for(let r=a;r<this.rows.length;r++){let c=this.rows[r];this.pairs.length=0;for(let h of t)this.pairs.push(h.getPairs());if(this.pairs.push(c.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(c);try{return this.checkRows(u,r+1)}catch(h){this.verbose&&console.log(h)}}throw new W}static isValidSequence(t){for(let a of he.FINDER_PATTERN_SEQUENCES){if(t.length>a.length)continue;let r=!0;for(let c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!=a[c]){r=!1;break}if(r)return!0}return!1}storeRow(t,a){let r=0,c=!1,u=!1;for(;r<this.rows.length;){let h=this.rows[r];if(h.getRowNumber()>t){u=h.isEquivalent(this.pairs);break}c=h.isEquivalent(this.pairs),r++}u||c||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new on(this.pairs,t,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,a){for(let r of a)if(r.getPairs().length!==t.length){for(let c of r.getPairs())for(let u of t)if(Jn.equals(c,u))break}}static isPartialRow(t,a){for(let r of a){let c=!0;for(let u of t){let h=!1;for(let g of r.getPairs())if(u.equals(g)){h=!0;break}if(!h){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(t){let a=Ho.buildBitArray(t),c=nr(a).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),h=t[t.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],h[0],h[1]];return new Se(c,null,null,g,_e.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),a=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let c=r.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let w=this.pairs.get(g);c+=w.getLeftChar().getChecksumPortion(),u++;let y=w.getRightChar();y!=null&&(c+=y.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==a.getValue()}static getNextSecondBar(t,a){let r;return t.get(a)?(r=t.getNextUnset(a),r=t.getNextSet(r)):(r=t.getNextSet(a),r=t.getNextUnset(r)),r}retrieveNextPair(t,a,r){let c=a.length%2==0;this.startFromEven&&(c=!c);let u,h=!0,g=-1;do this.findNextPair(t,a,g),u=this.parseFoundFinderPattern(t,r,c),u==null?g=he.getNextSecondBar(t,this.startEnd[0]):h=!1;while(h);let w=this.decodeDataCharacter(t,u,c,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new W;let y;try{y=this.decodeDataCharacter(t,u,c,!1)}catch(b){y=null,this.verbose&&console.log(b)}return new Jn(w,y,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,a,r){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=t.getSize(),h;r>=0?h=r:this.isEmptyPair(a)?h=0:h=a[a.length-1].getFinderPattern().getStartEnd()[1];let g=a.length%2!=0;this.startFromEven&&(g=!g);let w=!1;for(;h<u&&(w=!t.get(h),!!w);)h++;let y=0,b=h;for(let N=h;N<u;N++)if(t.get(N)!=w)c[y]++;else{if(y==3){if(g&&he.reverseCounters(c),he.isFinderPattern(c)){this.startEnd[0]=b,this.startEnd[1]=N;return}g&&he.reverseCounters(c),b+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,w=!w}throw new W}static reverseCounters(t){let a=t.length;for(let r=0;r<a/2;++r){let c=t[r];t[r]=t[a-r-1],t[a-r-1]=c}}parseFoundFinderPattern(t,a,r){let c,u,h;if(r){let y=this.startEnd[0]-1;for(;y>=0&&!t.get(y);)y--;y++,c=this.startEnd[0]-y,u=y,h=this.startEnd[1]}else u=this.startEnd[0],h=t.getNextUnset(this.startEnd[1]+1),c=h-this.startEnd[1];let g=this.getDecodeFinderCounters();re.arraycopy(g,0,g,1,g.length-1),g[0]=c;let w;try{w=this.parseFinderValue(g,he.FINDER_PATTERNS)}catch{return null}return new fa(w,[u,h],u,h,a)}decodeDataCharacter(t,a,r,c){let u=this.getDataCharacterCounters();for(let Mt=0;Mt<u.length;Mt++)u[Mt]=0;if(c)he.recordPatternInReverse(t,a.getStartEnd()[0],u);else{he.recordPattern(t,a.getStartEnd()[1],u);for(let Mt=0,In=u.length-1;Mt<In;Mt++,In--){let ti=u[Mt];u[Mt]=u[In],u[In]=ti}}let h=17,g=nt.sum(new Int32Array(u))/h,w=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(g-w)/w>.3)throw new W;let y=this.getOddCounts(),b=this.getEvenCounts(),N=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let Mt=0;Mt<u.length;Mt++){let In=1*u[Mt]/g,ti=In+.5;if(ti<1){if(In<.3)throw new W;ti=1}else if(ti>8){if(In>8.7)throw new W;ti=8}let gr=Mt/2;(Mt&1)==0?(y[gr]=ti,N[gr]=In-ti):(b[gr]=ti,R[gr]=In-ti)}this.adjustOddEvenCounts(h);let B=4*a.getValue()+(r?0:2)+(c?0:1)-1,U=0,F=0;for(let Mt=y.length-1;Mt>=0;Mt--){if(he.isNotA1left(a,r,c)){let In=he.WEIGHTS[B][2*Mt];F+=y[Mt]*In}U+=y[Mt]}let V=0;for(let Mt=b.length-1;Mt>=0;Mt--)if(he.isNotA1left(a,r,c)){let In=he.WEIGHTS[B][2*Mt+1];V+=b[Mt]*In}let ne=F+V;if((U&1)!=0||U>13||U<4)throw new W;let xe=(13-U)/2,ge=he.SYMBOL_WIDEST[xe],de=9-ge,it=Li.getRSSvalue(y,ge,!0),Ye=Li.getRSSvalue(b,de,!1),cn=he.EVEN_TOTAL_SUBSET[xe],ci=he.GSUM[xe],Pn=it*cn+Ye+ci;return new ua(Pn,ne)}static isNotA1left(t,a,r){return!(t.getValue()==0&&a&&r)}adjustOddEvenCounts(t){let a=nt.sum(new Int32Array(this.getOddCounts())),r=nt.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;a>13?u=!0:a<4&&(c=!0);let h=!1,g=!1;r>13?g=!0:r<4&&(h=!0);let w=a+r-t,y=(a&1)==1,b=(r&1)==0;if(w==1)if(y){if(b)throw new W;u=!0}else{if(!b)throw new W;g=!0}else if(w==-1)if(y){if(b)throw new W;c=!0}else{if(!b)throw new W;h=!0}else if(w==0){if(y){if(!b)throw new W;a<r?(c=!0,g=!0):(u=!0,h=!0)}else if(b)throw new W}else throw new W;if(c){if(u)throw new W;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(g)throw new W;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class Go extends ua{constructor(t,a,r){super(t,a),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends On{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,a,r){const c=this.decodePair(a,!1,t,r);It.addOrTally(this.possibleLeftPairs,c),a.reverse();let u=this.decodePair(a,!0,t,r);It.addOrTally(this.possibleRightPairs,u),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&It.checkChecksum(h,g))return It.constructResult(h,g)}throw new W}static addOrTally(t,a){if(a==null)return;let r=!1;for(let c of t)if(c.getValue()===a.getValue()){c.incrementCount(),r=!0;break}r||t.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,a){let r=4537077*t.getValue()+a.getValue(),c=new String(r).toString(),u=new Xe;for(let y=13-c.length;y>0;y--)u.append("0");u.append(c);let h=0;for(let y=0;y<13;y++){let b=u.charAt(y).charCodeAt(0)-48;h+=(y&1)===0?3*b:b}h=10-h%10,h===10&&(h=0),u.append(h.toString());let g=t.getFinderPattern().getResultPoints(),w=a.getFinderPattern().getResultPoints();return new Se(u.toString(),null,0,[g[0],g[1],w[0],w[1]],_e.RSS_14,new Date().getTime())}static checkChecksum(t,a){let r=(t.getChecksumPortion()+16*a.getChecksumPortion())%79,c=9*t.getFinderPattern().getValue()+a.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,r===c}decodePair(t,a,r,c){try{let u=this.findFinderPattern(t,a),h=this.parseFoundFinderPattern(t,r,a,u),g=c==null?null:c.get(ye.NEED_RESULT_POINT_CALLBACK);if(g!=null){let b=(u[0]+u[1])/2;a&&(b=t.getSize()-1-b),g.foundPossibleResultPoint(new Ie(b,r))}let w=this.decodeDataCharacter(t,h,!0),y=this.decodeDataCharacter(t,h,!1);return new Go(1597*w.getValue()+y.getValue(),w.getChecksumPortion()+4*y.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(t,a,r){let c=this.getDataCharacterCounters();for(let V=0;V<c.length;V++)c[V]=0;if(r)Ut.recordPatternInReverse(t,a.getStartEnd()[0],c);else{Ut.recordPattern(t,a.getStartEnd()[1]+1,c);for(let V=0,ne=c.length-1;V<ne;V++,ne--){let xe=c[V];c[V]=c[ne],c[ne]=xe}}let u=r?16:15,h=nt.sum(new Int32Array(c))/u,g=this.getOddCounts(),w=this.getEvenCounts(),y=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let V=0;V<c.length;V++){let ne=c[V]/h,xe=Math.floor(ne+.5);xe<1?xe=1:xe>8&&(xe=8);let ge=Math.floor(V/2);(V&1)===0?(g[ge]=xe,y[ge]=ne-xe):(w[ge]=xe,b[ge]=ne-xe)}this.adjustOddEvenCounts(r,u);let N=0,R=0;for(let V=g.length-1;V>=0;V--)R*=9,R+=g[V],N+=g[V];let B=0,U=0;for(let V=w.length-1;V>=0;V--)B*=9,B+=w[V],U+=w[V];let F=R+3*B;if(r){if((N&1)!==0||N>12||N<4)throw new W;let V=(12-N)/2,ne=It.OUTSIDE_ODD_WIDEST[V],xe=9-ne,ge=Li.getRSSvalue(g,ne,!1),de=Li.getRSSvalue(w,xe,!0),it=It.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ye=It.OUTSIDE_GSUM[V];return new ua(ge*it+de+Ye,F)}else{if((U&1)!==0||U>10||U<4)throw new W;let V=(10-U)/2,ne=It.INSIDE_ODD_WIDEST[V],xe=9-ne,ge=Li.getRSSvalue(g,ne,!0),de=Li.getRSSvalue(w,xe,!1),it=It.INSIDE_ODD_TOTAL_SUBSET[V],Ye=It.INSIDE_GSUM[V];return new ua(de*it+ge+Ye,F)}}findFinderPattern(t,a){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let c=t.getSize(),u=!1,h=0;for(;h<c&&(u=!t.get(h),a!==u);)h++;let g=0,w=h;for(let y=h;y<c;y++)if(t.get(y)!==u)r[g]++;else{if(g===3){if(On.isFinderPattern(r))return[w,y];w+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,g--}else g++;r[g]=1,u=!u}throw new W}parseFoundFinderPattern(t,a,r,c){let u=t.get(c[0]),h=c[0]-1;for(;h>=0&&u!==t.get(h);)h--;h++;const g=c[0]-h,w=this.getDecodeFinderCounters(),y=new Int32Array(w.length);re.arraycopy(w,0,y,1,w.length-1),y[0]=g;const b=this.parseFinderValue(y,It.FINDER_PATTERNS);let N=h,R=c[1];return r&&(N=t.getSize()-1-N,R=t.getSize()-1-R),new fa(b,[h,c[1]],N,R,a)}adjustOddEvenCounts(t,a){let r=nt.sum(new Int32Array(this.getOddCounts())),c=nt.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,g=!1,w=!1;t?(r>12?h=!0:r<4&&(u=!0),c>12?w=!0:c<4&&(g=!0)):(r>11?h=!0:r<5&&(u=!0),c>10?w=!0:c<4&&(g=!0));let y=r+c-a,b=(r&1)===(t?1:0),N=(c&1)===1;if(y===1)if(b){if(N)throw new W;h=!0}else{if(!N)throw new W;w=!0}else if(y===-1)if(b){if(N)throw new W;u=!0}else{if(!N)throw new W;g=!0}else if(y===0){if(b){if(!N)throw new W;r<c?(u=!0,w=!0):(h=!0,g=!0)}else if(N)throw new W}else throw new W;if(u){if(h)throw new W;On.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&On.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new W;On.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&On.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class _i extends Ut{constructor(t,a){super(),this.readers=[],this.verbose=a===!0;const r=t?t.get(ye.POSSIBLE_FORMATS):null,c=t&&t.get(ye.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(_e.EAN_13)||r.includes(_e.UPC_A)||r.includes(_e.EAN_8)||r.includes(_e.UPC_E))&&this.readers.push(new Os(t)),r.includes(_e.CODE_39)&&this.readers.push(new Rt(c)),r.includes(_e.CODE_128)&&this.readers.push(new me),r.includes(_e.ITF)&&this.readers.push(new $e),r.includes(_e.RSS_14)&&this.readers.push(new It),r.includes(_e.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new Os(t)),this.readers.push(new Rt),this.readers.push(new Os(t)),this.readers.push(new me),this.readers.push(new $e),this.readers.push(new It),this.readers.push(new he(this.verbose)))}decodeRow(t,a,r){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(t,a,r)}catch{}throw new W}reset(){this.readers.forEach(t=>t.reset())}}class Uu extends Ae{constructor(t=500,a){super(new _i(a),t,a)}}class Et{constructor(t,a,r){this.ecCodewords=t,this.ecBlocks=[a],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class _t{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(t,a,r,c,u,h){this.versionNumber=t,this.symbolSizeRows=a,this.symbolSizeColumns=r,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=h;let g=0;const w=h.getECCodewords(),y=h.getECBlocks();for(let b of y)g+=b.getCount()*(b.getDataCodewords()+w);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,a){if((t&1)!==0||(a&1)!==0)throw new Z;for(let r of ot.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===a)return r;throw new Z}toString(){return""+this.versionNumber}static buildVersions(){return[new ot(1,10,10,8,8,new Et(5,new _t(1,3))),new ot(2,12,12,10,10,new Et(7,new _t(1,5))),new ot(3,14,14,12,12,new Et(10,new _t(1,8))),new ot(4,16,16,14,14,new Et(12,new _t(1,12))),new ot(5,18,18,16,16,new Et(14,new _t(1,18))),new ot(6,20,20,18,18,new Et(18,new _t(1,22))),new ot(7,22,22,20,20,new Et(20,new _t(1,30))),new ot(8,24,24,22,22,new Et(24,new _t(1,36))),new ot(9,26,26,24,24,new Et(28,new _t(1,44))),new ot(10,32,32,14,14,new Et(36,new _t(1,62))),new ot(11,36,36,16,16,new Et(42,new _t(1,86))),new ot(12,40,40,18,18,new Et(48,new _t(1,114))),new ot(13,44,44,20,20,new Et(56,new _t(1,144))),new ot(14,48,48,22,22,new Et(68,new _t(1,174))),new ot(15,52,52,24,24,new Et(42,new _t(2,102))),new ot(16,64,64,14,14,new Et(56,new _t(2,140))),new ot(17,72,72,16,16,new Et(36,new _t(4,92))),new ot(18,80,80,18,18,new Et(48,new _t(4,114))),new ot(19,88,88,20,20,new Et(56,new _t(4,144))),new ot(20,96,96,22,22,new Et(68,new _t(4,174))),new ot(21,104,104,24,24,new Et(56,new _t(6,136))),new ot(22,120,120,18,18,new Et(68,new _t(6,175))),new ot(23,132,132,20,20,new Et(62,new _t(8,163))),new ot(24,144,144,22,22,new Et(62,new _t(8,156),new _t(2,155))),new ot(25,8,18,6,16,new Et(7,new _t(1,5))),new ot(26,8,32,6,14,new Et(11,new _t(1,10))),new ot(27,12,26,10,24,new Et(14,new _t(1,16))),new ot(28,12,36,10,16,new Et(18,new _t(1,22))),new ot(29,16,36,14,16,new Et(24,new _t(1,32))),new ot(30,16,48,14,22,new Et(28,new _t(1,49)))]}}ot.VERSIONS=ot.buildVersions();class ir{constructor(t){const a=t.getHeight();if(a<8||a>144||(a&1)!==0)throw new Z;this.version=ir.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new qe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const a=t.getHeight(),r=t.getWidth();return ot.getVersionForDimensions(a,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let a=0,r=4,c=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let g=!1,w=!1,y=!1,b=!1;do if(r===u&&c===0&&!g)t[a++]=this.readCorner1(u,h)&255,r-=2,c+=2,g=!0;else if(r===u-2&&c===0&&(h&3)!==0&&!w)t[a++]=this.readCorner2(u,h)&255,r-=2,c+=2,w=!0;else if(r===u+4&&c===2&&(h&7)===0&&!y)t[a++]=this.readCorner3(u,h)&255,r-=2,c+=2,y=!0;else if(r===u-2&&c===0&&(h&7)===4&&!b)t[a++]=this.readCorner4(u,h)&255,r-=2,c+=2,b=!0;else{do r<u&&c>=0&&!this.readMappingMatrix.get(c,r)&&(t[a++]=this.readUtah(r,c,u,h)&255),r-=2,c+=2;while(r>=0&&c<h);r+=1,c+=3;do r>=0&&c<h&&!this.readMappingMatrix.get(c,r)&&(t[a++]=this.readUtah(r,c,u,h)&255),r+=2,c-=2;while(r<u&&c>=0);r+=3,c+=1}while(r<u||c<h);if(a!==this.version.getTotalCodewords())throw new Z;return t}readModule(t,a,r,c){return t<0&&(t+=r,a+=4-(r+4&7)),a<0&&(a+=c,t+=4-(c+4&7)),this.readMappingMatrix.set(a,t),this.mappingBitMatrix.get(a,t)}readUtah(t,a,r,c){let u=0;return this.readModule(t-2,a-2,r,c)&&(u|=1),u<<=1,this.readModule(t-2,a-1,r,c)&&(u|=1),u<<=1,this.readModule(t-1,a-2,r,c)&&(u|=1),u<<=1,this.readModule(t-1,a-1,r,c)&&(u|=1),u<<=1,this.readModule(t-1,a,r,c)&&(u|=1),u<<=1,this.readModule(t,a-2,r,c)&&(u|=1),u<<=1,this.readModule(t,a-1,r,c)&&(u|=1),u<<=1,this.readModule(t,a,r,c)&&(u|=1),u}readCorner1(t,a){let r=0;return this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,1,t,a)&&(r|=1),r<<=1,this.readModule(t-1,2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(2,a-1,t,a)&&(r|=1),r<<=1,this.readModule(3,a-1,t,a)&&(r|=1),r}readCorner2(t,a){let r=0;return this.readModule(t-3,0,t,a)&&(r|=1),r<<=1,this.readModule(t-2,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(0,a-4,t,a)&&(r|=1),r<<=1,this.readModule(0,a-3,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r}readCorner3(t,a){let r=0;return this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(0,a-3,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-3,t,a)&&(r|=1),r<<=1,this.readModule(1,a-2,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r}readCorner4(t,a){let r=0;return this.readModule(t-3,0,t,a)&&(r|=1),r<<=1,this.readModule(t-2,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(2,a-1,t,a)&&(r|=1),r<<=1,this.readModule(3,a-1,t,a)&&(r|=1),r}extractDataRegion(t){const a=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==a)throw new D("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=a/c|0,g=r/u|0,w=h*c,y=g*u,b=new qe(y,w);for(let N=0;N<h;++N){const R=N*c;for(let B=0;B<g;++B){const U=B*u;for(let F=0;F<c;++F){const V=N*(c+2)+1+F,ne=R+F;for(let xe=0;xe<u;++xe){const ge=B*(u+2)+1+xe;if(t.get(ge,V)){const de=U+xe;b.set(de,ne)}}}}}return b}}class ar{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a){const r=a.getECBlocks();let c=0;const u=r.getECBlocks();for(let F of u)c+=F.getCount();const h=new Array(c);let g=0;for(let F of u)for(let V=0;V<F.getCount();V++){const ne=F.getDataCodewords(),xe=r.getECCodewords()+ne;h[g++]=new ar(ne,new Uint8Array(xe))}const y=h[0].codewords.length-r.getECCodewords(),b=y-1;let N=0;for(let F=0;F<b;F++)for(let V=0;V<g;V++)h[V].codewords[F]=t[N++];const R=a.getVersionNumber()===24,B=R?8:g;for(let F=0;F<B;F++)h[F].codewords[y-1]=t[N++];const U=h[0].codewords.length;for(let F=y;F<U;F++)for(let V=0;V<g;V++){const ne=R?(V+8)%g:V,xe=R&&ne>7?F-1:F;h[ne].codewords[xe]=t[N++]}if(N!==t.length)throw new D;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ei{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new D(""+t);let a=0,r=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(r>0){const h=8-r,g=t<h?t:h,w=h-g,y=255>>8-g<<w;a=(u[c]&y)>>w,t-=g,r+=g,r===8&&(r=0,c++)}if(t>0){for(;t>=8;)a=a<<8|u[c]&255,c++,t-=8;if(t>0){const h=8-t,g=255>>h<<h;a=a<<t|(u[c]&g)>>h,r+=t}}return this.bitOffset=r,this.byteOffset=c,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var At;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(At||(At={}));class ea{static decode(t){const a=new Ei(t),r=new Xe,c=new Xe,u=new Array;let h=At.ASCII_ENCODE;do if(h===At.ASCII_ENCODE)h=this.decodeAsciiSegment(a,r,c);else{switch(h){case At.C40_ENCODE:this.decodeC40Segment(a,r);break;case At.TEXT_ENCODE:this.decodeTextSegment(a,r);break;case At.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,r);break;case At.EDIFACT_ENCODE:this.decodeEdifactSegment(a,r);break;case At.BASE256_ENCODE:this.decodeBase256Segment(a,r,u);break;default:throw new Z}h=At.ASCII_ENCODE}while(h!==At.PAD_ENCODE&&a.available()>0);return c.length()>0&&r.append(c.toString()),new St(t,r.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,a,r){let c=!1;do{let u=t.readBits(8);if(u===0)throw new Z;if(u<=128)return c&&(u+=128),a.append(String.fromCharCode(u-1)),At.ASCII_ENCODE;if(u===129)return At.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&a.append("0"),a.append(""+h)}else switch(u){case 230:return At.C40_ENCODE;case 231:return At.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:a.append("[)>05"),r.insert(0,"");break;case 237:a.append("[)>06"),r.insert(0,"");break;case 238:return At.ANSIX12_ENCODE;case 239:return At.TEXT_ENCODE;case 240:return At.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new Z;break}}while(t.available()>0);return At.ASCII_ENCODE}static decodeC40Segment(t,a){let r=!1;const c=[];let u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),c);for(let g=0;g<3;g++){const w=c[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[w];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y)}else throw new Z;break;case 1:r?(a.append(String.fromCharCode(w+128)),r=!1):a.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[w];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y)}else switch(w){case 27:a.append("");break;case 30:r=!0;break;default:throw new Z}u=0;break;case 3:r?(a.append(String.fromCharCode(w+224)),r=!1):a.append(String.fromCharCode(w+96)),u=0;break;default:throw new Z}}}while(t.available()>0)}static decodeTextSegment(t,a){let r=!1,c=[],u=0;do{if(t.available()===8)return;const h=t.readBits(8);if(h===254)return;this.parseTwoBytes(h,t.readBits(8),c);for(let g=0;g<3;g++){const w=c[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[w];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y)}else throw new Z;break;case 1:r?(a.append(String.fromCharCode(w+128)),r=!1):a.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[w];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y)}else switch(w){case 27:a.append("");break;case 30:r=!0;break;default:throw new Z}u=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[w];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y),u=0}else throw new Z;break;default:throw new Z}}}while(t.available()>0)}static decodeAnsiX12Segment(t,a){const r=[];do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),r);for(let u=0;u<3;u++){const h=r[u];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else if(h<40)a.append(String.fromCharCode(h+51));else throw new Z;break}}}while(t.available()>0)}static parseTwoBytes(t,a,r){let c=(t<<8)+a-1,u=Math.floor(c/1600);r[0]=u,c-=u*1600,u=Math.floor(c/40),r[1]=u,r[2]=c-u*40}static decodeEdifactSegment(t,a){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let c=t.readBits(6);if(c===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(c&32)===0&&(c|=64),a.append(String.fromCharCode(c))}}while(t.available()>0)}static decodeBase256Segment(t,a,r){let c=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),c++);let h;if(u===0?h=t.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(t.readBits(8),c++),h<0)throw new Z;const g=new Uint8Array(h);for(let w=0;w<h;w++){if(t.available()<8)throw new Z;g[w]=this.unrandomize255State(t.readBits(8),c++)}r.push(g);try{a.append(Te.decode(g,Oe.ISO88591))}catch(w){throw new Un("Platform does not support required encoding: "+w.message)}}static unrandomize255State(t,a){const r=149*a%255+1,c=t-r;return c>=0?c:c+256}}ea.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ea.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ea.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ea.TEXT_SHIFT2_SET_CHARS=ea.C40_SHIFT2_SET_CHARS,ea.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Fu{constructor(){this.rsDecoder=new Bi(st.DATA_MATRIX_FIELD_256)}decode(t){const a=new ir(t),r=a.getVersion(),c=a.readCodewords(),u=ar.getDataBlocks(c,r);let h=0;for(let y of u)h+=y.getNumDataCodewords();const g=new Uint8Array(h),w=u.length;for(let y=0;y<w;y++){const b=u[y],N=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(N,R);for(let B=0;B<R;B++)g[B*w+y]=N[B]}return ea.decode(g)}correctErrors(t,a){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-a)}catch{throw new L}for(let c=0;c<a;c++)t[c]=r[c]}}class Yt{constructor(t){this.image=t,this.rectangleDetector=new jt(this.image)}detect(){const t=this.rectangleDetector.detect();let a=this.detectSolid1(t);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new W;a=this.shiftToModuleCenter(a);const r=a[0],c=a[1],u=a[2],h=a[3];let g=this.transitionsBetween(r,h)+1,w=this.transitionsBetween(u,h)+1;(g&1)===1&&(g+=1),(w&1)===1&&(w+=1),4*g<7*w&&4*w<7*g&&(g=w=Math.max(g,w));let y=Yt.sampleGrid(this.image,r,c,u,h,g,w);return new Ja(y,[r,c,u,h])}static shiftPoint(t,a,r){let c=(a.getX()-t.getX())/(r+1),u=(a.getY()-t.getY())/(r+1);return new Ie(t.getX()+c,t.getY()+u)}static moveAway(t,a,r){let c=t.getX(),u=t.getY();return c<a?c-=1:c+=1,u<r?u-=1:u+=1,new Ie(c,u)}detectSolid1(t){let a=t[0],r=t[1],c=t[3],u=t[2],h=this.transitionsBetween(a,r),g=this.transitionsBetween(r,c),w=this.transitionsBetween(c,u),y=this.transitionsBetween(u,a),b=h,N=[u,a,r,c];return b>g&&(b=g,N[0]=a,N[1]=r,N[2]=c,N[3]=u),b>w&&(b=w,N[0]=r,N[1]=c,N[2]=u,N[3]=a),b>y&&(N[0]=c,N[1]=u,N[2]=a,N[3]=r),N}detectSolid2(t){let a=t[0],r=t[1],c=t[2],u=t[3],h=this.transitionsBetween(a,u),g=Yt.shiftPoint(r,c,(h+1)*4),w=Yt.shiftPoint(c,r,(h+1)*4),y=this.transitionsBetween(g,a),b=this.transitionsBetween(w,u);return y<b?(t[0]=a,t[1]=r,t[2]=c,t[3]=u):(t[0]=r,t[1]=c,t[2]=u,t[3]=a),t}correctTopRight(t){let a=t[0],r=t[1],c=t[2],u=t[3],h=this.transitionsBetween(a,u),g=this.transitionsBetween(r,u),w=Yt.shiftPoint(a,r,(g+1)*4),y=Yt.shiftPoint(c,r,(h+1)*4);h=this.transitionsBetween(w,u),g=this.transitionsBetween(y,u);let b=new Ie(u.getX()+(c.getX()-r.getX())/(h+1),u.getY()+(c.getY()-r.getY())/(h+1)),N=new Ie(u.getX()+(a.getX()-r.getX())/(g+1),u.getY()+(a.getY()-r.getY())/(g+1));if(!this.isValid(b))return this.isValid(N)?N:null;if(!this.isValid(N))return b;let R=this.transitionsBetween(w,b)+this.transitionsBetween(y,b),B=this.transitionsBetween(w,N)+this.transitionsBetween(y,N);return R>B?b:N}shiftToModuleCenter(t){let a=t[0],r=t[1],c=t[2],u=t[3],h=this.transitionsBetween(a,u)+1,g=this.transitionsBetween(c,u)+1,w=Yt.shiftPoint(a,r,g*4),y=Yt.shiftPoint(c,r,h*4);h=this.transitionsBetween(w,u)+1,g=this.transitionsBetween(y,u)+1,(h&1)===1&&(h+=1),(g&1)===1&&(g+=1);let b=(a.getX()+r.getX()+c.getX()+u.getX())/4,N=(a.getY()+r.getY()+c.getY()+u.getY())/4;a=Yt.moveAway(a,b,N),r=Yt.moveAway(r,b,N),c=Yt.moveAway(c,b,N),u=Yt.moveAway(u,b,N);let R,B;return w=Yt.shiftPoint(a,r,g*4),w=Yt.shiftPoint(w,u,h*4),R=Yt.shiftPoint(r,a,g*4),R=Yt.shiftPoint(R,c,h*4),y=Yt.shiftPoint(c,u,g*4),y=Yt.shiftPoint(y,r,h*4),B=Yt.shiftPoint(u,c,g*4),B=Yt.shiftPoint(B,a,h*4),[w,R,y,B]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,a,r,c,u,h,g){return Ce.getInstance().sampleGrid(t,h,g,.5,.5,h-.5,.5,h-.5,g-.5,.5,g-.5,a.getX(),a.getY(),u.getX(),u.getY(),c.getX(),c.getY(),r.getX(),r.getY())}transitionsBetween(t,a){let r=Math.trunc(t.getX()),c=Math.trunc(t.getY()),u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.abs(h-c)>Math.abs(u-r);if(g){let F=r;r=c,c=F,F=u,u=h,h=F}let w=Math.abs(u-r),y=Math.abs(h-c),b=-w/2,N=c<h?1:-1,R=r<u?1:-1,B=0,U=this.image.get(g?c:r,g?r:c);for(let F=r,V=c;F!==u;F+=R){let ne=this.image.get(g?V:F,g?F:V);if(ne!==U&&(B++,U=ne),b+=y,b>0){if(V===h)break;V+=N,b-=w}}return B}}class ta{constructor(){this.decoder=new Fu}decode(t,a=null){let r,c;if(a!=null&&a.has(ye.PURE_BARCODE)){const y=ta.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(y),c=ta.NO_POINTS}else{const y=new Yt(t.getBlackMatrix()).detect();r=this.decoder.decode(y.getBits()),c=y.getPoints()}const u=r.getRawBytes(),h=new Se(r.getText(),u,8*u.length,c,_e.DATA_MATRIX,re.currentTimeMillis()),g=r.getByteSegments();g!=null&&h.putMetadata(rt.BYTE_SEGMENTS,g);const w=r.getECLevel();return w!=null&&h.putMetadata(rt.ERROR_CORRECTION_LEVEL,w),h}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(a==null||r==null)throw new W;const c=this.moduleSize(a,t);let u=a[1];const h=r[1];let g=a[0];const y=(r[0]-g+1)/c,b=(h-u+1)/c;if(y<=0||b<=0)throw new W;const N=c/2;u+=N,g+=N;const R=new qe(y,b);for(let B=0;B<b;B++){const U=u+B*c;for(let F=0;F<y;F++)t.get(g+F*c,U)&&R.set(F,B)}return R}static moduleSize(t,a){const r=a.getWidth();let c=t[0];const u=t[1];for(;c<r&&a.get(c,u);)c++;if(c===r)throw new W;const h=c-t[0];if(h===0)throw new W;return h}}ta.NO_POINTS=[];class Dl extends Ae{constructor(t=500){super(new ta,t)}}var rr;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(rr||(rr={}));class at{constructor(t,a,r){this.value=t,this.stringValue=a,this.bits=r,at.FOR_BITS.set(r,this),at.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return at.L;case"M":return at.M;case"Q":return at.Q;case"H":return at.H;default:throw new T(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof at))return!1;const a=t;return this.value===a.value}static forBits(t){if(t<0||t>=at.FOR_BITS.size)throw new D;return at.FOR_BITS.get(t)}}at.FOR_BITS=new Map,at.FOR_VALUE=new Map,at.L=new at(rr.L,"L",1),at.M=new at(rr.M,"M",0),at.Q=new at(rr.Q,"Q",3),at.H=new at(rr.H,"H",2);class An{constructor(t){this.errorCorrectionLevel=at.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,a){return Q.bitCount(t^a)}static decodeFormatInformation(t,a){const r=An.doDecodeFormatInformation(t,a);return r!==null?r:An.doDecodeFormatInformation(t^An.FORMAT_INFO_MASK_QR,a^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,a){let r=Number.MAX_SAFE_INTEGER,c=0;for(const u of An.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===t||h===a)return new An(u[1]);let g=An.numBitsDiffering(t,h);g<r&&(c=u[1],r=g),t!==a&&(g=An.numBitsDiffering(a,h),g<r&&(c=u[1],r=g))}return r<=3?new An(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof An))return!1;const a=t;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(t,...a){this.ecCodewordsPerBlock=t,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const a=this.ecBlocks;for(const r of a)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Be{constructor(t,a,...r){this.versionNumber=t,this.alignmentPatternCenters=a,this.ecBlocks=r;let c=0;const u=r[0].getECCodewordsPerBlock(),h=r[0].getECBlocks();for(const g of h)c+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new Z;try{return this.getVersionForNumber((t-17)/4)}catch{throw new Z}}static getVersionForNumber(t){if(t<1||t>40)throw new D;return Be.VERSIONS[t-1]}static decodeVersionInformation(t){let a=Number.MAX_SAFE_INTEGER,r=0;for(let c=0;c<Be.VERSION_DECODE_INFO.length;c++){const u=Be.VERSION_DECODE_INFO[c];if(u===t)return Be.getVersionForNumber(c+7);const h=An.numBitsDiffering(t,u);h<a&&(r=c+7,a=h)}return a<=3?Be.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),a=new qe(t);a.setRegion(0,0,9,9),a.setRegion(t-8,0,8,9),a.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let c=0;c<r;c++){const u=this.alignmentPatternCenters[c]-2;for(let h=0;h<r;h++)c===0&&(h===0||h===r-1)||c===r-1&&h===0||a.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return a.setRegion(6,9,1,t-17),a.setRegion(9,6,t-17,1),this.versionNumber>6&&(a.setRegion(t-11,0,3,6),a.setRegion(0,t-11,6,3)),a}toString(){return""+this.versionNumber}}Be.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Be.VERSIONS=[new Be(1,new Int32Array(0),new j(7,new M(1,19)),new j(10,new M(1,16)),new j(13,new M(1,13)),new j(17,new M(1,9))),new Be(2,Int32Array.from([6,18]),new j(10,new M(1,34)),new j(16,new M(1,28)),new j(22,new M(1,22)),new j(28,new M(1,16))),new Be(3,Int32Array.from([6,22]),new j(15,new M(1,55)),new j(26,new M(1,44)),new j(18,new M(2,17)),new j(22,new M(2,13))),new Be(4,Int32Array.from([6,26]),new j(20,new M(1,80)),new j(18,new M(2,32)),new j(26,new M(2,24)),new j(16,new M(4,9))),new Be(5,Int32Array.from([6,30]),new j(26,new M(1,108)),new j(24,new M(2,43)),new j(18,new M(2,15),new M(2,16)),new j(22,new M(2,11),new M(2,12))),new Be(6,Int32Array.from([6,34]),new j(18,new M(2,68)),new j(16,new M(4,27)),new j(24,new M(4,19)),new j(28,new M(4,15))),new Be(7,Int32Array.from([6,22,38]),new j(20,new M(2,78)),new j(18,new M(4,31)),new j(18,new M(2,14),new M(4,15)),new j(26,new M(4,13),new M(1,14))),new Be(8,Int32Array.from([6,24,42]),new j(24,new M(2,97)),new j(22,new M(2,38),new M(2,39)),new j(22,new M(4,18),new M(2,19)),new j(26,new M(4,14),new M(2,15))),new Be(9,Int32Array.from([6,26,46]),new j(30,new M(2,116)),new j(22,new M(3,36),new M(2,37)),new j(20,new M(4,16),new M(4,17)),new j(24,new M(4,12),new M(4,13))),new Be(10,Int32Array.from([6,28,50]),new j(18,new M(2,68),new M(2,69)),new j(26,new M(4,43),new M(1,44)),new j(24,new M(6,19),new M(2,20)),new j(28,new M(6,15),new M(2,16))),new Be(11,Int32Array.from([6,30,54]),new j(20,new M(4,81)),new j(30,new M(1,50),new M(4,51)),new j(28,new M(4,22),new M(4,23)),new j(24,new M(3,12),new M(8,13))),new Be(12,Int32Array.from([6,32,58]),new j(24,new M(2,92),new M(2,93)),new j(22,new M(6,36),new M(2,37)),new j(26,new M(4,20),new M(6,21)),new j(28,new M(7,14),new M(4,15))),new Be(13,Int32Array.from([6,34,62]),new j(26,new M(4,107)),new j(22,new M(8,37),new M(1,38)),new j(24,new M(8,20),new M(4,21)),new j(22,new M(12,11),new M(4,12))),new Be(14,Int32Array.from([6,26,46,66]),new j(30,new M(3,115),new M(1,116)),new j(24,new M(4,40),new M(5,41)),new j(20,new M(11,16),new M(5,17)),new j(24,new M(11,12),new M(5,13))),new Be(15,Int32Array.from([6,26,48,70]),new j(22,new M(5,87),new M(1,88)),new j(24,new M(5,41),new M(5,42)),new j(30,new M(5,24),new M(7,25)),new j(24,new M(11,12),new M(7,13))),new Be(16,Int32Array.from([6,26,50,74]),new j(24,new M(5,98),new M(1,99)),new j(28,new M(7,45),new M(3,46)),new j(24,new M(15,19),new M(2,20)),new j(30,new M(3,15),new M(13,16))),new Be(17,Int32Array.from([6,30,54,78]),new j(28,new M(1,107),new M(5,108)),new j(28,new M(10,46),new M(1,47)),new j(28,new M(1,22),new M(15,23)),new j(28,new M(2,14),new M(17,15))),new Be(18,Int32Array.from([6,30,56,82]),new j(30,new M(5,120),new M(1,121)),new j(26,new M(9,43),new M(4,44)),new j(28,new M(17,22),new M(1,23)),new j(28,new M(2,14),new M(19,15))),new Be(19,Int32Array.from([6,30,58,86]),new j(28,new M(3,113),new M(4,114)),new j(26,new M(3,44),new M(11,45)),new j(26,new M(17,21),new M(4,22)),new j(26,new M(9,13),new M(16,14))),new Be(20,Int32Array.from([6,34,62,90]),new j(28,new M(3,107),new M(5,108)),new j(26,new M(3,41),new M(13,42)),new j(30,new M(15,24),new M(5,25)),new j(28,new M(15,15),new M(10,16))),new Be(21,Int32Array.from([6,28,50,72,94]),new j(28,new M(4,116),new M(4,117)),new j(26,new M(17,42)),new j(28,new M(17,22),new M(6,23)),new j(30,new M(19,16),new M(6,17))),new Be(22,Int32Array.from([6,26,50,74,98]),new j(28,new M(2,111),new M(7,112)),new j(28,new M(17,46)),new j(30,new M(7,24),new M(16,25)),new j(24,new M(34,13))),new Be(23,Int32Array.from([6,30,54,78,102]),new j(30,new M(4,121),new M(5,122)),new j(28,new M(4,47),new M(14,48)),new j(30,new M(11,24),new M(14,25)),new j(30,new M(16,15),new M(14,16))),new Be(24,Int32Array.from([6,28,54,80,106]),new j(30,new M(6,117),new M(4,118)),new j(28,new M(6,45),new M(14,46)),new j(30,new M(11,24),new M(16,25)),new j(30,new M(30,16),new M(2,17))),new Be(25,Int32Array.from([6,32,58,84,110]),new j(26,new M(8,106),new M(4,107)),new j(28,new M(8,47),new M(13,48)),new j(30,new M(7,24),new M(22,25)),new j(30,new M(22,15),new M(13,16))),new Be(26,Int32Array.from([6,30,58,86,114]),new j(28,new M(10,114),new M(2,115)),new j(28,new M(19,46),new M(4,47)),new j(28,new M(28,22),new M(6,23)),new j(30,new M(33,16),new M(4,17))),new Be(27,Int32Array.from([6,34,62,90,118]),new j(30,new M(8,122),new M(4,123)),new j(28,new M(22,45),new M(3,46)),new j(30,new M(8,23),new M(26,24)),new j(30,new M(12,15),new M(28,16))),new Be(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new M(3,117),new M(10,118)),new j(28,new M(3,45),new M(23,46)),new j(30,new M(4,24),new M(31,25)),new j(30,new M(11,15),new M(31,16))),new Be(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new M(7,116),new M(7,117)),new j(28,new M(21,45),new M(7,46)),new j(30,new M(1,23),new M(37,24)),new j(30,new M(19,15),new M(26,16))),new Be(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new M(5,115),new M(10,116)),new j(28,new M(19,47),new M(10,48)),new j(30,new M(15,24),new M(25,25)),new j(30,new M(23,15),new M(25,16))),new Be(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new M(13,115),new M(3,116)),new j(28,new M(2,46),new M(29,47)),new j(30,new M(42,24),new M(1,25)),new j(30,new M(23,15),new M(28,16))),new Be(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new M(17,115)),new j(28,new M(10,46),new M(23,47)),new j(30,new M(10,24),new M(35,25)),new j(30,new M(19,15),new M(35,16))),new Be(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new M(17,115),new M(1,116)),new j(28,new M(14,46),new M(21,47)),new j(30,new M(29,24),new M(19,25)),new j(30,new M(11,15),new M(46,16))),new Be(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new M(13,115),new M(6,116)),new j(28,new M(14,46),new M(23,47)),new j(30,new M(44,24),new M(7,25)),new j(30,new M(59,16),new M(1,17))),new Be(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new M(12,121),new M(7,122)),new j(28,new M(12,47),new M(26,48)),new j(30,new M(39,24),new M(14,25)),new j(30,new M(22,15),new M(41,16))),new Be(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new M(6,121),new M(14,122)),new j(28,new M(6,47),new M(34,48)),new j(30,new M(46,24),new M(10,25)),new j(30,new M(2,15),new M(64,16))),new Be(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new M(17,122),new M(4,123)),new j(28,new M(29,46),new M(14,47)),new j(30,new M(49,24),new M(10,25)),new j(30,new M(24,15),new M(46,16))),new Be(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new M(4,122),new M(18,123)),new j(28,new M(13,46),new M(32,47)),new j(30,new M(48,24),new M(14,25)),new j(30,new M(42,15),new M(32,16))),new Be(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new M(20,117),new M(4,118)),new j(28,new M(40,47),new M(7,48)),new j(30,new M(43,24),new M(22,25)),new j(30,new M(10,15),new M(67,16))),new Be(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new M(19,118),new M(6,119)),new j(28,new M(18,47),new M(31,48)),new j(30,new M(34,24),new M(34,25)),new j(30,new M(20,15),new M(61,16)))];var mn;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(mn||(mn={}));class $n{constructor(t,a){this.value=t,this.isMasked=a}unmaskBitMatrix(t,a){for(let r=0;r<a;r++)for(let c=0;c<a;c++)this.isMasked(r,c)&&t.flip(c,r)}}$n.values=new Map([[mn.DATA_MASK_000,new $n(mn.DATA_MASK_000,(O,t)=>(O+t&1)===0)],[mn.DATA_MASK_001,new $n(mn.DATA_MASK_001,(O,t)=>(O&1)===0)],[mn.DATA_MASK_010,new $n(mn.DATA_MASK_010,(O,t)=>t%3===0)],[mn.DATA_MASK_011,new $n(mn.DATA_MASK_011,(O,t)=>(O+t)%3===0)],[mn.DATA_MASK_100,new $n(mn.DATA_MASK_100,(O,t)=>(Math.floor(O/2)+Math.floor(t/3)&1)===0)],[mn.DATA_MASK_101,new $n(mn.DATA_MASK_101,(O,t)=>O*t%6===0)],[mn.DATA_MASK_110,new $n(mn.DATA_MASK_110,(O,t)=>O*t%6<3)],[mn.DATA_MASK_111,new $n(mn.DATA_MASK_111,(O,t)=>(O+t+O*t%3&1)===0)]]);class lr{constructor(t){const a=t.getHeight();if(a<21||(a&3)!==1)throw new Z;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const a=this.bitMatrix.getHeight();let r=0;const c=a-7;for(let u=a-1;u>=c;u--)r=this.copyBit(8,u,r);for(let u=a-8;u<a;u++)r=this.copyBit(u,8,r);if(this.parsedFormatInfo=An.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),a=Math.floor((t-17)/4);if(a<=6)return Be.getVersionForNumber(a);let r=0;const c=t-11;for(let h=5;h>=0;h--)for(let g=t-9;g>=c;g--)r=this.copyBit(g,h,r);let u=Be.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;r=0;for(let h=5;h>=0;h--)for(let g=t-9;g>=c;g--)r=this.copyBit(h,g,r);if(u=Be.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new Z}copyBit(t,a,r){return(this.isMirror?this.bitMatrix.get(a,t):this.bitMatrix.get(t,a))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),a=this.readVersion(),r=$n.values.get(t.getDataMask()),c=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,c);const u=a.buildFunctionPattern();let h=!0;const g=new Uint8Array(a.getTotalCodewords());let w=0,y=0,b=0;for(let N=c-1;N>0;N-=2){N===6&&N--;for(let R=0;R<c;R++){const B=h?c-1-R:R;for(let U=0;U<2;U++)u.get(N-U,B)||(b++,y<<=1,this.bitMatrix.get(N-U,B)&&(y|=1),b===8&&(g[w++]=y,b=0,y=0))}h=!h}if(w!==a.getTotalCodewords())throw new Z;return g}remask(){if(this.parsedFormatInfo===null)return;const t=$n.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,a)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let a=0,r=t.getWidth();a<r;a++)for(let c=a+1,u=t.getHeight();c<u;c++)t.get(a,c)!==t.get(c,a)&&(t.flip(c,a),t.flip(a,c))}}class Ns{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a,r){if(t.length!==a.getTotalCodewords())throw new D;const c=a.getECBlocksForLevel(r);let u=0;const h=c.getECBlocks();for(const U of h)u+=U.getCount();const g=new Array(u);let w=0;for(const U of h)for(let F=0;F<U.getCount();F++){const V=U.getDataCodewords(),ne=c.getECCodewordsPerBlock()+V;g[w++]=new Ns(V,new Uint8Array(ne))}const y=g[0].codewords.length;let b=g.length-1;for(;b>=0&&g[b].codewords.length!==y;)b--;b++;const N=y-c.getECCodewordsPerBlock();let R=0;for(let U=0;U<N;U++)for(let F=0;F<w;F++)g[F].codewords[U]=t[R++];for(let U=b;U<w;U++)g[U].codewords[N]=t[R++];const B=g[0].codewords.length;for(let U=N;U<B;U++)for(let F=0;F<w;F++){const V=F<b?U:U+1;g[F].codewords[V]=t[R++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ei;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(ei||(ei={}));class ze{constructor(t,a,r,c){this.value=t,this.stringValue=a,this.characterCountBitsForVersions=r,this.bits=c,ze.FOR_BITS.set(c,this),ze.FOR_VALUE.set(t,this)}static forBits(t){const a=ze.FOR_BITS.get(t);if(a===void 0)throw new D;return a}getCharacterCountBits(t){const a=t.getVersionNumber();let r;return a<=9?r=0:a<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof ze))return!1;const a=t;return this.value===a.value}toString(){return this.stringValue}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.TERMINATOR=new ze(ei.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ze.NUMERIC=new ze(ei.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ze.ALPHANUMERIC=new ze(ei.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ze.STRUCTURED_APPEND=new ze(ei.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ze.BYTE=new ze(ei.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ze.ECI=new ze(ei.ECI,"ECI",Int32Array.from([0,0,0]),7),ze.KANJI=new ze(ei.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ze.FNC1_FIRST_POSITION=new ze(ei.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ze.FNC1_SECOND_POSITION=new ze(ei.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ze.HANZI=new ze(ei.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Zt{static decode(t,a,r,c){const u=new Ei(t);let h=new Xe;const g=new Array;let w=-1,y=-1;try{let b=null,N=!1,R;do{if(u.available()<4)R=ze.TERMINATOR;else{const B=u.readBits(4);R=ze.forBits(B)}switch(R){case ze.TERMINATOR:break;case ze.FNC1_FIRST_POSITION:case ze.FNC1_SECOND_POSITION:N=!0;break;case ze.STRUCTURED_APPEND:if(u.available()<16)throw new Z;w=u.readBits(8),y=u.readBits(8);break;case ze.ECI:const B=Zt.parseECIValue(u);if(b=ee.getCharacterSetECIByValue(B),b===null)throw new Z;break;case ze.HANZI:const U=u.readBits(4),F=u.readBits(R.getCharacterCountBits(a));U===Zt.GB2312_SUBSET&&Zt.decodeHanziSegment(u,h,F);break;default:const V=u.readBits(R.getCharacterCountBits(a));switch(R){case ze.NUMERIC:Zt.decodeNumericSegment(u,h,V);break;case ze.ALPHANUMERIC:Zt.decodeAlphanumericSegment(u,h,V,N);break;case ze.BYTE:Zt.decodeByteSegment(u,h,V,b,g,c);break;case ze.KANJI:Zt.decodeKanjiSegment(u,h,V);break;default:throw new Z}break}}while(R!==ze.TERMINATOR)}catch{throw new Z}return new St(t,h.toString(),g.length===0?null:g,r===null?null:r.toString(),w,y)}static decodeHanziSegment(t,a,r){if(r*13>t.available())throw new Z;const c=new Uint8Array(2*r);let u=0;for(;r>0;){const h=t.readBits(13);let g=h/96<<8&4294967295|h%96;g<959?g+=41377:g+=42657,c[u]=g>>8&255,c[u+1]=g&255,u+=2,r--}try{a.append(Te.decode(c,Oe.GB2312))}catch(h){throw new Z(h)}}static decodeKanjiSegment(t,a,r){if(r*13>t.available())throw new Z;const c=new Uint8Array(2*r);let u=0;for(;r>0;){const h=t.readBits(13);let g=h/192<<8&4294967295|h%192;g<7936?g+=33088:g+=49472,c[u]=g>>8,c[u+1]=g,u+=2,r--}try{a.append(Te.decode(c,Oe.SHIFT_JIS))}catch(h){throw new Z(h)}}static decodeByteSegment(t,a,r,c,u,h){if(8*r>t.available())throw new Z;const g=new Uint8Array(r);for(let y=0;y<r;y++)g[y]=t.readBits(8);let w;c===null?w=Oe.guessEncoding(g,h):w=c.getName();try{a.append(Te.decode(g,w))}catch(y){throw new Z(y)}u.push(g)}static toAlphaNumericChar(t){if(t>=Zt.ALPHANUMERIC_CHARS.length)throw new Z;return Zt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,a,r,c){const u=a.length();for(;r>1;){if(t.available()<11)throw new Z;const h=t.readBits(11);a.append(Zt.toAlphaNumericChar(Math.floor(h/45))),a.append(Zt.toAlphaNumericChar(h%45)),r-=2}if(r===1){if(t.available()<6)throw new Z;a.append(Zt.toAlphaNumericChar(t.readBits(6)))}if(c)for(let h=u;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,""))}static decodeNumericSegment(t,a,r){for(;r>=3;){if(t.available()<10)throw new Z;const c=t.readBits(10);if(c>=1e3)throw new Z;a.append(Zt.toAlphaNumericChar(Math.floor(c/100))),a.append(Zt.toAlphaNumericChar(Math.floor(c/10)%10)),a.append(Zt.toAlphaNumericChar(c%10)),r-=3}if(r===2){if(t.available()<7)throw new Z;const c=t.readBits(7);if(c>=100)throw new Z;a.append(Zt.toAlphaNumericChar(Math.floor(c/10))),a.append(Zt.toAlphaNumericChar(c%10))}else if(r===1){if(t.available()<4)throw new Z;const c=t.readBits(4);if(c>=10)throw new Z;a.append(Zt.toAlphaNumericChar(c))}}static parseECIValue(t){const a=t.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const r=t.readBits(8);return(a&63)<<8&4294967295|r}if((a&224)===192){const r=t.readBits(16);return(a&31)<<16&4294967295|r}throw new Z}}Zt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Zt.GB2312_SUBSET=1;class Vo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const a=t[0];t[0]=t[2],t[2]=a}}class Pu{constructor(){this.rsDecoder=new Bi(st.QR_CODE_FIELD_256)}decodeBooleanArray(t,a){return this.decodeBitMatrix(qe.parseFromBooleanArray(t),a)}decodeBitMatrix(t,a){const r=new lr(t);let c=null;try{return this.decodeBitMatrixParser(r,a)}catch(u){c=u}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const u=this.decodeBitMatrixParser(r,a);return u.setOther(new Vo(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(t,a){const r=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),h=Ns.getDataBlocks(u,r,c);let g=0;for(const b of h)g+=b.getNumDataCodewords();const w=new Uint8Array(g);let y=0;for(const b of h){const N=b.getCodewords(),R=b.getNumDataCodewords();this.correctErrors(N,R);for(let B=0;B<R;B++)w[y++]=N[B]}return Zt.decode(w,r,c,a)}correctErrors(t,a){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-a)}catch{throw new L}for(let c=0;c<a;c++)t[c]=r[c]}}class sr extends Ie{constructor(t,a,r){super(t,a),this.estimatedModuleSize=r}aboutEquals(t,a,r){if(Math.abs(a-this.getY())<=t&&Math.abs(r-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,a,r){const c=(this.getX()+a)/2,u=(this.getY()+t)/2,h=(this.estimatedModuleSize+r)/2;return new sr(c,u,h)}}class si{constructor(t,a,r,c,u,h,g){this.image=t,this.startX=a,this.startY=r,this.width=c,this.height=u,this.moduleSize=h,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,a=this.height,r=this.width,c=t+r,u=this.startY+a/2,h=new Int32Array(3),g=this.image;for(let w=0;w<a;w++){const y=u+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));h[0]=0,h[1]=0,h[2]=0;let b=t;for(;b<c&&!g.get(b,y);)b++;let N=0;for(;b<c;){if(g.get(b,y))if(N===1)h[1]++;else if(N===2){if(this.foundPatternCross(h)){const R=this.handlePossibleCenter(h,y,b);if(R!==null)return R}h[0]=h[2],h[1]=1,h[2]=0,N=1}else h[++N]++;else N===1&&N++,h[N]++;b++}if(this.foundPatternCross(h)){const R=this.handlePossibleCenter(h,y,c);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(t,a){return a-t[2]-t[1]/2}foundPatternCross(t){const a=this.moduleSize,r=a/2;for(let c=0;c<3;c++)if(Math.abs(a-t[c])>=r)return!1;return!0}crossCheckVertical(t,a,r,c){const u=this.image,h=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let w=t;for(;w>=0&&u.get(a,w)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&!u.get(a,w)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(a,w)&&g[1]<=r;)g[1]++,w++;if(w===h||g[1]>r)return NaN;for(;w<h&&!u.get(a,w)&&g[2]<=r;)g[2]++,w++;if(g[2]>r)return NaN;const y=g[0]+g[1]+g[2];return 5*Math.abs(y-c)>=2*c?NaN:this.foundPatternCross(g)?si.centerFromEnd(g,w):NaN}handlePossibleCenter(t,a,r){const c=t[0]+t[1]+t[2],u=si.centerFromEnd(t,r),h=this.crossCheckVertical(a,u,2*t[1],c);if(!isNaN(h)){const g=(t[0]+t[1]+t[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(g,h,u))return y.combineEstimate(h,u,g);const w=new sr(u,h,g);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Kr extends Ie{constructor(t,a,r,c){super(t,a),this.estimatedModuleSize=r,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,a,r){if(Math.abs(a-this.getY())<=t&&Math.abs(r-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,a,r){const c=this.count+1,u=(this.count*this.getX()+a)/c,h=(this.count*this.getY()+t)/c,g=(this.count*this.estimatedModuleSize+r)/c;return new Kr(u,h,g,c)}}class Rs{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class qt{constructor(t,a){this.image=t,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const a=t!=null&&t.get(ye.TRY_HARDER)!==void 0,r=t!=null&&t.get(ye.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),h=c.getWidth();let g=Math.floor(3*u/(4*qt.MAX_MODULES));(g<qt.MIN_SKIP||a)&&(g=qt.MIN_SKIP);let w=!1;const y=new Int32Array(5);for(let N=g-1;N<u&&!w;N+=g){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let R=0;for(let B=0;B<h;B++)if(c.get(B,N))(R&1)===1&&R++,y[R]++;else if((R&1)===0)if(R===4)if(qt.foundPatternCross(y)){if(this.handlePossibleCenter(y,N,B,r)===!0)if(g=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>y[2]&&(N+=F-y[2]-g,B=h-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,R=3;continue}R=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,R=3;else y[++R]++;else y[R]++;qt.foundPatternCross(y)&&this.handlePossibleCenter(y,N,h,r)===!0&&(g=y[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Ie.orderBestPatterns(b),new Rs(b)}static centerFromEnd(t,a){return a-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let a=0;for(let u=0;u<5;u++){const h=t[u];if(h===0)return!1;a+=h}if(a<7)return!1;const r=a/7,c=r/2;return Math.abs(r-t[0])<c&&Math.abs(r-t[1])<c&&Math.abs(3*r-t[2])<3*c&&Math.abs(r-t[3])<c&&Math.abs(r-t[4])<c}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,a,r,c){const u=this.getCrossCheckStateCount();let h=0;const g=this.image;for(;t>=h&&a>=h&&g.get(a-h,t-h);)u[2]++,h++;if(t<h||a<h)return!1;for(;t>=h&&a>=h&&!g.get(a-h,t-h)&&u[1]<=r;)u[1]++,h++;if(t<h||a<h||u[1]>r)return!1;for(;t>=h&&a>=h&&g.get(a-h,t-h)&&u[0]<=r;)u[0]++,h++;if(u[0]>r)return!1;const w=g.getHeight(),y=g.getWidth();for(h=1;t+h<w&&a+h<y&&g.get(a+h,t+h);)u[2]++,h++;if(t+h>=w||a+h>=y)return!1;for(;t+h<w&&a+h<y&&!g.get(a+h,t+h)&&u[3]<r;)u[3]++,h++;if(t+h>=w||a+h>=y||u[3]>=r)return!1;for(;t+h<w&&a+h<y&&g.get(a+h,t+h)&&u[4]<r;)u[4]++,h++;if(u[4]>=r)return!1;const b=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(b-c)<2*c&&qt.foundPatternCross(u)}crossCheckVertical(t,a,r,c){const u=this.image,h=u.getHeight(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(a,w);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(a,w)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&u.get(a,w)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(a,w);)g[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(a,w)&&g[3]<r;)g[3]++,w++;if(w===h||g[3]>=r)return NaN;for(;w<h&&u.get(a,w)&&g[4]<r;)g[4]++,w++;if(g[4]>=r)return NaN;const y=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(y-c)>=2*c?NaN:qt.foundPatternCross(g)?qt.centerFromEnd(g,w):NaN}crossCheckHorizontal(t,a,r,c){const u=this.image,h=u.getWidth(),g=this.getCrossCheckStateCount();let w=t;for(;w>=0&&u.get(w,a);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(w,a)&&g[1]<=r;)g[1]++,w--;if(w<0||g[1]>r)return NaN;for(;w>=0&&u.get(w,a)&&g[0]<=r;)g[0]++,w--;if(g[0]>r)return NaN;for(w=t+1;w<h&&u.get(w,a);)g[2]++,w++;if(w===h)return NaN;for(;w<h&&!u.get(w,a)&&g[3]<r;)g[3]++,w++;if(w===h||g[3]>=r)return NaN;for(;w<h&&u.get(w,a)&&g[4]<r;)g[4]++,w++;if(g[4]>=r)return NaN;const y=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(y-c)>=c?NaN:qt.foundPatternCross(g)?qt.centerFromEnd(g,w):NaN}handlePossibleCenter(t,a,r,c){const u=t[0]+t[1]+t[2]+t[3]+t[4];let h=qt.centerFromEnd(t,r),g=this.crossCheckVertical(a,Math.floor(h),t[2],u);if(!isNaN(g)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(g),t[2],u),!isNaN(h)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(h),t[2],u)))){const w=u/7;let y=!1;const b=this.possibleCenters;for(let N=0,R=b.length;N<R;N++){const B=b[N];if(B.aboutEquals(w,g,h)){b[N]=B.combineEstimate(g,h,w),y=!0;break}}if(!y){const N=new Kr(h,g,w);b.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const r of this.possibleCenters)if(r.getCount()>=qt.CENTER_QUORUM)if(a==null)a=r;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-r.getX())-Math.abs(a.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,a=0;const r=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=qt.CENTER_QUORUM&&(t++,a+=h.getEstimatedModuleSize());if(t<3)return!1;const c=a/r;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-c);return u<=.05*a}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new W;const a=this.possibleCenters;let r;if(t>3){let c=0,u=0;for(const w of this.possibleCenters){const y=w.getEstimatedModuleSize();c+=y,u+=y*y}r=c/t;let h=Math.sqrt(u/t-r*r);a.sort((w,y)=>{const b=Math.abs(y.getEstimatedModuleSize()-r),N=Math.abs(w.getEstimatedModuleSize()-r);return b<N?-1:b>N?1:0});const g=Math.max(.2*r,h);for(let w=0;w<a.length&&a.length>3;w++){const y=a[w];Math.abs(y.getEstimatedModuleSize()-r)>g&&(a.splice(w,1),w--)}}if(a.length>3){let c=0;for(const u of a)c+=u.getEstimatedModuleSize();r=c/a.length,a.sort((u,h)=>{if(h.getCount()===u.getCount()){const g=Math.abs(h.getEstimatedModuleSize()-r),w=Math.abs(u.getEstimatedModuleSize()-r);return g<w?1:g>w?-1:0}else return h.getCount()-u.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}qt.CENTER_QUORUM=2,qt.MIN_SKIP=3,qt.MAX_MODULES=57;class Ui{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ye.NEED_RESULT_POINT_CALLBACK);const r=new qt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const a=t.getTopLeft(),r=t.getTopRight(),c=t.getBottomLeft(),u=this.calculateModuleSize(a,r,c);if(u<1)throw new W("No pattern found in proccess finder.");const h=Ui.computeDimension(a,r,c,u),g=Be.getProvisionalVersionForDimension(h),w=g.getDimensionForVersion()-7;let y=null;if(g.getAlignmentPatternCenters().length>0){const B=r.getX()-a.getX()+c.getX(),U=r.getY()-a.getY()+c.getY(),F=1-3/w,V=Math.floor(a.getX()+F*(B-a.getX())),ne=Math.floor(a.getY()+F*(U-a.getY()));for(let xe=4;xe<=16;xe<<=1)try{y=this.findAlignmentInRegion(u,V,ne,xe);break}catch(ge){if(!(ge instanceof W))throw ge}}const b=Ui.createTransform(a,r,c,y,h),N=Ui.sampleGrid(this.image,b,h);let R;return y===null?R=[c,a,r]:R=[c,a,r,y],new Ja(N,R)}static createTransform(t,a,r,c,u){const h=u-3.5;let g,w,y,b;return c!==null?(g=c.getX(),w=c.getY(),y=h-3,b=y):(g=a.getX()-t.getX()+r.getX(),w=a.getY()-t.getY()+r.getY(),y=h,b=h),Yn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,y,b,3.5,h,t.getX(),t.getY(),a.getX(),a.getY(),g,w,r.getX(),r.getY())}static sampleGrid(t,a,r){return Ce.getInstance().sampleGridWithTransform(t,r,r,a)}static computeDimension(t,a,r,c){const u=nt.round(Ie.distance(t,a)/c),h=nt.round(Ie.distance(t,r)/c);let g=Math.floor((u+h)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new W("Dimensions could be not found.")}return g}calculateModuleSize(t,a,r){return(this.calculateModuleSizeOneWay(t,a)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,a){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(a.getX()),Math.floor(a.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?c/7:isNaN(c)?r/7:(r+c)/14}sizeOfBlackWhiteBlackRunBothWays(t,a,r,c){let u=this.sizeOfBlackWhiteBlackRun(t,a,r,c),h=1,g=t-(r-t);g<0?(h=t/(t-g),g=0):g>=this.image.getWidth()&&(h=(this.image.getWidth()-1-t)/(g-t),g=this.image.getWidth()-1);let w=Math.floor(a-(c-a)*h);return h=1,w<0?(h=a/(a-w),w=0):w>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(w-a),w=this.image.getHeight()-1),g=Math.floor(t+(g-t)*h),u+=this.sizeOfBlackWhiteBlackRun(t,a,g,w),u-1}sizeOfBlackWhiteBlackRun(t,a,r,c){const u=Math.abs(c-a)>Math.abs(r-t);if(u){let B=t;t=a,a=B,B=r,r=c,c=B}const h=Math.abs(r-t),g=Math.abs(c-a);let w=-h/2;const y=t<r?1:-1,b=a<c?1:-1;let N=0;const R=r+y;for(let B=t,U=a;B!==R;B+=y){const F=u?U:B,V=u?B:U;if(N===1===this.image.get(F,V)){if(N===2)return nt.distance(B,U,t,a);N++}if(w+=g,w>0){if(U===c)break;U+=b,w-=h}}return N===2?nt.distance(r+y,c,t,a):NaN}findAlignmentInRegion(t,a,r,c){const u=Math.floor(c*t),h=Math.max(0,a-u),g=Math.min(this.image.getWidth()-1,a+u);if(g-h<t*3)throw new W("Alignment top exceeds estimated module size.");const w=Math.max(0,r-u),y=Math.min(this.image.getHeight()-1,r+u);if(y-w<t*3)throw new W("Alignment bottom exceeds estimated module size.");return new si(this.image,h,w,g-h,y-w,t,this.resultPointCallback).find()}}class na{constructor(){this.decoder=new Pu}getDecoder(){return this.decoder}decode(t,a){let r,c;if(a!=null&&a.get(ye.PURE_BARCODE)!==void 0){const w=na.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(w,a),c=na.NO_POINTS}else{const w=new Ui(t.getBlackMatrix()).detect(a);r=this.decoder.decodeBitMatrix(w.getBits(),a),c=w.getPoints()}r.getOther()instanceof Vo&&r.getOther().applyMirroredCorrection(c);const u=new Se(r.getText(),r.getRawBytes(),void 0,c,_e.QR_CODE,void 0),h=r.getByteSegments();h!==null&&u.putMetadata(rt.BYTE_SEGMENTS,h);const g=r.getECLevel();return g!==null&&u.putMetadata(rt.ERROR_CORRECTION_LEVEL,g),r.hasStructuredAppend()&&(u.putMetadata(rt.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(rt.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(a===null||r===null)throw new W;const c=this.moduleSize(a,t);let u=a[1],h=r[1],g=a[0],w=r[0];if(g>=w||u>=h)throw new W;if(h-u!==w-g&&(w=g+(h-u),w>=t.getWidth()))throw new W;const y=Math.round((w-g+1)/c),b=Math.round((h-u+1)/c);if(y<=0||b<=0)throw new W;if(b!==y)throw new W;const N=Math.floor(c/2);u+=N,g+=N;const R=g+Math.floor((y-1)*c)-w;if(R>0){if(R>N)throw new W;g-=R}const B=u+Math.floor((b-1)*c)-h;if(B>0){if(B>N)throw new W;u-=B}const U=new qe(y,b);for(let F=0;F<b;F++){const V=u+Math.floor(F*c);for(let ne=0;ne<y;ne++)t.get(g+Math.floor(ne*c),V)&&U.set(ne,F)}return U}static moduleSize(t,a){const r=a.getHeight(),c=a.getWidth();let u=t[0],h=t[1],g=!0,w=0;for(;u<c&&h<r;){if(g!==a.get(u,h)){if(++w===5)break;g=!g}u++,h++}if(u===c||h===r)throw new W;return(u-t[0])/7}}na.NO_POINTS=new Array;class He{PDF417Common(){}static getBitCountSum(t){return nt.sum(t)}static toIntArray(t){if(t==null||!t.length)return He.EMPTY_INT_ARRAY;const a=new Int32Array(t.length);let r=0;for(const c of t)a[r++]=c;return a}static getCodeword(t){const a=we.binarySearch(He.SYMBOL_TABLE,t&262143);return a<0?-1:(He.CODEWORD_TABLE[a]-1)%He.NUMBER_OF_CODEWORDS}}He.NUMBER_OF_CODEWORDS=929,He.MAX_CODEWORDS_IN_BARCODE=He.NUMBER_OF_CODEWORDS-1,He.MIN_ROWS_IN_BARCODE=3,He.MAX_ROWS_IN_BARCODE=90,He.MODULES_IN_CODEWORD=17,He.MODULES_IN_STOP_PATTERN=18,He.BARS_IN_MODULE=8,He.EMPTY_INT_ARRAY=new Int32Array([]),He.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),He.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Xo{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class je{static detectMultiple(t,a,r){let c=t.getBlackMatrix(),u=je.detect(r,c);return u.length||(c=c.clone(),c.rotate180(),u=je.detect(r,c)),new Xo(c,u)}static detect(t,a){const r=new Array;let c=0,u=0,h=!1;for(;c<a.getHeight();){const g=je.findVertices(a,c,u);if(g[0]==null&&g[3]==null){if(!h)break;h=!1,u=0;for(const w of r)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=je.ROW_STEP;continue}if(h=!0,r.push(g),!t)break;g[2]!=null?(u=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return r}static findVertices(t,a,r){const c=t.getHeight(),u=t.getWidth(),h=new Array(8);return je.copyToResult(h,je.findRowsWithPattern(t,c,u,a,r,je.START_PATTERN),je.INDEXES_START_PATTERN),h[4]!=null&&(r=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),je.copyToResult(h,je.findRowsWithPattern(t,c,u,a,r,je.STOP_PATTERN),je.INDEXES_STOP_PATTERN),h}static copyToResult(t,a,r){for(let c=0;c<r.length;c++)t[r[c]]=a[c]}static findRowsWithPattern(t,a,r,c,u,h){const g=new Array(4);let w=!1;const y=new Int32Array(h.length);for(;c<a;c+=je.ROW_STEP){let N=je.findGuardPattern(t,u,c,r,!1,h,y);if(N!=null){for(;c>0;){const R=je.findGuardPattern(t,u,--c,r,!1,h,y);if(R!=null)N=R;else{c++;break}}g[0]=new Ie(N[0],c),g[1]=new Ie(N[1],c),w=!0;break}}let b=c+1;if(w){let N=0,R=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;b<a;b++){const B=je.findGuardPattern(t,R[0],b,r,!1,h,y);if(B!=null&&Math.abs(R[0]-B[0])<je.MAX_PATTERN_DRIFT&&Math.abs(R[1]-B[1])<je.MAX_PATTERN_DRIFT)R=B,N=0;else{if(N>je.SKIPPED_ROW_COUNT_MAX)break;N++}}b-=N+1,g[2]=new Ie(R[0],b),g[3]=new Ie(R[1],b)}return b-c<je.BARCODE_MIN_HEIGHT&&we.fill(g,null),g}static findGuardPattern(t,a,r,c,u,h,g){we.fillWithin(g,0,g.length,0);let w=a,y=0;for(;t.get(w,r)&&w>0&&y++<je.MAX_PIXEL_DRIFT;)w--;let b=w,N=0,R=h.length;for(let B=u;b<c;b++)if(t.get(b,r)!==B)g[N]++;else{if(N===R-1){if(je.patternMatchVariance(g,h,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return new Int32Array([w,b]);w+=g[0]+g[1],re.arraycopy(g,2,g,0,N-1),g[N-1]=0,g[N]=0,N--}else N++;g[N]=1,B=!B}return N===R-1&&je.patternMatchVariance(g,h,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE?new Int32Array([w,b-1]):null}static patternMatchVariance(t,a,r){let c=t.length,u=0,h=0;for(let y=0;y<c;y++)u+=t[y],h+=a[y];if(u<h)return 1/0;let g=u/h;r*=g;let w=0;for(let y=0;y<c;y++){let b=t[y],N=a[y]*g,R=b>N?b-N:N-b;if(R>r)return 1/0;w+=R}return w/u}}je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),je.MAX_AVG_VARIANCE=.42,je.MAX_INDIVIDUAL_VARIANCE=.8,je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),je.MAX_PIXEL_DRIFT=3,je.MAX_PATTERN_DRIFT=5,je.SKIPPED_ROW_COUNT_MAX=25,je.ROW_STEP=5,je.BARCODE_MIN_HEIGHT=10;class Gt{constructor(t,a){if(a.length===0)throw new D;this.field=t;let r=a.length;if(r>1&&a[0]===0){let c=1;for(;c<r&&a[c]===0;)c++;c===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-c),re.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let a=this.coefficients[0],r=this.coefficients.length;for(let c=1;c<r;c++)a=this.field.add(this.field.multiply(t,a),this.coefficients[c]);return a}add(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,r=t.coefficients;if(a.length>r.length){let h=a;a=r,r=h}let c=new Int32Array(r.length),u=r.length-a.length;re.arraycopy(r,0,c,0,u);for(let h=u;h<r.length;h++)c[h]=this.field.add(a[h-u],r[h]);return new Gt(this.field,c)}subtract(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Gt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Gt(this.field,new Int32Array([0]));let a=this.coefficients,r=a.length,c=t.coefficients,u=c.length,h=new Int32Array(r+u-1);for(let g=0;g<r;g++){let w=a[g];for(let y=0;y<u;y++)h[g+y]=this.field.add(h[g+y],this.field.multiply(w,c[y]))}return new Gt(this.field,h)}negative(){let t=this.coefficients.length,a=new Int32Array(t);for(let r=0;r<t;r++)a[r]=this.field.subtract(0,this.coefficients[r]);return new Gt(this.field,a)}multiplyScalar(t){if(t===0)return new Gt(this.field,new Int32Array([0]));if(t===1)return this;let a=this.coefficients.length,r=new Int32Array(a);for(let c=0;c<a;c++)r[c]=this.field.multiply(this.coefficients[c],t);return new Gt(this.field,r)}multiplyByMonomial(t,a){if(t<0)throw new D;if(a===0)return new Gt(this.field,new Int32Array([0]));let r=this.coefficients.length,c=new Int32Array(r+t);for(let u=0;u<r;u++)c[u]=this.field.multiply(this.coefficients[u],a);return new Gt(this.field,c)}toString(){let t=new Xe;for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(a===0||r!==1)&&t.append(r),a!==0&&(a===1?t.append("x"):(t.append("x^"),t.append(a))))}return t.toString()}}class Is{add(t,a){return(t+a)%this.modulus}subtract(t,a){return(this.modulus+t-a)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new D;return this.logTable[t]}inverse(t){if(t===0)throw new Ji;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class va extends Is{constructor(t,a){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let c=0;c<t;c++)this.expTable[c]=r,r=r*a%t;for(let c=0;c<t-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Gt(this,new Int32Array([0])),this.one=new Gt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new D;if(a===0)return this.zero;let r=new Int32Array(t+1);return r[0]=a,new Gt(this,r)}}va.PDF417_GF=new va(He.NUMBER_OF_CODEWORDS,3);class ia{constructor(){this.field=va.PDF417_GF}decode(t,a,r){let c=new Gt(this.field,t),u=new Int32Array(a),h=!1;for(let U=a;U>0;U--){let F=c.evaluateAt(this.field.exp(U));u[a-U]=F,F!==0&&(h=!0)}if(!h)return 0;let g=this.field.getOne();if(r!=null)for(const U of r){let F=this.field.exp(t.length-1-U),V=new Gt(this.field,new Int32Array([this.field.subtract(0,F),1]));g=g.multiply(V)}let w=new Gt(this.field,u),y=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),w,a),b=y[0],N=y[1],R=this.findErrorLocations(b),B=this.findErrorMagnitudes(N,b,R);for(let U=0;U<R.length;U++){let F=t.length-1-this.field.log(R[U]);if(F<0)throw L.getChecksumInstance();t[F]=this.field.subtract(t[F],B[U])}return R.length}runEuclideanAlgorithm(t,a,r){if(t.getDegree()<a.getDegree()){let R=t;t=a,a=R}let c=t,u=a,h=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(r/2);){let R=c,B=h;if(c=u,h=g,c.isZero())throw L.getChecksumInstance();u=R;let U=this.field.getZero(),F=c.getCoefficient(c.getDegree()),V=this.field.inverse(F);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let ne=u.getDegree()-c.getDegree(),xe=this.field.multiply(u.getCoefficient(u.getDegree()),V);U=U.add(this.field.buildMonomial(ne,xe)),u=u.subtract(c.multiplyByMonomial(ne,xe))}g=U.multiply(h).subtract(B).negative()}let w=g.getCoefficient(0);if(w===0)throw L.getChecksumInstance();let y=this.field.inverse(w),b=g.multiply(y),N=u.multiply(y);return[b,N]}findErrorLocations(t){let a=t.getDegree(),r=new Int32Array(a),c=0;for(let u=1;u<this.field.getSize()&&c<a;u++)t.evaluateAt(u)===0&&(r[c]=this.field.inverse(u),c++);if(c!==a)throw L.getChecksumInstance();return r}findErrorMagnitudes(t,a,r){let c=a.getDegree(),u=new Int32Array(c);for(let y=1;y<=c;y++)u[c-y]=this.field.multiply(y,a.getCoefficient(y));let h=new Gt(this.field,u),g=r.length,w=new Int32Array(g);for(let y=0;y<g;y++){let b=this.field.inverse(r[y]),N=this.field.subtract(0,t.evaluateAt(b)),R=this.field.inverse(h.evaluateAt(b));w[y]=this.field.multiply(N,R)}return w}}class aa{constructor(t,a,r,c,u){t instanceof aa?this.constructor_2(t):this.constructor_1(t,a,r,c,u)}constructor_1(t,a,r,c,u){const h=a==null||r==null,g=c==null||u==null;if(h&&g)throw new W;h?(a=new Ie(0,c.getY()),r=new Ie(0,u.getY())):g&&(c=new Ie(t.getWidth()-1,a.getY()),u=new Ie(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=a,this.bottomLeft=r,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(a.getX(),r.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(a.getY(),c.getY())),this.maxY=Math.trunc(Math.max(r.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,a){return t==null?a:a==null?t:new aa(t.image,t.topLeft,t.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(t,a,r){let c=this.topLeft,u=this.bottomLeft,h=this.topRight,g=this.bottomRight;if(t>0){let w=r?this.topLeft:this.topRight,y=Math.trunc(w.getY()-t);y<0&&(y=0);let b=new Ie(w.getX(),y);r?c=b:h=b}if(a>0){let w=r?this.bottomLeft:this.bottomRight,y=Math.trunc(w.getY()+a);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let b=new Ie(w.getX(),y);r?u=b:g=b}return new aa(this.image,c,u,h,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ml{constructor(t,a,r,c){this.columnCount=t,this.errorCorrectionLevel=c,this.rowCountUpperPart=a,this.rowCountLowerPart=r,this.rowCount=a+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class or{constructor(){this.buffer=""}static form(t,a){let r=-1;function c(h,g,w,y,b,N){if(h==="%%")return"%";if(a[++r]===void 0)return;h=y?parseInt(y.substr(1)):void 0;let R=b?parseInt(b.substr(1)):void 0,B;switch(N){case"s":B=a[r];break;case"c":B=a[r][0];break;case"f":B=parseFloat(a[r]).toFixed(h);break;case"p":B=parseFloat(a[r]).toPrecision(h);break;case"e":B=parseFloat(a[r]).toExponential(h);break;case"x":B=parseInt(a[r]).toString(R||16);break;case"d":B=parseFloat(parseInt(a[r],R||10).toPrecision(h)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(R);let U=parseInt(w),F=w&&w[0]+""=="0"?"0":" ";for(;B.length<U;)B=g!==void 0?B+F:F+B;return B}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,c)}format(t,...a){this.buffer+=or.form(t,a)}toString(){return this.buffer}}class da{constructor(t){this.boundingBox=new aa(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let a=this.getCodeword(t);if(a!=null)return a;for(let r=1;r<da.MAX_NEARBY_DISTANCE;r++){let c=this.imageRowToCodewordIndex(t)-r;if(c>=0&&(a=this.codewords[c],a!=null)||(c=this.imageRowToCodewordIndex(t)+r,c<this.codewords.length&&(a=this.codewords[c],a!=null)))return a}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,a){this.codewords[this.imageRowToCodewordIndex(t)]=a}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new or;let a=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",a++);continue}t.format("%3d: %3d|%3d%n",a++,r.getRowNumber(),r.getValue())}return t.toString()}}da.MAX_NEARBY_DISTANCE=5;class ga{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let a=this.values.get(t);a==null&&(a=0),a++,this.values.set(t,a)}getValue(){let t=-1,a=new Array;for(const[r,c]of this.values.entries()){const u={getKey:()=>r,getValue:()=>c};u.getValue()>t?(t=u.getValue(),a=[],a.push(u.getKey())):u.getValue()===t&&a.push(u.getKey())}return He.toIntArray(a)}getConfidence(t){return this.values.get(t)}}class Ds extends da{constructor(t,a){super(t),this._isLeft=a}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,t);let r=this.getBoundingBox(),c=this._isLeft?r.getTopLeft():r.getTopRight(),u=this._isLeft?r.getBottomLeft():r.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=-1,y=1,b=0;for(let N=h;N<g;N++){if(a[N]==null)continue;let R=a[N],B=R.getRowNumber()-w;if(B===0)b++;else if(B===1)y=Math.max(y,b),b=1,w=R.getRowNumber();else if(B<0||R.getRowNumber()>=t.getRowCount()||B>N)a[N]=null;else{let U;y>2?U=(y-2)*B:U=B;let F=U>=N;for(let V=1;V<=U&&!F;V++)F=a[N-V]!=null;F?a[N]=null:(w=R.getRowNumber(),b=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let a=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let c=r.getRowNumber();if(c>=a.length)continue;a[c]++}return a}adjustIncompleteIndicatorColumnRowNumbers(t){let a=this.getBoundingBox(),r=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(r.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),w=-1;for(let y=u;y<h;y++){if(g[y]==null)continue;let b=g[y];b.setRowNumberAsRowIndicatorColumn();let N=b.getRowNumber()-w;N===0||(N===1?w=b.getRowNumber():b.getRowNumber()>=t.getRowCount()?g[y]=null:w=b.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),a=new ga,r=new ga,c=new ga,u=new ga;for(let g of t){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let w=g.getValue()%30,y=g.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:r.setValue(w*3+1);break;case 1:u.setValue(w/3),c.setValue(w%3);break;case 2:a.setValue(w+1);break}}if(a.getValue().length===0||r.getValue().length===0||c.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||r.getValue()[0]+c.getValue()[0]<He.MIN_ROWS_IN_BARCODE||r.getValue()[0]+c.getValue()[0]>He.MAX_ROWS_IN_BARCODE)return null;let h=new Ml(a.getValue()[0],r.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,h),h}removeIncorrectCodewords(t,a){for(let r=0;r<t.length;r++){let c=t[r];if(t[r]==null)continue;let u=c.getValue()%30,h=c.getRowNumber();if(h>a.getRowCount()){t[r]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==a.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(u/3)!==a.getErrorCorrectionLevel()||u%3!==a.getRowCountLowerPart())&&(t[r]=null);break;case 2:u+1!==a.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class bn{constructor(t,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=He.MAX_CODEWORDS_IN_BARCODE,a;do a=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let r=this.detectionResultColumns[a].getCodewords();for(let c=0;c<r.length;c++)r[c]!=null&&(r[c].hasValidRowNumber()||this.adjustRowNumbers(a,c,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&a[r]!=null&&t[r].getRowNumber()===a[r].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[r];u!=null&&(u.setRowNumber(t[r].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let c=a[r].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let g=this.detectionResultColumns[h].getCodewords()[r];g!=null&&(u=bn.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,a=this.detectionResultColumns[0].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let c=a[r].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let g=this.detectionResultColumns[h].getCodewords()[r];g!=null&&(u=bn.adjustRowNumberIfValid(c,u,g),g.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,a,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),a=0):++a),a}adjustRowNumbers(t,a,r){if(!this.detectionResultColumns[t-1])return;let c=r[a],u=this.detectionResultColumns[t-1].getCodewords(),h=u;this.detectionResultColumns[t+1]!=null&&(h=this.detectionResultColumns[t+1].getCodewords());let g=new Array(14);g[2]=u[a],g[3]=h[a],a>0&&(g[0]=r[a-1],g[4]=u[a-1],g[5]=h[a-1]),a>1&&(g[8]=r[a-2],g[10]=u[a-2],g[11]=h[a-2]),a<r.length-1&&(g[1]=r[a+1],g[6]=u[a+1],g[7]=h[a+1]),a<r.length-2&&(g[9]=r[a+2],g[12]=u[a+2],g[13]=h[a+2]);for(let w of g)if(bn.adjustRowNumber(c,w))return}static adjustRowNumber(t,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===t.getBucket()?(t.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,a){this.detectionResultColumns[t]=a}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new or;for(let r=0;r<t.getCodewords().length;r++){a.format("CW %3d:",r);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){a.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[r];if(u==null){a.format("    |   ");continue}a.format(" %3d|%3d",u.getRowNumber(),u.getValue())}a.format("%n")}return a.toString()}}class yi{constructor(t,a,r,c){this.rowNumber=yi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(a),this.bucket=Math.trunc(r),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==yi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}yi.BARCODE_ROW_UNKNOWN=-1;class Nn{static initialize(){for(let t=0;t<He.SYMBOL_TABLE.length;t++){let a=He.SYMBOL_TABLE[t],r=a&1;for(let c=0;c<He.BARS_IN_MODULE;c++){let u=0;for(;(a&1)===r;)u+=1,a>>=1;r=a&1,Nn.RATIOS_TABLE[t]||(Nn.RATIOS_TABLE[t]=new Array(He.BARS_IN_MODULE)),Nn.RATIOS_TABLE[t][He.BARS_IN_MODULE-c-1]=Math.fround(u/He.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let a=Nn.getDecodedCodewordValue(Nn.sampleBitCounts(t));return a!==-1?a:Nn.getClosestDecodedValue(t)}static sampleBitCounts(t){let a=nt.sum(t),r=new Int32Array(He.BARS_IN_MODULE),c=0,u=0;for(let h=0;h<He.MODULES_IN_CODEWORD;h++){let g=a/(2*He.MODULES_IN_CODEWORD)+h*a/He.MODULES_IN_CODEWORD;u+t[c]<=g&&(u+=t[c],c++),r[c]++}return r}static getDecodedCodewordValue(t){let a=Nn.getBitValue(t);return He.getCodeword(a)===-1?-1:a}static getBitValue(t){let a=0;for(let r=0;r<t.length;r++)for(let c=0;c<t[r];c++)a=a<<1|(r%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(t){let a=nt.sum(t),r=new Array(He.BARS_IN_MODULE);if(a>1)for(let h=0;h<r.length;h++)r[h]=Math.fround(t[h]/a);let c=oa.MAX_VALUE,u=-1;this.bSymbolTableReady||Nn.initialize();for(let h=0;h<Nn.RATIOS_TABLE.length;h++){let g=0,w=Nn.RATIOS_TABLE[h];for(let y=0;y<He.BARS_IN_MODULE;y++){let b=Math.fround(w[y]-r[y]);if(g+=Math.fround(b*b),g>=c)break}g<c&&(c=g,u=He.SYMBOL_TABLE[h])}return u}}Nn.bSymbolTableReady=!1,Nn.RATIOS_TABLE=new Array(He.SYMBOL_TABLE.length).map(O=>new Array(He.BARS_IN_MODULE));class cr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class jo{static parseLong(t,a=void 0){return parseInt(t,a)}}class Bl extends E{}Bl.kind="NullPointerException";class Ms{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,a,r){if(t==null)throw new Bl;if(a<0||a>t.length||r<0||a+r>t.length||a+r<0)throw new fe;if(r===0)return;for(let c=0;c<r;c++)this.write(t[a+c])}flush(){}close(){}}class Qr extends E{}class kl extends Ms{constructor(t=32){if(super(),this.count=0,t<0)throw new D("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new Qr;r=Q.MAX_VALUE}this.buf=we.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,a,r){if(a<0||a>t.length||r<0||a+r-t.length>0)throw new fe;this.ensureCapacity(this.count+r),re.arraycopy(t,a,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return we.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Tt;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Tt||(Tt={}));function Yo(){if(typeof window<"u")return window.BigInt||null;if(typeof au<"u")return au.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ll;function ma(O){if(typeof Ll>"u"&&(Ll=Yo()),Ll===null)throw new Error("BigInt is not supported!");return Ll(O)}function Bs(){let O=[];O[0]=ma(1);let t=ma(900);O[1]=t;for(let a=2;a<16;a++)O[a]=O[a-1]*t;return O}class ie{static decode(t,a){let r=new Xe(""),c=ee.ISO8859_1;r.enableDecoding(c);let u=1,h=t[u++],g=new cr;for(;u<t[0];){switch(h){case ie.TEXT_COMPACTION_MODE_LATCH:u=ie.textCompaction(t,u,r);break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:u=ie.byteCompaction(h,t,c,u,r);break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[u++]);break;case ie.NUMERIC_COMPACTION_MODE_LATCH:u=ie.numericCompaction(t,u,r);break;case ie.ECI_CHARSET:ee.getCharacterSetECIByValue(t[u++]);break;case ie.ECI_GENERAL_PURPOSE:u+=2;break;case ie.ECI_USER_DEFINED:u++;break;case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ie.decodeMacroBlock(t,u,g);break;case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:throw new Z;default:u--,u=ie.textCompaction(t,u,r);break}if(u<t.length)h=t[u++];else throw Z.getFormatInstance()}if(r.length()===0)throw Z.getFormatInstance();let w=new St(null,r.toString(),null,a);return w.setOther(g),w}static decodeMacroBlock(t,a,r){if(a+ie.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Z.getFormatInstance();let c=new Int32Array(ie.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<ie.NUMBER_OF_SEQUENCE_CODEWORDS;g++,a++)c[g]=t[a];r.setSegmentIndex(Q.parseInt(ie.decodeBase900toBase10(c,ie.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Xe;a=ie.textCompaction(t,a,u),r.setFileId(u.toString());let h=-1;for(t[a]===ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<t[0];)switch(t[a]){case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,t[a]){case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Xe;a=ie.textCompaction(t,a+1,g),r.setFileName(g.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Xe;a=ie.textCompaction(t,a+1,w),r.setSender(w.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Xe;a=ie.textCompaction(t,a+1,y),r.setAddressee(y.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new Xe;a=ie.numericCompaction(t,a+1,b),r.setSegmentCount(Q.parseInt(b.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Xe;a=ie.numericCompaction(t,a+1,N),r.setTimestamp(jo.parseLong(N.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new Xe;a=ie.numericCompaction(t,a+1,R),r.setChecksum(Q.parseInt(R.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new Xe;a=ie.numericCompaction(t,a+1,B),r.setFileSize(jo.parseLong(B.toString()));break;default:throw Z.getFormatInstance()}break;case ie.MACRO_PDF417_TERMINATOR:a++,r.setLastSegment(!0);break;default:throw Z.getFormatInstance()}if(h!==-1){let g=a-h;r.isLastSegment()&&g--,r.setOptionalData(we.copyOfRange(t,h,h+g))}return a}static textCompaction(t,a,r){let c=new Int32Array((t[0]-a)*2),u=new Int32Array((t[0]-a)*2),h=0,g=!1;for(;a<t[0]&&!g;){let w=t[a++];if(w<ie.TEXT_COMPACTION_MODE_LATCH)c[h]=w/30,c[h+1]=w%30,h+=2;else switch(w){case ie.TEXT_COMPACTION_MODE_LATCH:c[h++]=ie.TEXT_COMPACTION_MODE_LATCH;break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:a--,g=!0;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[h]=ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=t[a++],u[h]=w,h++;break}}return ie.decodeTextCompaction(c,u,h,r),a}static decodeTextCompaction(t,a,r,c){let u=Tt.ALPHA,h=Tt.ALPHA,g=0;for(;g<r;){let w=t[g],y="";switch(u){case Tt.ALPHA:if(w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case ie.LL:u=Tt.LOWER;break;case ie.ML:u=Tt.MIXED;break;case ie.PS:h=u,u=Tt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.LOWER:if(w<26)y=String.fromCharCode(97+w);else switch(w){case 26:y=" ";break;case ie.AS:h=u,u=Tt.ALPHA_SHIFT;break;case ie.ML:u=Tt.MIXED;break;case ie.PS:h=u,u=Tt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.MIXED:if(w<ie.PL)y=ie.MIXED_CHARS[w];else switch(w){case ie.PL:u=Tt.PUNCT;break;case 26:y=" ";break;case ie.LL:u=Tt.LOWER;break;case ie.AL:u=Tt.ALPHA;break;case ie.PS:h=u,u=Tt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.PUNCT:if(w<ie.PAL)y=ie.PUNCT_CHARS[w];else switch(w){case ie.PAL:u=Tt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.ALPHA_SHIFT:if(u=h,w<26)y=String.fromCharCode(65+w);else switch(w){case 26:y=" ";break;case ie.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break;case Tt.PUNCT_SHIFT:if(u=h,w<ie.PAL)y=ie.PUNCT_CHARS[w];else switch(w){case ie.PAL:u=Tt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[g]);break;case ie.TEXT_COMPACTION_MODE_LATCH:u=Tt.ALPHA;break}break}y!==""&&c.append(y),g++}}static byteCompaction(t,a,r,c,u){let h=new kl,g=0,w=0,y=!1;switch(t){case ie.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),N=a[c++];for(;c<a[0]&&!y;)switch(b[g++]=N,w=900*w+N,N=a[c++],N){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:c--,y=!0;break;default:if(g%5===0&&g>0){for(let R=0;R<6;++R)h.write(Number(ma(w)>>ma(8*(5-R))));w=0,g=0}break}c===a[0]&&N<ie.TEXT_COMPACTION_MODE_LATCH&&(b[g++]=N);for(let R=0;R<g;R++)h.write(b[R]);break;case ie.BYTE_COMPACTION_MODE_LATCH_6:for(;c<a[0]&&!y;){let R=a[c++];if(R<ie.TEXT_COMPACTION_MODE_LATCH)g++,w=900*w+R;else switch(R){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:c--,y=!0;break}if(g%5===0&&g>0){for(let B=0;B<6;++B)h.write(Number(ma(w)>>ma(8*(5-B))));w=0,g=0}}break}return u.append(Te.decode(h.toByteArray(),r)),c}static numericCompaction(t,a,r){let c=0,u=!1,h=new Int32Array(ie.MAX_NUMERIC_CODEWORDS);for(;a<t[0]&&!u;){let g=t[a++];if(a===t[0]&&(u=!0),g<ie.TEXT_COMPACTION_MODE_LATCH)h[c]=g,c++;else switch(g){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:a--,u=!0;break}(c%ie.MAX_NUMERIC_CODEWORDS===0||g===ie.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(r.append(ie.decodeBase900toBase10(h,c)),c=0)}return a}static decodeBase900toBase10(t,a){let r=ma(0);for(let u=0;u<a;u++)r+=ie.EXP900[a-u-1]*ma(t[u]);let c=r.toString();if(c.charAt(0)!=="1")throw new Z;return c.substring(1)}}ie.TEXT_COMPACTION_MODE_LATCH=900,ie.BYTE_COMPACTION_MODE_LATCH=901,ie.NUMERIC_COMPACTION_MODE_LATCH=902,ie.BYTE_COMPACTION_MODE_LATCH_6=924,ie.ECI_USER_DEFINED=925,ie.ECI_GENERAL_PURPOSE=926,ie.ECI_CHARSET=927,ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ie.MACRO_PDF417_TERMINATOR=922,ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ie.MAX_NUMERIC_CODEWORDS=15,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ie.PL=25,ie.LL=27,ie.AS=27,ie.ML=28,ie.AL=28,ie.PS=29,ie.PAL=29,ie.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ie.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ie.EXP900=Yo()?Bs():[],ie.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(t,a,r,c,u,h,g){let w=new aa(t,a,r,c,u),y=null,b=null,N;for(let U=!0;;U=!1){if(a!=null&&(y=et.getRowIndicatorColumn(t,w,a,!0,h,g)),c!=null&&(b=et.getRowIndicatorColumn(t,w,c,!1,h,g)),N=et.merge(y,b),N==null)throw W.getNotFoundInstance();let F=N.getBoundingBox();if(U&&F!=null&&(F.getMinY()<w.getMinY()||F.getMaxY()>w.getMaxY()))w=F;else break}N.setBoundingBox(w);let R=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,y),N.setDetectionResultColumn(R,b);let B=y!=null;for(let U=1;U<=R;U++){let F=B?U:R-U;if(N.getDetectionResultColumn(F)!==void 0)continue;let V;F===0||F===R?V=new Ds(w,F===0):V=new da(w),N.setDetectionResultColumn(F,V);let ne=-1,xe=ne;for(let ge=w.getMinY();ge<=w.getMaxY();ge++){if(ne=et.getStartColumn(N,F,ge,B),ne<0||ne>w.getMaxX()){if(xe===-1)continue;ne=xe}let de=et.detectCodeword(t,w.getMinX(),w.getMaxX(),B,ne,ge,h,g);de!=null&&(V.setCodeword(ge,de),xe=ne,h=Math.min(h,de.getWidth()),g=Math.max(g,de.getWidth()))}}return et.createDecoderResult(N)}static merge(t,a){if(t==null&&a==null)return null;let r=et.getBarcodeMetadata(t,a);if(r==null)return null;let c=aa.merge(et.adjustBoundingBox(t),et.adjustBoundingBox(a));return new bn(r,c)}static adjustBoundingBox(t){if(t==null)return null;let a=t.getRowHeights();if(a==null)return null;let r=et.getMax(a),c=0;for(let g of a)if(c+=r-g,g>0)break;let u=t.getCodewords();for(let g=0;c>0&&u[g]==null;g++)c--;let h=0;for(let g=a.length-1;g>=0&&(h+=r-a[g],!(a[g]>0));g--);for(let g=u.length-1;h>0&&u[g]==null;g--)h--;return t.getBoundingBox().addMissingRows(c,h,t.isLeft())}static getMax(t){let a=-1;for(let r of t)a=Math.max(a,r);return a}static getBarcodeMetadata(t,a){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let c;return a==null||(c=a.getBarcodeMetadata())==null?r:r.getColumnCount()!==c.getColumnCount()&&r.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&r.getRowCount()!==c.getRowCount()?null:r}static getRowIndicatorColumn(t,a,r,c,u,h){let g=new Ds(a,c);for(let w=0;w<2;w++){let y=w===0?1:-1,b=Math.trunc(Math.trunc(r.getX()));for(let N=Math.trunc(Math.trunc(r.getY()));N<=a.getMaxY()&&N>=a.getMinY();N+=y){let R=et.detectCodeword(t,0,t.getWidth(),c,b,N,u,h);R!=null&&(g.setCodeword(N,R),c?b=R.getStartX():b=R.getEndX())}}return g}static adjustCodewordCount(t,a){let r=a[0][1],c=r.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-et.getNumberOfECCodeWords(t.getBarcodeECLevel());if(c.length===0){if(u<1||u>He.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();r.setValue(u)}else c[0]!==u&&r.setValue(u)}static createDecoderResult(t){let a=et.createBarcodeMatrix(t);et.adjustCodewordCount(t,a);let r=new Array,c=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],h=new Array;for(let w=0;w<t.getBarcodeRowCount();w++)for(let y=0;y<t.getBarcodeColumnCount();y++){let b=a[w][y+1].getValue(),N=w*t.getBarcodeColumnCount()+y;b.length===0?r.push(N):b.length===1?c[N]=b[0]:(h.push(N),u.push(b))}let g=new Array(u.length);for(let w=0;w<g.length;w++)g[w]=u[w];return et.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),c,He.toIntArray(r),He.toIntArray(h),g)}static createDecoderResultFromAmbiguousValues(t,a,r,c,u){let h=new Int32Array(c.length),g=100;for(;g-- >0;){for(let w=0;w<h.length;w++)a[c[w]]=u[w][h[w]];try{return et.decodeCodewords(a,t,r)}catch(w){if(!(w instanceof L))throw w}if(h.length===0)throw L.getChecksumInstance();for(let w=0;w<h.length;w++)if(h[w]<u[w].length-1){h[w]++;break}else if(h[w]=0,w===h.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(t){let a=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let c=0;c<a.length;c++)for(let u=0;u<a[c].length;u++)a[c][u]=new ga;let r=0;for(let c of t.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][r].setValue(u.getValue())}}}r++}return a}static isValidBarcodeColumn(t,a){return a>=0&&a<=t.getBarcodeColumnCount()+1}static getStartColumn(t,a,r,c){let u=c?1:-1,h=null;if(et.isValidBarcodeColumn(t,a-u)&&(h=t.getDetectionResultColumn(a-u).getCodeword(r)),h!=null)return c?h.getEndX():h.getStartX();if(h=t.getDetectionResultColumn(a).getCodewordNearby(r),h!=null)return c?h.getStartX():h.getEndX();if(et.isValidBarcodeColumn(t,a-u)&&(h=t.getDetectionResultColumn(a-u).getCodewordNearby(r)),h!=null)return c?h.getEndX():h.getStartX();let g=0;for(;et.isValidBarcodeColumn(t,a-u);){a-=u;for(let w of t.getDetectionResultColumn(a).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+u*g*(w.getEndX()-w.getStartX());g++}return c?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,a,r,c,u,h,g,w){u=et.adjustCodewordStartColumn(t,a,r,c,u,h);let y=et.getModuleBitCount(t,a,r,c,u,h);if(y==null)return null;let b,N=nt.sum(y);if(c)b=u+N;else{for(let U=0;U<y.length/2;U++){let F=y[U];y[U]=y[y.length-1-U],y[y.length-1-U]=F}b=u,u=b-N}if(!et.checkCodewordSkew(N,g,w))return null;let R=Nn.getDecodedValue(y),B=He.getCodeword(R);return B===-1?null:new yi(u,b,et.getCodewordBucketNumber(R),B)}static getModuleBitCount(t,a,r,c,u,h){let g=u,w=new Int32Array(8),y=0,b=c?1:-1,N=c;for(;(c?g<r:g>=a)&&y<w.length;)t.get(g,h)===N?(w[y]++,g+=b):(y++,N=!N);return y===w.length||g===(c?r:a)&&y===w.length-1?w:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,a,r,c,u,h){let g=u,w=c?-1:1;for(let y=0;y<2;y++){for(;(c?g>=a:g<r)&&c===t.get(g,h);){if(Math.abs(u-g)>et.CODEWORD_SKEW_SIZE)return u;g+=w}w=-w,c=!c}return g}static checkCodewordSkew(t,a,r){return a-et.CODEWORD_SKEW_SIZE<=t&&t<=r+et.CODEWORD_SKEW_SIZE}static decodeCodewords(t,a,r){if(t.length===0)throw Z.getFormatInstance();let c=1<<a+1,u=et.correctErrors(t,r,c);et.verifyCodewordCount(t,c);let h=ie.decode(t,""+a);return h.setErrorsCorrected(u),h.setErasures(r.length),h}static correctErrors(t,a,r){if(a!=null&&a.length>r/2+et.MAX_ERRORS||r<0||r>et.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return et.errorCorrection.decode(t,r,a)}static verifyCodewordCount(t,a){if(t.length<4)throw Z.getFormatInstance();let r=t[0];if(r>t.length)throw Z.getFormatInstance();if(r===0)if(a<t.length)t[0]=t.length-a;else throw Z.getFormatInstance()}static getBitCountForCodeword(t){let a=new Int32Array(8),r=0,c=a.length-1;for(;!((t&1)!==r&&(r=t&1,c--,c<0));)a[c]++,t>>=1;return a}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return et.getCodewordBucketNumber(et.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let a=new or;for(let r=0;r<t.length;r++){a.format("Row %2d: ",r);for(let c=0;c<t[r].length;c++){let u=t[r][c];u.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}a.format("%n")}return a.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new ia;class Rn{decode(t,a=null){let r=Rn.decode(t,a,!1);if(r==null||r.length===0||r[0]==null)throw W.getNotFoundInstance();return r[0]}decodeMultiple(t,a=null){try{return Rn.decode(t,a,!0)}catch(r){throw r instanceof Z||r instanceof L?W.getNotFoundInstance():r}}static decode(t,a,r){const c=new Array,u=je.detectMultiple(t,a,r);for(const h of u.getPoints()){const g=et.decode(u.getBits(),h[4],h[5],h[6],h[7],Rn.getMinCodewordWidth(h),Rn.getMaxCodewordWidth(h)),w=new Se(g.getText(),g.getRawBytes(),void 0,h,_e.PDF_417);w.putMetadata(rt.ERROR_CORRECTION_LEVEL,g.getECLevel());const y=g.getOther();y!=null&&w.putMetadata(rt.PDF417_EXTRA_METADATA,y),c.push(w)}return c.map(h=>h)}static getMaxWidth(t,a){return t==null||a==null?0:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMinWidth(t,a){return t==null||a==null?Q.MAX_VALUE:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Rn.getMaxWidth(t[0],t[4]),Rn.getMaxWidth(t[6],t[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.max(Rn.getMaxWidth(t[1],t[5]),Rn.getMaxWidth(t[7],t[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Rn.getMinWidth(t[0],t[4]),Rn.getMinWidth(t[6],t[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.min(Rn.getMinWidth(t[1],t[5]),Rn.getMinWidth(t[7],t[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}reset(){}}class zl extends E{}zl.kind="ReaderException";class qo{constructor(t,a){this.verbose=t===!0,a&&this.setHints(a)}decode(t,a){return a&&this.setHints(a),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const a=!d(t)&&t.get(ye.TRY_HARDER)===!0,r=d(t)?null:t.get(ye.POSSIBLE_FORMATS),c=new Array;if(!d(r)){const u=r.some(h=>h===_e.UPC_A||h===_e.UPC_E||h===_e.EAN_13||h===_e.EAN_8||h===_e.CODABAR||h===_e.CODE_39||h===_e.CODE_93||h===_e.CODE_128||h===_e.ITF||h===_e.RSS_14||h===_e.RSS_EXPANDED);u&&!a&&c.push(new _i(t,this.verbose)),r.includes(_e.QR_CODE)&&c.push(new na),r.includes(_e.DATA_MATRIX)&&c.push(new ta),r.includes(_e.AZTEC)&&c.push(new ri),r.includes(_e.PDF_417)&&c.push(new Rn),u&&a&&c.push(new _i(t,this.verbose))}c.length===0&&(a||c.push(new _i(t,this.verbose)),c.push(new na),c.push(new ta),c.push(new ri),c.push(new Rn),a&&c.push(new _i(t,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new zl("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(t,this.hints)}catch(r){if(r instanceof zl)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class Ko extends Ae{constructor(t=null,a=500){const r=new qo;r.setHints(t),super(r,a)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Hu extends Ae{constructor(t=500){super(new Rn,t)}}class Zu extends Ae{constructor(t=500){super(new na,t)}}var ks;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})(ks||(ks={}));var xn=ks;class Wr{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new rn(t,Int32Array.from([1])))}buildGenerator(t){const a=this.cachedGenerators;if(t>=a.length){let r=a[a.length-1];const c=this.field;for(let u=a.length;u<=t;u++){const h=r.multiply(new rn(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));a.push(h),r=h}}return a[t]}encode(t,a){if(a===0)throw new D("No error correction bytes");const r=t.length-a;if(r<=0)throw new D("No data bytes provided");const c=this.buildGenerator(a),u=new Int32Array(r);re.arraycopy(t,0,u,0,r);let h=new rn(this.field,u);h=h.multiplyByMonomial(a,1);const w=h.divide(c)[1].getCoefficients(),y=a-w.length;for(let b=0;b<y;b++)t[r+b]=0;re.arraycopy(w,0,t,r+y,w.length)}}class Jt{constructor(){}static applyMaskPenaltyRule1(t){return Jt.applyMaskPenaltyRule1Internal(t,!0)+Jt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let a=0;const r=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let h=0;h<u-1;h++){const g=r[h];for(let w=0;w<c-1;w++){const y=g[w];y===g[w+1]&&y===r[h+1][w]&&y===r[h+1][w+1]&&a++}}return Jt.N2*a}static applyMaskPenaltyRule3(t){let a=0;const r=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let h=0;h<u;h++)for(let g=0;g<c;g++){const w=r[h];g+6<c&&w[g]===1&&w[g+1]===0&&w[g+2]===1&&w[g+3]===1&&w[g+4]===1&&w[g+5]===0&&w[g+6]===1&&(Jt.isWhiteHorizontal(w,g-4,g)||Jt.isWhiteHorizontal(w,g+7,g+11))&&a++,h+6<u&&r[h][g]===1&&r[h+1][g]===0&&r[h+2][g]===1&&r[h+3][g]===1&&r[h+4][g]===1&&r[h+5][g]===0&&r[h+6][g]===1&&(Jt.isWhiteVertical(r,g,h-4,h)||Jt.isWhiteVertical(r,g,h+7,h+11))&&a++}return a*Jt.N3}static isWhiteHorizontal(t,a,r){a=Math.max(a,0),r=Math.min(r,t.length);for(let c=a;c<r;c++)if(t[c]===1)return!1;return!0}static isWhiteVertical(t,a,r,c){r=Math.max(r,0),c=Math.min(c,t.length);for(let u=r;u<c;u++)if(t[u][a]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let a=0;const r=t.getArray(),c=t.getWidth(),u=t.getHeight();for(let w=0;w<u;w++){const y=r[w];for(let b=0;b<c;b++)y[b]===1&&a++}const h=t.getHeight()*t.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*Jt.N4}static getDataMaskBit(t,a,r){let c,u;switch(t){case 0:c=r+a&1;break;case 1:c=r&1;break;case 2:c=a%3;break;case 3:c=(r+a)%3;break;case 4:c=Math.floor(r/2)+Math.floor(a/3)&1;break;case 5:u=r*a,c=(u&1)+u%3;break;case 6:u=r*a,c=(u&1)+u%3&1;break;case 7:u=r*a,c=u%3+(r+a&1)&1;break;default:throw new D("Invalid mask pattern: "+t)}return c===0}static applyMaskPenaltyRule1Internal(t,a){let r=0;const c=a?t.getHeight():t.getWidth(),u=a?t.getWidth():t.getHeight(),h=t.getArray();for(let g=0;g<c;g++){let w=0,y=-1;for(let b=0;b<u;b++){const N=a?h[g][b]:h[b][g];N===y?w++:(w>=5&&(r+=Jt.N1+(w-5)),w=1,y=N)}w>=5&&(r+=Jt.N1+(w-5))}return r}}Jt.N1=3,Jt.N2=3,Jt.N3=40,Jt.N4=10;class Ul{constructor(t,a){this.width=t,this.height=a;const r=new Array(a);for(let c=0;c!==a;c++)r[c]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,a){return this.bytes[a][t]}getArray(){return this.bytes}setNumber(t,a,r){this.bytes[a][t]=r}setBoolean(t,a,r){this.bytes[a][t]=r?1:0}clear(t){for(const a of this.bytes)we.fill(a,t)}equals(t){if(!(t instanceof Ul))return!1;const a=t;if(this.width!==a.width||this.height!==a.height)return!1;for(let r=0,c=this.height;r<c;++r){const u=this.bytes[r],h=a.bytes[r];for(let g=0,w=this.width;g<w;++g)if(u[g]!==h[g])return!1}return!0}toString(){const t=new Xe;for(let a=0,r=this.height;a<r;++a){const c=this.bytes[a];for(let u=0,h=this.width;u<h;++u)switch(c[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ta{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Xe;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ta.NUM_MASK_PATTERNS}}Ta.NUM_MASK_PATTERNS=8;class Dt extends E{}Dt.kind="WriterException";class Ze{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,a,r,c,u){Ze.clearMatrix(u),Ze.embedBasicPatterns(r,u),Ze.embedTypeInfo(a,c,u),Ze.maybeEmbedVersionInfo(r,u),Ze.embedDataBits(t,c,u)}static embedBasicPatterns(t,a){Ze.embedPositionDetectionPatternsAndSeparators(a),Ze.embedDarkDotAtLeftBottomCorner(a),Ze.maybeEmbedPositionAdjustmentPatterns(t,a),Ze.embedTimingPatterns(a)}static embedTypeInfo(t,a,r){const c=new Y;Ze.makeTypeInfoBits(t,a,c);for(let u=0,h=c.getSize();u<h;++u){const g=c.get(c.getSize()-1-u),w=Ze.TYPE_INFO_COORDINATES[u],y=w[0],b=w[1];if(r.setBoolean(y,b,g),u<8){const N=r.getWidth()-u-1;r.setBoolean(N,8,g)}else{const R=r.getHeight()-7+(u-8);r.setBoolean(8,R,g)}}}static maybeEmbedVersionInfo(t,a){if(t.getVersionNumber()<7)return;const r=new Y;Ze.makeVersionInfoBits(t,r);let c=17;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const g=r.get(c);c--,a.setBoolean(u,a.getHeight()-11+h,g),a.setBoolean(a.getHeight()-11+h,u,g)}}static embedDataBits(t,a,r){let c=0,u=-1,h=r.getWidth()-1,g=r.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);g>=0&&g<r.getHeight();){for(let w=0;w<2;++w){const y=h-w;if(!Ze.isEmpty(r.get(y,g)))continue;let b;c<t.getSize()?(b=t.get(c),++c):b=!1,a!==255&&Jt.getDataMaskBit(a,y,g)&&(b=!b),r.setBoolean(y,g,b)}g+=u}u=-u,g+=u,h-=2}if(c!==t.getSize())throw new Dt("Not all bits consumed: "+c+"/"+t.getSize())}static findMSBSet(t){return 32-Q.numberOfLeadingZeros(t)}static calculateBCHCode(t,a){if(a===0)throw new D("0 polynomial");const r=Ze.findMSBSet(a);for(t<<=r-1;Ze.findMSBSet(t)>=r;)t^=a<<Ze.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,a,r){if(!Ta.isValidMaskPattern(a))throw new Dt("Invalid mask pattern");const c=t.getBits()<<3|a;r.appendBits(c,5);const u=Ze.calculateBCHCode(c,Ze.TYPE_INFO_POLY);r.appendBits(u,10);const h=new Y;if(h.appendBits(Ze.TYPE_INFO_MASK_PATTERN,15),r.xor(h),r.getSize()!==15)throw new Dt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,a){a.appendBits(t.getVersionNumber(),6);const r=Ze.calculateBCHCode(t.getVersionNumber(),Ze.VERSION_INFO_POLY);if(a.appendBits(r,12),a.getSize()!==18)throw new Dt("should not happen but we got: "+a.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let a=8;a<t.getWidth()-8;++a){const r=(a+1)%2;Ze.isEmpty(t.get(a,6))&&t.setNumber(a,6,r),Ze.isEmpty(t.get(6,a))&&t.setNumber(6,a,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Dt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,a,r){for(let c=0;c<8;++c){if(!Ze.isEmpty(r.get(t+c,a)))throw new Dt;r.setNumber(t+c,a,0)}}static embedVerticalSeparationPattern(t,a,r){for(let c=0;c<7;++c){if(!Ze.isEmpty(r.get(t,a+c)))throw new Dt;r.setNumber(t,a+c,0)}}static embedPositionAdjustmentPattern(t,a,r){for(let c=0;c<5;++c){const u=Ze.POSITION_ADJUSTMENT_PATTERN[c];for(let h=0;h<5;++h)r.setNumber(t+h,a+c,u[h])}}static embedPositionDetectionPattern(t,a,r){for(let c=0;c<7;++c){const u=Ze.POSITION_DETECTION_PATTERN[c];for(let h=0;h<7;++h)r.setNumber(t+h,a+c,u[h])}}static embedPositionDetectionPatternsAndSeparators(t){const a=Ze.POSITION_DETECTION_PATTERN[0].length;Ze.embedPositionDetectionPattern(0,0,t),Ze.embedPositionDetectionPattern(t.getWidth()-a,0,t),Ze.embedPositionDetectionPattern(0,t.getWidth()-a,t);const r=8;Ze.embedHorizontalSeparationPattern(0,r-1,t),Ze.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Ze.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const c=7;Ze.embedVerticalSeparationPattern(c,0,t),Ze.embedVerticalSeparationPattern(t.getHeight()-c-1,0,t),Ze.embedVerticalSeparationPattern(c,t.getHeight()-c,t)}static maybeEmbedPositionAdjustmentPatterns(t,a){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,c=Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let u=0,h=c.length;u!==h;u++){const g=c[u];if(g>=0)for(let w=0;w!==h;w++){const y=c[w];y>=0&&Ze.isEmpty(a.get(y,g))&&Ze.embedPositionAdjustmentPattern(y-2,g-2,a)}}}}Ze.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ze.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ze.VERSION_INFO_POLY=7973,Ze.TYPE_INFO_POLY=1335,Ze.TYPE_INFO_MASK_PATTERN=21522;class Gu{constructor(t,a){this.dataBytes=t,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Vt{constructor(){}static calculateMaskPenalty(t){return Jt.applyMaskPenaltyRule1(t)+Jt.applyMaskPenaltyRule2(t)+Jt.applyMaskPenaltyRule3(t)+Jt.applyMaskPenaltyRule4(t)}static encode(t,a,r=null){let c=Vt.DEFAULT_BYTE_MODE_ENCODING;const u=r!==null&&r.get(xn.CHARACTER_SET)!==void 0;u&&(c=r.get(xn.CHARACTER_SET).toString());const h=this.chooseMode(t,c),g=new Y;if(h===ze.BYTE&&(u||Vt.DEFAULT_BYTE_MODE_ENCODING!==c)){const ge=ee.getCharacterSetECIByName(c);ge!==void 0&&this.appendECI(ge,g)}this.appendModeInfo(h,g);const w=new Y;this.appendBytes(t,h,w,c);let y;if(r!==null&&r.get(xn.QR_VERSION)!==void 0){const ge=Number.parseInt(r.get(xn.QR_VERSION).toString(),10);y=Be.getVersionForNumber(ge);const de=this.calculateBitsNeeded(h,g,w,y);if(!this.willFit(de,y,a))throw new Dt("Data too big for requested version")}else y=this.recommendVersion(a,h,g,w);const b=new Y;b.appendBitArray(g);const N=h===ze.BYTE?w.getSizeInBytes():t.length;this.appendLengthInfo(N,y,h,b),b.appendBitArray(w);const R=y.getECBlocksForLevel(a),B=y.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(B,b);const U=this.interleaveWithECBytes(b,y.getTotalCodewords(),B,R.getNumBlocks()),F=new Ta;F.setECLevel(a),F.setMode(h),F.setVersion(y);const V=y.getDimensionForVersion(),ne=new Ul(V,V),xe=this.chooseMaskPattern(U,a,y,ne);return F.setMaskPattern(xe),Ze.buildMatrix(U,a,y,xe,ne),F.setMatrix(ne),F}static recommendVersion(t,a,r,c){const u=this.calculateBitsNeeded(a,r,c,Be.getVersionForNumber(1)),h=this.chooseVersion(u,t),g=this.calculateBitsNeeded(a,r,c,h);return this.chooseVersion(g,t)}static calculateBitsNeeded(t,a,r,c){return a.getSize()+t.getCharacterCountBits(c)+r.getSize()}static getAlphanumericCode(t){return t<Vt.ALPHANUMERIC_TABLE.length?Vt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,a=null){if(ee.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(t))return ze.KANJI;let r=!1,c=!1;for(let u=0,h=t.length;u<h;++u){const g=t.charAt(u);if(Vt.isDigit(g))r=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return ze.BYTE}return c?ze.ALPHANUMERIC:r?ze.NUMERIC:ze.BYTE}static isOnlyDoubleByteKanji(t){let a;try{a=Te.encode(t,ee.SJIS)}catch{return!1}const r=a.length;if(r%2!==0)return!1;for(let c=0;c<r;c+=2){const u=a[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,a,r,c){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let g=0;g<Ta.NUM_MASK_PATTERNS;g++){Ze.buildMatrix(t,a,r,g,c);let w=this.calculateMaskPenalty(c);w<u&&(u=w,h=g)}return h}static chooseVersion(t,a){for(let r=1;r<=40;r++){const c=Be.getVersionForNumber(r);if(Vt.willFit(t,c,a))return c}throw new Dt("Data too big")}static willFit(t,a,r){const c=a.getTotalCodewords(),h=a.getECBlocksForLevel(r).getTotalECCodewords(),g=c-h,w=(t+7)/8;return g>=w}static terminateBits(t,a){const r=t*8;if(a.getSize()>r)throw new Dt("data bits cannot fit in the QR Code"+a.getSize()+" > "+r);for(let h=0;h<4&&a.getSize()<r;++h)a.appendBit(!1);const c=a.getSize()&7;if(c>0)for(let h=c;h<8;h++)a.appendBit(!1);const u=t-a.getSizeInBytes();for(let h=0;h<u;++h)a.appendBits((h&1)===0?236:17,8);if(a.getSize()!==r)throw new Dt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,a,r,c,u,h){if(c>=r)throw new Dt("Block ID too large");const g=t%r,w=r-g,y=Math.floor(t/r),b=y+1,N=Math.floor(a/r),R=N+1,B=y-N,U=b-R;if(B!==U)throw new Dt("EC bytes mismatch");if(r!==w+g)throw new Dt("RS blocks mismatch");if(t!==(N+B)*w+(R+U)*g)throw new Dt("Total bytes mismatch");c<w?(u[0]=N,h[0]=B):(u[0]=R,h[0]=U)}static interleaveWithECBytes(t,a,r,c){if(t.getSizeInBytes()!==r)throw new Dt("Number of bits and data bytes does not match");let u=0,h=0,g=0;const w=new Array;for(let b=0;b<c;++b){const N=new Int32Array(1),R=new Int32Array(1);Vt.getNumDataBytesAndNumECBytesForBlockID(a,r,c,b,N,R);const B=N[0],U=new Uint8Array(B);t.toBytes(8*u,U,0,B);const F=Vt.generateECBytes(U,R[0]);w.push(new Gu(U,F)),h=Math.max(h,B),g=Math.max(g,F.length),u+=N[0]}if(r!==u)throw new Dt("Data bytes does not match offset");const y=new Y;for(let b=0;b<h;++b)for(const N of w){const R=N.getDataBytes();b<R.length&&y.appendBits(R[b],8)}for(let b=0;b<g;++b)for(const N of w){const R=N.getErrorCorrectionBytes();b<R.length&&y.appendBits(R[b],8)}if(a!==y.getSizeInBytes())throw new Dt("Interleaving error: "+a+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(t,a){const r=t.length,c=new Int32Array(r+a);for(let h=0;h<r;h++)c[h]=t[h]&255;new Wr(st.QR_CODE_FIELD_256).encode(c,a);const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=c[r+h];return u}static appendModeInfo(t,a){a.appendBits(t.getBits(),4)}static appendLengthInfo(t,a,r,c){const u=r.getCharacterCountBits(a);if(t>=1<<u)throw new Dt(t+" is bigger than "+((1<<u)-1));c.appendBits(t,u)}static appendBytes(t,a,r,c){switch(a){case ze.NUMERIC:Vt.appendNumericBytes(t,r);break;case ze.ALPHANUMERIC:Vt.appendAlphanumericBytes(t,r);break;case ze.BYTE:Vt.append8BitBytes(t,r,c);break;case ze.KANJI:Vt.appendKanjiBytes(t,r);break;default:throw new Dt("Invalid mode: "+a)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const a=Vt.getDigit(t);return a>=0&&a<=9}static appendNumericBytes(t,a){const r=t.length;let c=0;for(;c<r;){const u=Vt.getDigit(t.charAt(c));if(c+2<r){const h=Vt.getDigit(t.charAt(c+1)),g=Vt.getDigit(t.charAt(c+2));a.appendBits(u*100+h*10+g,10),c+=3}else if(c+1<r){const h=Vt.getDigit(t.charAt(c+1));a.appendBits(u*10+h,7),c+=2}else a.appendBits(u,4),c++}}static appendAlphanumericBytes(t,a){const r=t.length;let c=0;for(;c<r;){const u=Vt.getAlphanumericCode(t.charCodeAt(c));if(u===-1)throw new Dt;if(c+1<r){const h=Vt.getAlphanumericCode(t.charCodeAt(c+1));if(h===-1)throw new Dt;a.appendBits(u*45+h,11),c+=2}else a.appendBits(u,6),c++}}static append8BitBytes(t,a,r){let c;try{c=Te.encode(t,r)}catch(u){throw new Dt(u)}for(let u=0,h=c.length;u!==h;u++){const g=c[u];a.appendBits(g,8)}}static appendKanjiBytes(t,a){let r;try{r=Te.encode(t,ee.SJIS)}catch(u){throw new Dt(u)}const c=r.length;for(let u=0;u<c;u+=2){const h=r[u]&255,g=r[u+1]&255,w=h<<8&4294967295|g;let y=-1;if(w>=33088&&w<=40956?y=w-33088:w>=57408&&w<=60351&&(y=w-49472),y===-1)throw new Dt("Invalid byte sequence");const b=(y>>8)*192+(y&255);a.appendBits(b,13)}}static appendECI(t,a){a.appendBits(ze.ECI.getBits(),4),a.appendBits(t.getValue(),8)}}Vt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Vt.DEFAULT_BYTE_MODE_ENCODING=ee.UTF8.getName();class Oa{write(t,a,r,c=null){if(t.length===0)throw new D("Found empty contents");if(a<0||r<0)throw new D("Requested dimensions are too small: "+a+"x"+r);let u=at.L,h=Oa.QUIET_ZONE_SIZE;c!==null&&(c.get(xn.ERROR_CORRECTION)!==void 0&&(u=at.fromString(c.get(xn.ERROR_CORRECTION).toString())),c.get(xn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(xn.MARGIN).toString(),10)));const g=Vt.encode(t,u,c);return this.renderResult(g,a,r,h)}writeToDom(t,a,r,c,u=null){typeof t=="string"&&(t=document.querySelector(t));const h=this.write(a,r,c,u);t&&t.appendChild(h)}renderResult(t,a,r,c){const u=t.getMatrix();if(u===null)throw new Un;const h=u.getWidth(),g=u.getHeight(),w=h+c*2,y=g+c*2,b=Math.max(a,w),N=Math.max(r,y),R=Math.min(Math.floor(b/w),Math.floor(N/y)),B=Math.floor((b-h*R)/2),U=Math.floor((N-g*R)/2),F=this.createSVGElement(b,N);for(let V=0,ne=U;V<g;V++,ne+=R)for(let xe=0,ge=B;xe<h;xe++,ge+=R)if(u.get(xe,V)===1){const de=this.createSvgRectElement(ge,ne,R,R);F.appendChild(de)}return F}createSVGElement(t,a){const r=document.createElementNS(Oa.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",a.toString()),r}createSvgRectElement(t,a,r,c){const u=document.createElementNS(Oa.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",a.toString()),u.setAttributeNS(null,"height",r.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Oa.QUIET_ZONE_SIZE=4,Oa.SVG_NS="http://www.w3.org/2000/svg";class ur{encode(t,a,r,c,u){if(t.length===0)throw new D("Found empty contents");if(a!==_e.QR_CODE)throw new D("Can only encode QR_CODE, but got "+a);if(r<0||c<0)throw new D(`Requested dimensions are too small: ${r}x${c}`);let h=at.L,g=ur.QUIET_ZONE_SIZE;u!==null&&(u.get(xn.ERROR_CORRECTION)!==void 0&&(h=at.fromString(u.get(xn.ERROR_CORRECTION).toString())),u.get(xn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(xn.MARGIN).toString(),10)));const w=Vt.encode(t,h,u);return ur.renderResult(w,r,c,g)}static renderResult(t,a,r,c){const u=t.getMatrix();if(u===null)throw new Un;const h=u.getWidth(),g=u.getHeight(),w=h+c*2,y=g+c*2,b=Math.max(a,w),N=Math.max(r,y),R=Math.min(Math.floor(b/w),Math.floor(N/y)),B=Math.floor((b-h*R)/2),U=Math.floor((N-g*R)/2),F=new qe(b,N);for(let V=0,ne=U;V<g;V++,ne+=R)for(let xe=0,ge=B;xe<h;xe++,ge+=R)u.get(xe,V)===1&&F.setRegion(ge,ne,R,R);return F}}ur.QUIET_ZONE_SIZE=4;class Vu{encode(t,a,r,c,u){let h;if(a===_e.QR_CODE)h=new ur;else throw new D("No encoder available for format "+a);return h.encode(t,a,r,c,u)}}class Fi extends Le{constructor(t,a,r,c,u,h,g,w){if(super(h,g),this.yuvData=t,this.dataWidth=a,this.dataHeight=r,this.left=c,this.top=u,c+h>a||u+g>r)throw new D("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(h,g)}getRow(t,a){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const c=(t+this.top)*this.dataWidth+this.left;return re.arraycopy(this.yuvData,c,a,0,r),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.yuvData;const r=t*a,c=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return re.arraycopy(this.yuvData,u,c,0,r),c;for(let h=0;h<a;h++){const g=h*t;re.arraycopy(this.yuvData,u,c,g,t),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,a,r,c){return new Fi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+a,r,c,!1)}renderThumbnail(){const t=this.getWidth()/Fi.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Fi.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*a),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){const g=h*t;for(let w=0;w<t;w++){const y=c[u+w*Fi.THUMBNAIL_SCALE_FACTOR]&255;r[g+w]=4278190080|y*65793}u+=this.dataWidth*Fi.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Fi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Fi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,a){const r=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<a;c++,u+=this.dataWidth){const h=u+t/2;for(let g=u,w=u+t-1;g<h;g++,w--){const y=r[g];r[g]=r[w],r[w]=y}}}invert(){return new Qe(this)}}Fi.THUMBNAIL_SCALE_FACTOR=2;class Ls extends Le{constructor(t,a,r,c,u,h,g){if(super(a,r),this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=g,t.BYTES_PER_ELEMENT===4){const w=a*r,y=new Uint8ClampedArray(w);for(let b=0;b<w;b++){const N=t[b],R=N>>16&255,B=N>>7&510,U=N&255;y[b]=(R+B+U)/4&255}this.luminances=y}else this.luminances=t;if(c===void 0&&(this.dataWidth=a),u===void 0&&(this.dataHeight=r),h===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+r>this.dataHeight)throw new D("Crop rectangle does not fit within image data.")}getRow(t,a){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const c=(t+this.top)*this.dataWidth+this.left;return re.arraycopy(this.luminances,c,a,0,r),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.luminances;const r=t*a,c=new Uint8ClampedArray(r);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return re.arraycopy(this.luminances,u,c,0,r),c;for(let h=0;h<a;h++){const g=h*t;re.arraycopy(this.luminances,u,c,g,t),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,a,r,c){return new Ls(this.luminances,r,c,this.dataWidth,this.dataHeight,this.left+t,this.top+a)}invert(){return new Qe(this)}}class Qo extends ee{static forName(t){return this.getCharacterSetECIByName(t)}}class Jr{}Jr.ISO_8859_1=ee.ISO8859_1;class fr{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Wo{static singletonList(t){return[t]}static min(t,a){return t.sort(a)[0]}}class Jo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Na extends Jo{constructor(t,a,r){super(t),this.value=a,this.bitCount=r}appendTo(t,a){t.appendBits(this.value,this.bitCount)}add(t,a){return new Na(this,t,a)}addBinaryShift(t,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Na(this,t,a)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Q.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Fl extends Na{constructor(t,a,r){super(t,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=r}appendTo(t,a){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(a[this.binaryShiftStart+r],8)}addBinaryShift(t,a){return new Fl(this,t,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $o(O,t,a){return new Fl(O,t,a)}function hr(O,t,a){return new Na(O,t,a)}const dr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],xa=0,Pl=1,oi=2,zs=3,Ai=4,$r=new Na(null,0,0),Ra=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Xu(O){for(let t of O)we.fill(t,-1);return O[xa][Ai]=0,O[Pl][Ai]=0,O[Pl][xa]=28,O[zs][Ai]=0,O[oi][Ai]=0,O[oi][xa]=15,O}const el=Xu(we.createInt32Array(6,6));class bi{constructor(t,a,r,c){this.token=t,this.mode=a,this.binaryShiftByteCount=r,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,a){let r=this.bitCount,c=this.token;if(t!==this.mode){let h=Ra[this.mode][t];c=hr(c,h&65535,h>>16),r+=h>>16}let u=t===oi?4:5;return c=hr(c,a,u),new bi(c,t,0,r+u)}shiftAndAppend(t,a){let r=this.token,c=this.mode===oi?4:5;return r=hr(r,el[this.mode][t],c),r=hr(r,a,5),new bi(r,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(t){let a=this.token,r=this.mode,c=this.bitCount;if(this.mode===Ai||this.mode===oi){let g=Ra[r][xa];a=hr(a,g&65535,g>>16),c+=g>>16,r=xa}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new bi(a,r,this.binaryShiftByteCount+1,c+u);return h.binaryShiftByteCount===2078&&(h=h.endBinaryShift(t+1)),h}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=$o(a,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new bi(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let a=this.bitCount+(Ra[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?a+=bi.calculateBinaryShiftCost(t)-bi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(a+=10),a<=t.bitCount}toBitArray(t){let a=[];for(let c=this.endBinaryShift(t.length).token;c!==null;c=c.getPrevious())a.unshift(c);let r=new Y;for(const c of a)c.appendTo(r,t);return r}toString(){return Oe.format("%s bits=%d bytes=%d",dr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}bi.INITIAL_STATE=new bi($r,xa,0,0);function ec(O){const t=Oe.getCharCode(" "),a=Oe.getCharCode("."),r=Oe.getCharCode(",");O[xa][t]=1;const c=Oe.getCharCode("Z"),u=Oe.getCharCode("A");for(let R=u;R<=c;R++)O[xa][R]=R-u+2;O[Pl][t]=1;const h=Oe.getCharCode("z"),g=Oe.getCharCode("a");for(let R=g;R<=h;R++)O[Pl][R]=R-g+2;O[oi][t]=1;const w=Oe.getCharCode("9"),y=Oe.getCharCode("0");for(let R=y;R<=w;R++)O[oi][R]=R-y+2;O[oi][r]=12,O[oi][a]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<b.length;R++)O[zs][Oe.getCharCode(b[R])]=R;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<N.length;R++)Oe.getCharCode(N[R])>0&&(O[Ai][Oe.getCharCode(N[R])]=R);return O}const tl=ec(we.createInt32Array(5,256));class Ia{constructor(t){this.text=t}encode(){const t=Oe.getCharCode(" "),a=Oe.getCharCode(`
`);let r=Wo.singletonList(bi.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Oe.getCharCode("\r"):h=g===a?2:0;break;case Oe.getCharCode("."):h=g===t?3:0;break;case Oe.getCharCode(","):h=g===t?4:0;break;case Oe.getCharCode(":"):h=g===t?5:0;break;default:h=0}h>0?(r=Ia.updateStateListForPair(r,u,h),u++):r=this.updateStateListForChar(r,u)}return Wo.min(r,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,a){const r=[];for(let c of t)this.updateStateForChar(c,a,r);return Ia.simplifyStates(r)}updateStateForChar(t,a,r){let c=this.text[a]&255,u=tl[t.getMode()][c]>0,h=null;for(let g=0;g<=Ai;g++){let w=tl[g][c];if(w>0){if(h==null&&(h=t.endBinaryShift(a)),!u||g===t.getMode()||g===oi){const y=h.latchAndAppend(g,w);r.push(y)}if(!u&&el[t.getMode()][g]>=0){const y=h.shiftAndAppend(g,w);r.push(y)}}}if(t.getBinaryShiftByteCount()>0||tl[t.getMode()][c]===0){let g=t.addBinaryShiftChar(a);r.push(g)}}static updateStateListForPair(t,a,r){const c=[];for(let u of t)this.updateStateForPair(u,a,r,c);return this.simplifyStates(c)}static updateStateForPair(t,a,r,c){let u=t.endBinaryShift(a);if(c.push(u.latchAndAppend(Ai,r)),t.getMode()!==Ai&&c.push(u.shiftAndAppend(Ai,r)),r===3||r===4){let h=u.latchAndAppend(oi,16-r).latchAndAppend(oi,1);c.push(h)}if(t.getBinaryShiftByteCount()>0){let h=t.addBinaryShiftChar(a).addBinaryShiftChar(a+1);c.push(h)}}static simplifyStates(t){let a=[];for(const r of t){let c=!0;for(const u of a){if(u.isBetterThanOrEqualTo(r)){c=!1;break}r.isBetterThanOrEqualTo(u)&&(a=a.filter(h=>h!==u))}c&&a.push(r)}return a}}class dt{constructor(){}static encodeBytes(t){return dt.encode(t,dt.DEFAULT_EC_PERCENT,dt.DEFAULT_AZTEC_LAYERS)}static encode(t,a,r){let c=new Ia(t).encode(),u=Q.truncDivision(c.getSize()*a,100)+11,h=c.getSize()+u,g,w,y,b,N;if(r!==dt.DEFAULT_AZTEC_LAYERS){if(g=r<0,w=Math.abs(r),w>(g?dt.MAX_NB_BITS_COMPACT:dt.MAX_NB_BITS))throw new D(Oe.format("Illegal value %s for layers",r));y=dt.totalBitsInLayer(w,g),b=dt.WORD_SIZE[w];let de=y-y%b;if(N=dt.stuffBits(c,b),N.getSize()+u>de)throw new D("Data to large for user specified layer");if(g&&N.getSize()>b*64)throw new D("Data to large for user specified layer")}else{b=0,N=null;for(let de=0;;de++){if(de>dt.MAX_NB_BITS)throw new D("Data too large for an Aztec code");if(g=de<=3,w=g?de+1:de,y=dt.totalBitsInLayer(w,g),h>y)continue;(N==null||b!==dt.WORD_SIZE[w])&&(b=dt.WORD_SIZE[w],N=dt.stuffBits(c,b));let it=y-y%b;if(!(g&&N.getSize()>b*64)&&N.getSize()+u<=it)break}}let R=dt.generateCheckWords(N,y,b),B=N.getSize()/b,U=dt.generateModeMessage(g,w,B),F=(g?11:14)+w*4,V=new Int32Array(F),ne;if(g){ne=F;for(let de=0;de<V.length;de++)V[de]=de}else{ne=F+1+2*Q.truncDivision(Q.truncDivision(F,2)-1,15);let de=Q.truncDivision(F,2),it=Q.truncDivision(ne,2);for(let Ye=0;Ye<de;Ye++){let cn=Ye+Q.truncDivision(Ye,15);V[de-Ye-1]=it-cn-1,V[de+Ye]=it+cn+1}}let xe=new qe(ne);for(let de=0,it=0;de<w;de++){let Ye=(w-de)*4+(g?9:12);for(let cn=0;cn<Ye;cn++){let ci=cn*2;for(let Pn=0;Pn<2;Pn++)R.get(it+ci+Pn)&&xe.set(V[de*2+Pn],V[de*2+cn]),R.get(it+Ye*2+ci+Pn)&&xe.set(V[de*2+cn],V[F-1-de*2-Pn]),R.get(it+Ye*4+ci+Pn)&&xe.set(V[F-1-de*2-Pn],V[F-1-de*2-cn]),R.get(it+Ye*6+ci+Pn)&&xe.set(V[F-1-de*2-cn],V[de*2+Pn])}it+=Ye*8}if(dt.drawModeMessage(xe,g,ne,U),g)dt.drawBullsEye(xe,Q.truncDivision(ne,2),5);else{dt.drawBullsEye(xe,Q.truncDivision(ne,2),7);for(let de=0,it=0;de<Q.truncDivision(F,2)-1;de+=15,it+=16)for(let Ye=Q.truncDivision(ne,2)&1;Ye<ne;Ye+=2)xe.set(Q.truncDivision(ne,2)-it,Ye),xe.set(Q.truncDivision(ne,2)+it,Ye),xe.set(Ye,Q.truncDivision(ne,2)-it),xe.set(Ye,Q.truncDivision(ne,2)+it)}let ge=new fr;return ge.setCompact(g),ge.setSize(ne),ge.setLayers(w),ge.setCodeWords(B),ge.setMatrix(xe),ge}static drawBullsEye(t,a,r){for(let c=0;c<r;c+=2)for(let u=a-c;u<=a+c;u++)t.set(u,a-c),t.set(u,a+c),t.set(a-c,u),t.set(a+c,u);t.set(a-r,a-r),t.set(a-r+1,a-r),t.set(a-r,a-r+1),t.set(a+r,a-r),t.set(a+r,a-r+1),t.set(a+r,a+r-1)}static generateModeMessage(t,a,r){let c=new Y;return t?(c.appendBits(a-1,2),c.appendBits(r-1,6),c=dt.generateCheckWords(c,28,4)):(c.appendBits(a-1,5),c.appendBits(r-1,11),c=dt.generateCheckWords(c,40,4)),c}static drawModeMessage(t,a,r,c){let u=Q.truncDivision(r,2);if(a)for(let h=0;h<7;h++){let g=u-3+h;c.get(h)&&t.set(g,u-5),c.get(h+7)&&t.set(u+5,g),c.get(20-h)&&t.set(g,u+5),c.get(27-h)&&t.set(u-5,g)}else for(let h=0;h<10;h++){let g=u-5+h+Q.truncDivision(h,5);c.get(h)&&t.set(g,u-7),c.get(h+10)&&t.set(u+7,g),c.get(29-h)&&t.set(g,u+7),c.get(39-h)&&t.set(u-7,g)}}static generateCheckWords(t,a,r){let c=t.getSize()/r,u=new Wr(dt.getGF(r)),h=Q.truncDivision(a,r),g=dt.bitsToWords(t,r,h);u.encode(g,h-c);let w=a%r,y=new Y;y.appendBits(0,w);for(const b of Array.from(g))y.appendBits(b,r);return y}static bitsToWords(t,a,r){let c=new Int32Array(r),u,h;for(u=0,h=t.getSize()/a;u<h;u++){let g=0;for(let w=0;w<a;w++)g|=t.get(u*a+w)?1<<a-w-1:0;c[u]=g}return c}static getGF(t){switch(t){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new D("Unsupported word size "+t)}}static stuffBits(t,a){let r=new Y,c=t.getSize(),u=(1<<a)-2;for(let h=0;h<c;h+=a){let g=0;for(let w=0;w<a;w++)(h+w>=c||t.get(h+w))&&(g|=1<<a-1-w);(g&u)===u?(r.appendBits(g&u,a),h--):(g&u)===0?(r.appendBits(g|1,a),h--):r.appendBits(g,a)}return r}static totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}dt.DEFAULT_EC_PERCENT=33,dt.DEFAULT_AZTEC_LAYERS=0,dt.MAX_NB_BITS=32,dt.MAX_NB_BITS_COMPACT=4,dt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class nl{encode(t,a,r,c){return this.encodeWithHints(t,a,r,c,null)}encodeWithHints(t,a,r,c,u){let h=Jr.ISO_8859_1,g=dt.DEFAULT_EC_PERCENT,w=dt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(xn.CHARACTER_SET)&&(h=Qo.forName(u.get(xn.CHARACTER_SET).toString())),u.has(xn.ERROR_CORRECTION)&&(g=Q.parseInt(u.get(xn.ERROR_CORRECTION).toString())),u.has(xn.AZTEC_LAYERS)&&(w=Q.parseInt(u.get(xn.AZTEC_LAYERS).toString()))),nl.encodeLayers(t,a,r,c,h,g,w)}static encodeLayers(t,a,r,c,u,h,g){if(a!==_e.AZTEC)throw new D("Can only encode AZTEC, but got "+a);let w=dt.encode(Oe.getBytes(t,u),h,g);return nl.renderResult(w,r,c)}static renderResult(t,a,r){let c=t.getMatrix();if(c==null)throw new Un;let u=c.getWidth(),h=c.getHeight(),g=Math.max(a,u),w=Math.max(r,h),y=Math.min(g/u,w/h),b=(g-u*y)/2,N=(w-h*y)/2,R=new qe(g,w);for(let B=0,U=N;B<h;B++,U+=y)for(let F=0,V=b;F<u;F++,V+=y)c.get(F,B)&&R.setRegion(V,U,y,y);return R}}l.AbstractExpandedDecoder=gn,l.ArgumentException=T,l.ArithmeticException=Ji,l.AztecCode=fr,l.AztecCodeReader=ri,l.AztecCodeWriter=nl,l.AztecDecoder=yt,l.AztecDetector=yn,l.AztecDetectorResult=Nl,l.AztecEncoder=dt,l.AztecHighLevelEncoder=Ia,l.AztecPoint=Pe,l.BarcodeFormat=_e,l.Binarizer=X,l.BinaryBitmap=k,l.BitArray=Y,l.BitMatrix=qe,l.BitSource=Ei,l.BrowserAztecCodeReader=er,l.BrowserBarcodeReader=Uu,l.BrowserCodeReader=Ae,l.BrowserDatamatrixCodeReader=Dl,l.BrowserMultiFormatReader=Ko,l.BrowserPDF417Reader=Hu,l.BrowserQRCodeReader=Zu,l.BrowserQRCodeSvgWriter=Oa,l.CharacterSetECI=ee,l.ChecksumException=L,l.Code128Reader=me,l.Code39Reader=Rt,l.DataMatrixDecodedBitStreamParser=ea,l.DataMatrixReader=ta,l.DecodeHintType=ye,l.DecoderResult=St,l.DefaultGridSampler=$a,l.DetectorResult=Ja,l.EAN13Reader=ki,l.EncodeHintType=xn,l.Exception=E,l.FormatException=Z,l.GenericGF=st,l.GenericGFPoly=rn,l.GlobalHistogramBinarizer=te,l.GridSampler=Vr,l.GridSamplerInstance=Ce,l.HTMLCanvasElementLuminanceSource=We,l.HybridBinarizer=se,l.ITFReader=$e,l.IllegalArgumentException=D,l.IllegalStateException=Un,l.InvertedLuminanceSource=Qe,l.LuminanceSource=Le,l.MathUtils=nt,l.MultiFormatOneDReader=_i,l.MultiFormatReader=qo,l.MultiFormatWriter=Vu,l.NotFoundException=W,l.OneDReader=Ut,l.PDF417DecodedBitStreamParser=ie,l.PDF417DecoderErrorCorrection=ia,l.PDF417Reader=Rn,l.PDF417ResultMetadata=cr,l.PerspectiveTransform=Yn,l.PlanarYUVLuminanceSource=Fi,l.QRCodeByteMatrix=Ul,l.QRCodeDataMask=$n,l.QRCodeDecodedBitStreamParser=Zt,l.QRCodeDecoderErrorCorrectionLevel=at,l.QRCodeDecoderFormatInformation=An,l.QRCodeEncoder=Vt,l.QRCodeEncoderQRCode=Ta,l.QRCodeMaskUtil=Jt,l.QRCodeMatrixUtil=Ze,l.QRCodeMode=ze,l.QRCodeReader=na,l.QRCodeVersion=Be,l.QRCodeWriter=ur,l.RGBLuminanceSource=Ls,l.RSS14Reader=It,l.RSSExpandedReader=he,l.ReaderException=zl,l.ReedSolomonDecoder=Bi,l.ReedSolomonEncoder=Wr,l.ReedSolomonException=zn,l.Result=Se,l.ResultMetadataType=rt,l.ResultPoint=Ie,l.StringUtils=Oe,l.UnsupportedOperationException=Ne,l.VideoInputDevice=P,l.WhiteRectangleDetector=jt,l.WriterException=Dt,l.ZXingArrays=we,l.ZXingCharset=Qo,l.ZXingInteger=Q,l.ZXingStandardCharsets=Jr,l.ZXingStringBuilder=Xe,l.ZXingStringEncoding=Te,l.ZXingSystem=re,l.createAbstractExpandedDecoder=nr,Object.defineProperty(l,"__esModule",{value:!0})}))})(Co,Co.exports)),Co.exports}var nn=T4();const O4=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var xm=(function(){function n(o,l,d){if(this.formatMap=new Map([[De.QR_CODE,nn.BarcodeFormat.QR_CODE],[De.AZTEC,nn.BarcodeFormat.AZTEC],[De.CODABAR,nn.BarcodeFormat.CODABAR],[De.CODE_39,nn.BarcodeFormat.CODE_39],[De.CODE_93,nn.BarcodeFormat.CODE_93],[De.CODE_128,nn.BarcodeFormat.CODE_128],[De.DATA_MATRIX,nn.BarcodeFormat.DATA_MATRIX],[De.MAXICODE,nn.BarcodeFormat.MAXICODE],[De.ITF,nn.BarcodeFormat.ITF],[De.EAN_13,nn.BarcodeFormat.EAN_13],[De.EAN_8,nn.BarcodeFormat.EAN_8],[De.PDF_417,nn.BarcodeFormat.PDF_417],[De.RSS_14,nn.BarcodeFormat.RSS_14],[De.RSS_EXPANDED,nn.BarcodeFormat.RSS_EXPANDED],[De.UPC_A,nn.BarcodeFormat.UPC_A],[De.UPC_E,nn.BarcodeFormat.UPC_E],[De.UPC_EAN_EXTENSION,nn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!O4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=d;var m=this.createZXingFormats(o),p=new Map;p.set(nn.DecodeHintType.POSSIBLE_FORMATS,m),p.set(nn.DecodeHintType.TRY_HARDER,!1),this.hints=p}return n.prototype.decodeAsync=function(o){var l=this;return new Promise(function(d,m){try{d(l.decode(o))}catch(p){m(p)}})},n.prototype.decode=function(o){var l=new nn.MultiFormatReader(this.verbose,this.hints),d=new nn.HTMLCanvasElementLuminanceSource(o),m=new nn.BinaryBitmap(new nn.HybridBinarizer(d)),p=l.decode(m);return{text:p.text,format:dp.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,d,m){o.set(l,d)}),o},n.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},n.prototype.createZXingFormats=function(o){for(var l=[],d=0,m=o;d<m.length;d++){var p=m[d];this.formatMap.has(p)?l.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return l},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),N4=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function C(T){try{E(d.next(T))}catch(D){A(D)}}function S(T){try{E(d.throw(T))}catch(D){A(D)}}function E(T){T.done?p(T.value):m(T.value).then(C,S)}E((d=d.apply(n,o||[])).next())})},R4=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function C(E){return function(T){return S([E,T])}}function S(E){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,E[0]&&(l=0)),l;)try{if(d=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,m=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){l.label=E[1];break}if(E[0]===6&&l.label<p[1]){l.label=p[1],p=E;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(E);break}p[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(n,l)}catch(T){E=[6,T],m=0}finally{d=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},pm=(function(){function n(o,l,d){if(this.formatMap=new Map([[De.QR_CODE,"qr_code"],[De.AZTEC,"aztec"],[De.CODABAR,"codabar"],[De.CODE_39,"code_39"],[De.CODE_93,"code_93"],[De.CODE_128,"code_128"],[De.DATA_MATRIX,"data_matrix"],[De.ITF,"itf"],[De.EAN_13,"ean_13"],[De.EAN_8,"ean_8"],[De.PDF_417,"pdf417"],[De.UPC_A,"upc_a"],[De.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=d;var m=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(m),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var o=new BarcodeDetector({formats:["qr_code"]});return typeof o<"u"},n.prototype.decodeAsync=function(o){return N4(this,void 0,void 0,function(){var l,d;return R4(this,function(m){switch(m.label){case 0:return[4,this.detector.detect(o)];case 1:if(l=m.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(l),[2,{text:d.rawValue,format:dp.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(o){for(var l=null,d=0,m=0,p=o;m<p.length;m++){var A=p[m],C=A.boundingBox.width*A.boundingBox.height;C>d&&(d=C,l=A)}if(!l)throw"No largest barcode found";return l},n.prototype.createBarcodeDetectorFormats=function(o){for(var l=[],d=0,m=o;d<m.length;d++){var p=m[d];this.formatMap.has(p)?l.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},n.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},n.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(l,d,m){o.set(l,d)}),o},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),wm=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function C(T){try{E(d.next(T))}catch(D){A(D)}}function S(T){try{E(d.throw(T))}catch(D){A(D)}}function E(T){T.done?p(T.value):m(T.value).then(C,S)}E((d=d.apply(n,o||[])).next())})},_m=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function C(E){return function(T){return S([E,T])}}function S(E){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,E[0]&&(l=0)),l;)try{if(d=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,m=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){l.label=E[1];break}if(E[0]===6&&l.label<p[1]){l.label=p[1],p=E;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(E);break}p[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(n,l)}catch(T){E=[6,T],m=0}finally{d=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},I4=(function(){function n(o,l,d,m){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,l&&pm.isSupported()?(this.primaryDecoder=new pm(o,d,m),this.secondaryDecoder=new xm(o,d,m)):this.primaryDecoder=new xm(o,d,m)}return n.prototype.decodeAsync=function(o){return wm(this,void 0,void 0,function(){var l;return _m(this,function(d){switch(d.label){case 0:l=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(o)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(o){return wm(this,void 0,void 0,function(){var l,d;return _m(this,function(m){switch(m.label){case 0:l=performance.now(),m.label=1;case 1:return m.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(o)];case 2:return[2,m.sent()];case 3:if(d=m.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(o)];throw d;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(o){if(this.verbose){var l=performance.now()-o;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,l=0,d=this.executionResults;l<d.length;l++){var m=d[l];o+=m}var p=o/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),F1=(function(){var n=function(o,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])},n(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");n(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}})(),vu=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function C(T){try{E(d.next(T))}catch(D){A(D)}}function S(T){try{E(d.throw(T))}catch(D){A(D)}}function E(T){T.done?p(T.value):m(T.value).then(C,S)}E((d=d.apply(n,o||[])).next())})},Tu=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function C(E){return function(T){return S([E,T])}}function S(E){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,E[0]&&(l=0)),l;)try{if(d=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,m=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){l.label=E[1];break}if(E[0]===6&&l.label<p[1]){l.label=p[1],p=E;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(E);break}p[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(n,l)}catch(T){E=[6,T],m=0}finally{d=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},mp=(function(){function n(o,l){this.name=o,this.track=l}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(o){var l={};l[this.name]=o;var d={advanced:[l]};return this.track.applyConstraints(d)},n.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var l=o[this.name];return l}return null},n})(),D4=(function(n){F1(o,n);function o(l,d){return n.call(this,l,d)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(l){var d={};d[this.name]=l;var m={advanced:[d]};return this.track.applyConstraints(m)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),d=l[this.name];return{min:d.min,max:d.max,step:d.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o})(mp),M4=(function(n){F1(o,n);function o(l){return n.call(this,"zoom",l)||this}return o})(D4),B4=(function(n){F1(o,n);function o(l){return n.call(this,"torch",l)||this}return o})(mp),k4=(function(){function n(o){this.track=o}return n.prototype.zoomFeature=function(){return new M4(this.track)},n.prototype.torchFeature=function(){return new B4(this.track)},n})(),L4=(function(){function n(o,l,d){this.isClosed=!1,this.parentElement=o,this.mediaStream=l,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),o.append(this.surface)}return n.prototype.createVideoElement=function(o){var l=document.createElement("video");return l.style.width="".concat(o,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},n.prototype.setupSurface=function(){var o=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var d=o.surface.clientWidth,m=o.surface.clientHeight;o.callbacks.onRenderSurfaceReady(d,m),o.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(o,l,d,m){return vu(this,void 0,void 0,function(){var p,A;return Tu(this,function(C){switch(C.label){case 0:return p=new n(o,l,m),d.aspectRatio?(A={aspectRatio:d.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:C.sent(),C.label=2;case 2:return p.setupSurface(),[2,p]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(o){this.failIfClosed();var l=this,d=function(){setTimeout(o,200),l.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(o){return vu(this,void 0,void 0,function(){return Tu(this,function(l){if("aspectRatio"in o)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(o)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var o=this;return new Promise(function(l,d){var m=o.mediaStream.getVideoTracks(),p=m.length,A=0;o.mediaStream.getVideoTracks().forEach(function(C){o.mediaStream.removeTrack(C),C.stop(),++A,A>=p&&(o.isClosed=!0,o.parentElement.removeChild(o.surface),l())})})},n.prototype.getCapabilities=function(){return new k4(this.getFirstTrackOrFail())},n})(),z4=(function(){function n(o){this.mediaStream=o}return n.prototype.render=function(o,l,d){return vu(this,void 0,void 0,function(){return Tu(this,function(m){return[2,L4.create(o,this.mediaStream,l,d)]})})},n.create=function(o){return vu(this,void 0,void 0,function(){var l,d;return Tu(this,function(m){switch(m.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:o},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return d=m.sent(),[2,new n(d)]}})})},n})(),Em=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function C(T){try{E(d.next(T))}catch(D){A(D)}}function S(T){try{E(d.throw(T))}catch(D){A(D)}}function E(T){T.done?p(T.value):m(T.value).then(C,S)}E((d=d.apply(n,o||[])).next())})},ym=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function C(E){return function(T){return S([E,T])}}function S(E){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,E[0]&&(l=0)),l;)try{if(d=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,m=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){l.label=E[1];break}if(E[0]===6&&l.label<p[1]){l.label=p[1],p=E;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(E);break}p[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(n,l)}catch(T){E=[6,T],m=0}finally{d=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},U4=(function(){function n(){}return n.failIfNotSupported=function(){return Em(this,void 0,void 0,function(){return ym(this,function(o){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(o){return Em(this,void 0,void 0,function(){return ym(this,function(l){return[2,z4.create(o)]})})},n})(),F4=function(n,o,l,d){function m(p){return p instanceof l?p:new l(function(A){A(p)})}return new(l||(l=Promise))(function(p,A){function C(T){try{E(d.next(T))}catch(D){A(D)}}function S(T){try{E(d.throw(T))}catch(D){A(D)}}function E(T){T.done?p(T.value):m(T.value).then(C,S)}E((d=d.apply(n,o||[])).next())})},P4=function(n,o){var l={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},d,m,p,A;return A={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function C(E){return function(T){return S([E,T])}}function S(E){if(d)throw new TypeError("Generator is already executing.");for(;A&&(A=0,E[0]&&(l=0)),l;)try{if(d=1,m&&(p=E[0]&2?m.return:E[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,E[1])).done)return p;switch(m=0,p&&(E=[E[0]&2,p.value]),E[0]){case 0:case 1:p=E;break;case 4:return l.label++,{value:E[1],done:!1};case 5:l.label++,m=E[1],E=[0];continue;case 7:E=l.ops.pop(),l.trys.pop();continue;default:if(p=l.trys,!(p=p.length>0&&p[p.length-1])&&(E[0]===6||E[0]===2)){l=0;continue}if(E[0]===3&&(!p||E[1]>p[0]&&E[1]<p[3])){l.label=E[1];break}if(E[0]===6&&l.label<p[1]){l.label=p[1],p=E;break}if(p&&l.label<p[2]){l.label=p[2],l.ops.push(E);break}p[2]&&l.ops.pop(),l.trys.pop();continue}E=o.call(n,l)}catch(T){E=[6,T],m=0}finally{d=p=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},H4=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var o=MediaStreamTrack;return MediaStreamTrack&&o.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var o=ps.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(o=ps.insecureContextCameraQueryError()),Promise.reject(o)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var o=location.host.split(":")[0];return o==="127.0.0.1"||o==="localhost"},n.getCamerasFromMediaDevices=function(){return F4(this,void 0,void 0,function(){var o,l,d,m,p,A,C;return P4(this,function(S){switch(S.label){case 0:return o=function(E){for(var T=E.getVideoTracks(),D=0,k=T;D<k.length;D++){var L=k[D];L.enabled=!1,L.stop(),E.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=S.sent(),m=[],p=0,A=d;p<A.length;p++)C=A[p],C.kind==="videoinput"&&m.push({id:C.deviceId,label:C.label});return o(l),[2,m]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,l){var d=function(p){for(var A=[],C=0,S=p;C<S.length;C++){var E=S[C];E.kind==="video"&&A.push({id:E.id,label:E.label})}o(A)},m=MediaStreamTrack;m.getSources(d)})},n})(),dn;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(dn||(dn={}));var Z4=(function(){function n(){this.state=dn.NOT_STARTED,this.onGoingTransactionNewState=dn.UNKNOWN}return n.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},n.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===dn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=dn.UNKNOWN,this.directTransition(o)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===dn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=dn.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==dn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(o){switch(this.state){case dn.UNKNOWN:throw"Transition from unknown is not allowed";case dn.NOT_STARTED:this.failIfNewStateIs(o,[dn.PAUSED]);break;case dn.SCANNING:break;case dn.PAUSED:break}},n.prototype.failIfNewStateIs=function(o,l){for(var d=0,m=l;d<m.length;d++){var p=m[d];if(o===p)throw"Cannot transition from ".concat(this.state," to ").concat(o)}},n})(),G4=(function(){function n(o){this.stateManager=o}return n.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},n.prototype.directTransition=function(o){this.stateManager.directTransition(o)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===dn.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==dn.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===dn.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===dn.PAUSED},n})(),V4=(function(){function n(){}return n.create=function(){return new G4(new Z4)},n})(),X4=(function(){var n=function(o,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])},n(o,l)};return function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");n(o,l);function d(){this.constructor=o}o.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}})(),Ri=(function(n){X4(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o})(b4),j4=(function(){function n(o,l){this.logger=l,this.fps=Ri.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=o.disableFlip===!0,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=Ri.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?gp.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Ka(this.qrbox)},n.create=function(o,l){return new n(o,l)},n})(),Y4=(function(){function n(o,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.elementId=o,this.verbose=!1;var d;typeof l=="boolean"?this.verbose=l===!0:l&&(d=l,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new S4(this.verbose),this.qrcode=new I4(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=V4.create()}return n.prototype.start=function(o,l,d,m){var p=this;if(!o)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;m?A=m:A=this.verbose?this.logger.log:function(){};var C=j4.create(l,this.logger);this.clearElement();var S=!1;C.videoConstraints&&(C.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=S,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:Ri.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var D=this,k=this.stateManagerProxy.startTransition(dn.SCANNING);return new Promise(function(L,X){var re=E?C.videoConstraints:D.createVideoConstraints(o);if(!re){k.cancel(),X("videoConstraints should be defined");return}var fe={};(!E||C.aspectRatio)&&(fe.aspectRatio=C.aspectRatio);var be={onRenderSurfaceReady:function(we,Q){D.setupUi(we,Q,C),D.isScanning=!0,D.foreverScan(C,d,A)}};U4.failIfNotSupported().then(function(we){we.create(re).then(function(Q){return Q.render(p.element,fe,be).then(function(Y){D.renderedCamera=Y,k.execute(),L(null)}).catch(function(Y){k.cancel(),X(Y)})}).catch(function(Q){k.cancel(),X(ps.errorGettingUserMedia(Q))})}).catch(function(we){k.cancel(),X(ps.cameraStreamingNotSupported())})})},n.prototype.pause=function(o){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(dn.PAUSED),this.showPausedState(),(Ka(o)||o!==!0)&&(o=!1),o&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var o=this,l=function(){o.stateManagerProxy.directTransition(dn.SCANNING),o.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(dn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(o.element){var p=document.getElementById(Ri.SHADED_REGION_ELEMENT_ID);p&&o.element.removeChild(p)}},m=this;return this.renderedCamera.close().then(function(){return m.renderedCamera=null,m.element&&(m.element.removeChild(m.canvasElement),m.canvasElement=null),d(),m.qrRegion&&(m.qrRegion=null),m.context&&(m.context=null),l.execute(),m.hidePausedState(),m.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(o,l){return this.scanFileV2(o,l).then(function(d){return d.decodedText})},n.prototype.scanFileV2=function(o,l){var d=this;if(!o||!(o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ka(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(m,p){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(o);var A=new Image;A.onload=function(){var C=A.width,S=A.height,E=document.getElementById(d.elementId),T=E.clientWidth?E.clientWidth:Ri.DEFAULT_WIDTH,D=Math.max(E.clientHeight?E.clientHeight:S,Ri.FILE_SCAN_MIN_HEIGHT),k=d.computeCanvasDrawConfig(C,S,T,D);if(l){var L=d.createCanvasElement(T,D,"qr-canvas-visible");L.style.display="inline-block",E.appendChild(L);var X=L.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=T,X.canvas.height=D,X.drawImage(A,0,0,C,S,k.x,k.y,k.width,k.height)}var re=Ri.FILE_SCAN_HIDDEN_CANVAS_PADDING,fe=Math.max(A.width,k.width),be=Math.max(A.height,k.height),we=fe+2*re,Q=be+2*re,Y=d.createCanvasElement(we,Q);E.appendChild(Y);var ve=Y.getContext("2d");if(!ve)throw"Unable to get 2d context from canvas";ve.canvas.width=we,ve.canvas.height=Q,ve.drawImage(A,0,0,C,S,re,re,fe,be);try{d.qrcode.decodeRobustlyAsync(Y).then(function(ye){m(gm.createFromQrcodeResult(ye))}).catch(p)}catch(ye){p("QR code parse error, error = ".concat(ye))}},A.onerror=p,A.onabort=p,A.onstalled=p,A.onsuspend=p,A.src=URL.createObjectURL(o)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return H4.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(o){if(o){if(!gp.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(o)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(o){var l=[De.QR_CODE,De.AZTEC,De.CODABAR,De.CODE_39,De.CODE_93,De.CODE_128,De.DATA_MATRIX,De.MAXICODE,De.ITF,De.EAN_13,De.EAN_8,De.PDF_417,De.RSS_14,De.RSS_EXPANDED,De.UPC_A,De.UPC_E,De.UPC_EAN_EXTENSION];if(!o||typeof o=="boolean"||!o.formatsToSupport)return l;if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(o.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],m=0,p=o.formatsToSupport;m<p.length;m++){var A=p[m];A4(A)?d.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},n.prototype.getUseBarCodeDetectorIfSupported=function(o){if(Ka(o))return!0;if(!Ka(o.useBarCodeDetectorIfSupported))return o.useBarCodeDetectorIfSupported!==!1;if(Ka(o.experimentalFeatures))return!0;var l=o.experimentalFeatures;return Ka(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(o,l,d){var m=this,p=d.qrbox;this.validateQrboxConfig(p);var A=this.toQrdimensions(o,l,p),C=function(E){if(E<Ri.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ri.MIN_QR_BOX_SIZE,"px.")},S=function(E){return E>o&&(m.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=o),E};C(A.width),C(A.height),A.width=S(A.width)},n.prototype.validateQrboxConfig=function(o){if(typeof o!="number"&&typeof o!="function"&&(o.width===void 0||o.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(o,l,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(o,l)}catch(m){throw new Error("qrbox config was passed as a function but it failed with unknown error"+m)}return d},n.prototype.setupUi=function(o,l,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(o,l,d);var m=Ka(d.qrbox)?{width:o,height:l}:d.qrbox;this.validateQrboxConfig(m);var p=this.toQrdimensions(o,l,m);p.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=d.isShadedBoxEnabled()&&p.height<=l,C={x:0,y:0,width:o,height:l},S=A?this.getShadedRegionBounds(o,l,p):C,E=this.createCanvasElement(S.width,S.height),T={willReadFrequently:!0},D=E.getContext("2d",T);D.canvas.width=S.width,D.canvas.height=S.height,this.element.append(E),A&&this.possiblyInsertShadingElement(this.element,o,l,p),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=D,this.canvasElement=E},n.prototype.createScannerPausedUiElement=function(o){var l=document.createElement("div");l.innerText=ps.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",o.appendChild(l),this.scannerPausedUiElement=l},n.prototype.scanContext=function(o,l){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(m){return o(m.text,gm.createFromQrcodeResult(m)),d.possiblyUpdateShaders(!0),!0}).catch(function(m){d.possiblyUpdateShaders(!1);var p=ps.codeParseError(m);return l(p,C4.createFrom(p)),!1})},n.prototype.foreverScan=function(o,l,d){var m=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),A=p.videoWidth/p.clientWidth,C=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*A,E=this.qrRegion.height*C,T=this.qrRegion.x*A,D=this.qrRegion.y*C;this.context.drawImage(p,T,D,S,E,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){m.foreverScanTimeout=setTimeout(function(){m.foreverScan(o,l,d)},m.getTimeoutFps(o.fps))};this.scanContext(l,d).then(function(L){!L&&o.disableFlip!==!0?(m.context.translate(m.context.canvas.width,0),m.context.scale(-1,1),m.scanContext(l,d).finally(function(){k()})):k()}).catch(function(L){m.logger.logError("Error happend while scanning context",L),k()})}},n.prototype.createVideoConstraints=function(o){if(typeof o=="string")return{deviceId:{exact:o}};if(typeof o=="object"){var l="facingMode",d="deviceId",m={user:!0,environment:!0},p="exact",A=function(X){if(X in m)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(X,"'")},C=Object.keys(o);if(C.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(C.length," keys");var S=Object.keys(o)[0];if(S!==l&&S!==d)throw"Only '".concat(l,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(S===l){var E=o.facingMode;if(typeof E=="string"){if(A(E))return{facingMode:E}}else if(typeof E=="object")if(p in E){if(A(E["".concat(p)]))return{facingMode:{exact:E["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var T=typeof E;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var D=o.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(p in D)return{deviceId:{exact:D["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var k=typeof D;throw"Invalid type of 'deviceId' = ".concat(k)}}}var L=typeof o;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},n.prototype.computeCanvasDrawConfig=function(o,l,d,m){if(o<=d&&l<=m){var p=(d-o)/2,A=(m-l)/2;return{x:p,y:A,width:o,height:l}}else{var C=o,S=l;return o>d&&(l=d/o*l,o=d),l>m&&(o=m/l*o,l=m),this.logger.log("Image downsampled from "+"".concat(C,"X").concat(S)+" to ".concat(o,"X").concat(l,".")),this.computeCanvasDrawConfig(o,l,d,m)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},n.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=o?Ri.BORDER_SHADER_MATCH_COLOR:Ri.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(o,l,d){var m=o,p=l,A=document.createElement("canvas");return A.style.width="".concat(m,"px"),A.style.height="".concat(p,"px"),A.style.display="none",A.id=Ka(d)?"qr-canvas":d,A},n.prototype.getShadedRegionBounds=function(o,l,d){if(d.width>o||d.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-d.width)/2,y:(l-d.height)/2,width:d.width,height:d.height}},n.prototype.possiblyInsertShadingElement=function(o,l,d,m){if(!(l-m.width<1||d-m.height<1)){var p=document.createElement("div");p.style.position="absolute";var A=(l-m.width)/2,C=(d-m.height)/2;if(p.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(Ri.SHADED_REGION_ELEMENT_ID),l-m.width<11||d-m.height<11)this.hasBorderShaders=!1;else{var S=5,E=40;this.insertShaderBorders(p,E,S,-S,null,0,!0),this.insertShaderBorders(p,E,S,-S,null,0,!1),this.insertShaderBorders(p,E,S,null,-S,0,!0),this.insertShaderBorders(p,E,S,null,-S,0,!1),this.insertShaderBorders(p,S,E+S,-S,null,-S,!0),this.insertShaderBorders(p,S,E+S,null,-S,-S,!0),this.insertShaderBorders(p,S,E+S,-S,null,-S,!1),this.insertShaderBorders(p,S,E+S,null,-S,-S,!1),this.hasBorderShaders=!0}o.append(p)}},n.prototype.insertShaderBorders=function(o,l,d,m,p,A,C){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=Ri.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(l,"px"),S.style.height="".concat(d,"px"),m!==null&&(S.style.top="".concat(m,"px")),p!==null&&(S.style.bottom="".concat(p,"px")),C?S.style.left="".concat(A,"px"):S.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),o.appendChild(S)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(o){return 1e3/o},n})(),Am;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Am||(Am={}));function bm({onDecoded:n}){const[o,l]=xt.useState(!1),[d,m]=xt.useState("Scanner is idle."),p=xt.useMemo(()=>`qr-reader-${Math.random().toString(36).slice(2,8)}`,[]),A=xt.useRef(null),C=async()=>{if(!A.current){l(!1);return}try{await A.current.stop(),await A.current.clear()}catch{}finally{A.current=null,l(!1),m("Scanner stopped.")}},S=async()=>{if(o)return;const E=new Y4(p);A.current=E;try{l(!0),m("Starting camera..."),await E.start({facingMode:"environment"},{fps:10,qrbox:{width:240,height:240}},async T=>{n(T),m("QR chunk captured."),await C()},()=>{}),m("Point the camera at a packet QR.")}catch(T){m(T instanceof Error?`Could not start scanner: ${T.message}`:"Could not start scanner."),await C()}};return Ee.jsxs("section",{className:"panel",children:[Ee.jsx("h3",{children:"Scan Packet QR"}),Ee.jsx("p",{className:"muted",children:"Scan one chunk at a time. Repeat until all chunks are captured."}),Ee.jsxs("div",{className:"button-row",children:[Ee.jsx("button",{type:"button",onClick:S,disabled:o,children:"Start Scanner"}),Ee.jsx("button",{type:"button",onClick:()=>{C()},disabled:!o,children:"Stop Scanner"})]}),Ee.jsx("p",{className:"muted",children:d}),Ee.jsx("div",{id:p,className:"qr-reader-box"})]})}const q4={audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:{width:{ideal:1920,max:1920},height:{ideal:1080,max:1080},frameRate:{ideal:30,max:30}}};async function K4(){if(!navigator.mediaDevices?.getUserMedia)throw new Error(Mi.MEDIA_UNSUPPORTED);try{return await navigator.mediaDevices.getUserMedia(q4)}catch(n){throw n instanceof DOMException&&(n.name==="NotAllowedError"||n.name==="PermissionDeniedError")?new Error(Mi.DEVICE_DENIED,{cause:n}):new Error(Mi.MEDIA_UNSUPPORTED,{cause:n})}}const Q4=900*1e3;class W4{localEvents=[];remoteEvents=[];addLocalEvent(o){this.localEvents.push(o),this.pruneOldEntries()}addRemoteEvent(o){this.remoteEvents.push(o),this.pruneOldEntries()}getMergedEvents(){return[...this.localEvents,...this.remoteEvents].sort((o,l)=>o.timestamp-l.timestamp)}exportMergedJson(){return JSON.stringify({exportedAt:Date.now(),localCount:this.localEvents.length,remoteCount:this.remoteEvents.length,events:this.getMergedEvents()},null,2)}pruneOldEntries(){const o=Date.now()-Q4;for(;this.localEvents.length>0&&this.localEvents[0].timestamp<o;)this.localEvents.shift();for(;this.remoteEvents.length>0&&this.remoteEvents[0].timestamp<o;)this.remoteEvents.shift()}}const du=[Kn.HD_1080,Kn.HD_720,Kn.SD_480],J4=5,$4=220,eC=30,tC=2,nC=130,iC=16;class aC{qualityState=Kn.HD_1080;stableSampleCount=0;get state(){return this.qualityState}evaluate(o){if(o.packetLossPct>=J4||o.rttMs>=$4||o.jitterMs>=eC){this.stableSampleCount=0;const p=du.indexOf(this.qualityState);return p<du.length-1?(this.qualityState=du[p+1],{nextState:this.qualityState,changed:!0}):{nextState:this.qualityState,changed:!1}}return o.packetLossPct<=tC&&o.rttMs<=nC&&o.jitterMs<=iC?(this.stableSampleCount+=1,this.stableSampleCount<8?{nextState:this.qualityState,changed:!1}:(this.stableSampleCount=0,du.indexOf(this.qualityState)>0?(this.qualityState=Kn.RECOVERING,{nextState:this.qualityState,changed:!0}):{nextState:this.qualityState,changed:!1})):(this.stableSampleCount=0,{nextState:this.qualityState,changed:!1})}completeRecovery(){return this.qualityState!==Kn.RECOVERING?{nextState:this.qualityState,changed:!1}:{nextState:Kn.HD_1080,changed:!0}}forceState(o){const l=this.qualityState!==o;return this.qualityState=o,this.stableSampleCount=0,{nextState:this.qualityState,changed:l}}}const rC={[Kn.HD_1080]:{width:1920,height:1080,maxBitrate:35e5},[Kn.HD_720]:{width:1280,height:720,maxBitrate:2e6},[Kn.SD_480]:{width:854,height:480,maxBitrate:9e5}},n1=16e3,lC=500,sC=250;function Aa(n,o=0){return typeof n=="number"&&Number.isFinite(n)?n:o}const oC=1e3,cC=25e3,i1=[Kn.SD_480,Kn.HD_720,Kn.HD_1080];function uC(n){return n!==Kn.RECOVERING}function Cm(){return crypto.randomUUID()}function Sm(){return`web:${(navigator.userAgent||"unknown-user-agent").slice(0,120)}`}function vm(n){try{return JSON.parse(n)}catch{return null}}class Uo{peerConnection;callbacks;localStream;remoteStream=new MediaStream;role;qualityController=new aC;diagnosticsLog=new W4;localIceCandidates=[];sessionId=Cm();activeQuality=Kn.HD_1080;chatChannel=null;diagChannel=null;statsTimer=null;connectWatchdog=null;previousOutboundBytes=0;previousStatsTimestampMs=0;lastChatSentAt=0;constructor({role:o,localStream:l,callbacks:d}){this.role=o,this.localStream=l,this.callbacks=d,this.peerConnection=new RTCPeerConnection({iceServers:[]}),this.attachCoreHandlers(),this.attachLocalMediaTracks(),o==="host"?this.initializeHostDataChannels():this.initializeJoinerDataChannels()}static createHost(o,l){return new Uo({role:"host",localStream:o,callbacks:l})}static createJoiner(o,l){return new Uo({role:"joiner",localStream:o,callbacks:l})}getDiagnosticsJson(){return this.diagnosticsLog.exportMergedJson()}getCurrentQualityState(){return this.activeQuality}getConnectionState(){return this.peerConnection.connectionState}async createOfferPayload(){this.localIceCandidates.length=0;const o=await this.peerConnection.createOffer();return await this.peerConnection.setLocalDescription(o),await this.waitForIceGatheringComplete(),this.startConnectWatchdog(),{sessionId:this.sessionId,sdpOffer:this.peerConnection.localDescription?.sdp??"",iceCandidates:[...this.localIceCandidates],mediaTarget:"1080p30",clientInfo:Sm()}}async acceptOfferAndCreateAnswer(o){this.sessionId=o.sessionId,await this.peerConnection.setRemoteDescription({type:"offer",sdp:o.sdpOffer});for(const d of o.iceCandidates)try{await this.peerConnection.addIceCandidate(d)}catch{}this.localIceCandidates.length=0;const l=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(l),await this.waitForIceGatheringComplete(),this.startConnectWatchdog(),{sessionId:o.sessionId,sdpAnswer:this.peerConnection.localDescription?.sdp??"",iceCandidates:[...this.localIceCandidates],acceptedMediaTarget:"1080p30",clientInfo:Sm()}}async applyAnswer(o){if(o.sessionId!==this.sessionId)throw new Error("The answer packet is for a different session.");await this.peerConnection.setRemoteDescription({type:"answer",sdp:o.sdpAnswer});for(const l of o.iceCandidates)try{await this.peerConnection.addIceCandidate(l)}catch{}}sendChatMessage(o){const l=Date.now();if(l-this.lastChatSentAt<sC)throw new Error("Please wait a moment before sending another message.");const d=this.sanitizeChatText(o);if(!d)throw new Error("Message is empty after security filtering.");const m={id:Cm(),text:d,timestamp:l};this.lastChatSentAt=l,this.sendDataMessage("chat",m);const p={id:m.id,from:"local",text:d,timestamp:m.timestamp};return this.callbacks.onChatMessage?.(p),p}toggleMicrophoneEnabled(o){for(const l of this.localStream.getAudioTracks())l.enabled=o;this.sendControlState()}toggleCameraEnabled(o){for(const l of this.localStream.getVideoTracks())l.enabled=o;this.sendControlState()}isMicrophoneEnabled(){const o=this.localStream.getAudioTracks()[0];return o?o.enabled:!1}isCameraEnabled(){const o=this.localStream.getVideoTracks()[0];return o?o.enabled:!1}close(){this.statsTimer!==null&&(clearInterval(this.statsTimer),this.statsTimer=null),this.connectWatchdog!==null&&(clearTimeout(this.connectWatchdog),this.connectWatchdog=null),this.chatChannel?.close(),this.diagChannel?.close(),this.peerConnection.close()}attachCoreHandlers(){this.peerConnection.onicecandidate=o=>{o.candidate&&this.localIceCandidates.push(o.candidate.toJSON())},this.peerConnection.ontrack=o=>{const[l]=o.streams;if(l)for(const d of l.getTracks())this.remoteStream.addTrack(d);else this.remoteStream.addTrack(o.track);this.callbacks.onRemoteStream?.(this.remoteStream)},this.peerConnection.onconnectionstatechange=()=>{const o=this.peerConnection.connectionState;this.callbacks.onConnectionStateChange?.(o),o==="connected"&&(this.clearConnectWatchdog(),this.startStatsLoop()),o==="failed"&&this.callbacks.onFailure?.(Mi.NAT_BLOCKED,"Direct peer path failed. This network pair likely blocks direct connection.")}}attachLocalMediaTracks(){for(const o of this.localStream.getTracks())this.peerConnection.addTrack(o,this.localStream)}initializeHostDataChannels(){this.chatChannel=this.peerConnection.createDataChannel("chat",{ordered:!0}),this.bindChatChannel(this.chatChannel),this.diagChannel=this.peerConnection.createDataChannel("diag",{ordered:!0}),this.bindDiagChannel(this.diagChannel)}initializeJoinerDataChannels(){this.peerConnection.ondatachannel=o=>{if(o.channel.label==="chat"){this.chatChannel=o.channel,this.bindChatChannel(o.channel);return}o.channel.label==="diag"&&(this.diagChannel=o.channel,this.bindDiagChannel(o.channel))}}bindChatChannel(o){o.onmessage=l=>{if(typeof l.data!="string"||l.data.length>n1)return;const d=vm(l.data);if(!d||typeof d!="object"||!("type"in d)||!("payload"in d))return;const m=d;if(m.type==="chat"&&typeof m.payload=="object"&&m.payload){const p=m.payload,A=this.sanitizeChatText(p.text);if(!A)return;this.callbacks.onChatMessage?.({id:p.id,from:"remote",text:A,timestamp:p.timestamp});return}if(m.type==="control"&&typeof m.payload=="object"&&m.payload){const p=m.payload;typeof p.audioEnabled=="boolean"&&typeof p.videoEnabled=="boolean"&&typeof p.timestamp=="number"&&this.callbacks.onRemoteMediaState?.({audioEnabled:p.audioEnabled,videoEnabled:p.videoEnabled,timestamp:p.timestamp})}}}bindDiagChannel(o){o.onmessage=l=>{if(typeof l.data!="string"||l.data.length>n1)return;const d=vm(l.data);if(!d||typeof d!="object"||!("type"in d)||!("payload"in d))return;const m=d;if(m.type==="diag"&&typeof m.payload=="object"&&m.payload){const p=this.safeDiagEvent(m.payload);p&&this.diagnosticsLog.addRemoteEvent(p)}}}sendControlState(){this.sendDataMessage("control",{audioEnabled:this.isMicrophoneEnabled(),videoEnabled:this.isCameraEnabled(),timestamp:Date.now()})}sendDataMessage(o,l){const d=o==="diag"?this.diagChannel:this.chatChannel;if(!d||d.readyState!=="open")return;const m=JSON.stringify({type:o,payload:l});m.length>n1||d.send(m)}sanitizeChatText(o){return o.replace(/[\p{Cc}]/gu," ").replace(/\s+/gu," ").trim().slice(0,lC)}safeDiagEvent(o){const l=o;return typeof l!="object"||l===null||typeof l.timestamp!="number"||typeof l.peerId!="string"||typeof l.rttMs!="number"||typeof l.jitterMs!="number"||typeof l.packetLossPct!="number"||typeof l.bitrateKbps!="number"||typeof l.frameWidth!="number"||typeof l.frameHeight!="number"||typeof l.fps!="number"||typeof l.audioLevel!="number"||typeof l.eventType!="string"||typeof l.message!="string"||l.peerId.length>32||l.eventType.length>64||l.message.length>512?null:{timestamp:l.timestamp,peerId:l.peerId,rttMs:l.rttMs,jitterMs:l.jitterMs,packetLossPct:l.packetLossPct,bitrateKbps:l.bitrateKbps,frameWidth:l.frameWidth,frameHeight:l.frameHeight,fps:l.fps,audioLevel:l.audioLevel,eventType:l.eventType,message:l.message}}startStatsLoop(){this.statsTimer===null&&(this.applyQualityProfile(this.activeQuality),this.statsTimer=window.setInterval(()=>{this.collectAndBroadcastStats()},oC))}async collectAndBroadcastStats(){const o=await this.collectStatsSample(),l={timestamp:Date.now(),peerId:this.role,rttMs:o.rttMs,jitterMs:o.jitterMs,packetLossPct:o.packetLossPct,bitrateKbps:o.bitrateKbps,frameWidth:o.frameWidth,frameHeight:o.frameHeight,fps:o.fps,audioLevel:o.audioLevel,eventType:"stats",message:"Periodic call-quality sample"};this.diagnosticsLog.addLocalEvent(l),this.sendDataMessage("diag",l);const d={rttMs:o.rttMs,jitterMs:o.jitterMs,packetLossPct:o.packetLossPct},m=this.qualityController.evaluate(d);if(m.changed){if(m.nextState===Kn.RECOVERING){const p=i1.indexOf(this.activeQuality),A=Math.min(i1.length-1,p+1);this.activeQuality=i1[A],this.qualityController.forceState(this.activeQuality)}else uC(m.nextState)&&(this.activeQuality=m.nextState);await this.applyQualityProfile(this.activeQuality)}this.callbacks.onStats?.({...o,connectionState:this.peerConnection.connectionState,qualityState:this.activeQuality})}async collectStatsSample(){const o=await this.peerConnection.getStats();let l=null,d=null,m=null,p=null,A=null;o.forEach(Z=>{const pe=Z,ee=pe.type,Ne=pe.kind,Te=pe.isRemote,Oe=pe.state,Xe=pe.nominated;ee==="outbound-rtp"&&Ne==="video"&&Te!==!0&&(l=pe),ee==="remote-inbound-rtp"&&Ne==="video"&&(d=pe),ee==="inbound-rtp"&&Ne==="audio"&&Te!==!0&&(m=pe),ee==="candidate-pair"&&Oe==="succeeded"&&Xe===!0&&(p=pe),ee==="media-source"&&Ne==="audio"&&(A=pe)});const C=Date.now(),S=Aa(l?.bytesSent),E=Math.max(0,S-this.previousOutboundBytes),T=Math.max(1,C-this.previousStatsTimestampMs),D=Math.round(E*8/T);this.previousOutboundBytes=S,this.previousStatsTimestampMs=C;const k=Aa(d?.packetsLost),L=Aa(d?.packetsReceived),X=k+L>0?k/(k+L)*100:0,re=Aa(d?.roundTripTime)*1e3,fe=Aa(p?.currentRoundTripTime)*1e3,be=Math.round(Math.max(re,fe)),we=Math.round(Aa(m?.jitter)*1e3),Q=Math.round(Aa(l?.frameWidth)),Y=Math.round(Aa(l?.frameHeight)),ve=Math.round(Aa(l?.framesPerSecond)),ye=Math.round(Aa(A?.audioLevel)*1e3)/1e3;return{rttMs:be,jitterMs:we,packetLossPct:Math.round(X*100)/100,bitrateKbps:D,frameWidth:Q,frameHeight:Y,fps:ve,audioLevel:ye}}async applyQualityProfile(o){const l=rC[o];if(!l)return;const d=this.peerConnection.getSenders().find(S=>S.track?.kind==="video");if(!d)return;const m=d.getParameters(),p=m.encodings?.[0]??{},A={...m,encodings:[{...p,maxBitrate:l.maxBitrate}]};try{await d.setParameters(A)}catch{}const C=this.localStream.getVideoTracks()[0];if(!(!C||!C.applyConstraints))try{await C.applyConstraints({width:{ideal:l.width,max:1920},height:{ideal:l.height,max:1080},frameRate:{ideal:30,max:30}})}catch{}}startConnectWatchdog(){this.clearConnectWatchdog(),this.connectWatchdog=window.setTimeout(()=>{this.peerConnection.connectionState!=="connected"&&this.callbacks.onFailure?.(Mi.CONNECTION_TIMEOUT,"Connection timed out. Please regenerate packets and retry.")},cC)}clearConnectWatchdog(){this.connectWatchdog!==null&&(clearTimeout(this.connectWatchdog),this.connectWatchdog=null)}waitForIceGatheringComplete(o=5e3){return this.peerConnection.iceGatheringState==="complete"?Promise.resolve():new Promise(l=>{const d=window.setTimeout(()=>{p(),l()},o),m=()=>{this.peerConnection.iceGatheringState==="complete"&&(p(),l())},p=()=>{clearTimeout(d),this.peerConnection.removeEventListener("icegatheringstatechange",m)};this.peerConnection.addEventListener("icegatheringstatechange",m)})}}const Tm={audioEnabled:!0,videoEnabled:!0,timestamp:0},fC=/^[a-zA-Z0-9_-]{4,48}$/u,hC=14,Om=2e5,Nm=5,dC=6e4,gC=500;function Rm(n,o){const l=o.trim();if(!l)return n;const d=n.split(`
`).map(m=>m.trim()).filter(m=>m.length>0);return d.includes(l)?n:[...d,l].join(`
`)}function mC(n){return n instanceof Error&&n.message===Mi.DEVICE_DENIED?{code:Mi.DEVICE_DENIED,message:"Camera or microphone access was blocked. Please allow access and retry."}:n instanceof Error&&n.message===Mi.MEDIA_UNSUPPORTED?{code:Mi.MEDIA_UNSUPPORTED,message:"This browser cannot start media capture for this call."}:{code:"UNKNOWN",message:n instanceof Error?n.message:"Unknown error."}}function xC(n,o){if(!n.trim()||!o.trim())return{code:"MISSING_CREDENTIALS",message:"Room code and passphrase are both required."};const l=n.trim();if(!fC.test(l))return{code:"ROOM_CODE_INVALID",message:"Room code must be 4-48 characters using letters, numbers, - or _."};const d=o.trim(),m=/[A-Z]/u.test(d),p=/[a-z]/u.test(d),A=/[0-9]/u.test(d),C=/[^A-Za-z0-9]/u.test(d);return d.length<hC||!m||!p||!A||!C?{code:"PASSPHRASE_WEAK",message:"Passphrase must be at least 14 characters and include uppercase, lowercase, number, and symbol."}:null}function pC(n){switch(n){case"new":return"New";case"connecting":return"Connecting";case"connected":return"Connected";case"disconnected":return"Disconnected";case"failed":return"Failed";case"closed":return"Closed";default:return n}}function wC(){const[n,o]=xt.useState("host"),[l,d]=xt.useState(""),[m,p]=xt.useState(""),[A,C]=xt.useState("Enter room code and passphrase, then start as host or joiner."),[S,E]=xt.useState(null),[T,D]=xt.useState(""),[k,L]=xt.useState(""),[X,re]=xt.useState(""),[fe,be]=xt.useState(""),[we,Q]=xt.useState([]),[Y,ve]=xt.useState(""),[ye,Z]=xt.useState(null),[pe,ee]=xt.useState(!1),[Ne,Te]=xt.useState(null),[Oe,Xe]=xt.useState(null),[qe,W]=xt.useState(Tm),[te,se]=xt.useState("new"),[Le,Qe]=xt.useState(!0),[We,P]=xt.useState(!0),[$,Ae]=xt.useState(null),[Se,Ve]=xt.useState(0),[_e,lt]=xt.useState(0),rt=xt.useRef(null),St=xt.useRef(null),pi=xt.useMemo(()=>ye?ye.qualityState:null,[ye]);xt.useEffect(()=>{rt.current&&(rt.current.srcObject=Ne)},[Ne]),xt.useEffect(()=>{St.current&&(St.current.srcObject=Oe)},[Oe]),xt.useEffect(()=>()=>{$?.close(),Ne?.getTracks().forEach(Ce=>Ce.stop())},[$,Ne]);const rn=()=>{D(""),L(""),re(""),be(""),Q([]),Z(null),Xe(null),W(Tm),se("new"),Qe(!0),P(!0)},Ji=Ce=>{Ae(Ce),se(Ce.getConnectionState())},st=()=>({onRemoteStream:Ce=>{Xe(Ce)},onChatMessage:Ce=>{Q(Pe=>[...Pe,Ce])},onStats:Ce=>{Z(Ce)},onFailure:(Ce,Pe)=>{E({code:Ce,message:Pe}),C(Pe)},onConnectionStateChange:Ce=>{se(Ce),Ce==="connected"&&C("Call connected.")},onRemoteMediaState:Ce=>{W(Ce)}}),zn=()=>{const Ce=xC(l,m);return Ce?(E(Ce),!1):!0},Un=()=>{if(Date.now()<_e){const Ce=Math.ceil((_e-Date.now())/1e3);return E({code:"SECURITY_COOLDOWN",message:`Too many failed packet unlock attempts. Wait ${Ce}s and try again.`}),!1}return!0},Bi=()=>{Ve(0),lt(0)},ln=Ce=>{Ce===Mi.PASS_PHRASE_MISMATCH&&Ve(Pe=>{const yn=Pe+1;return yn>=Nm?(lt(Date.now()+dC),0):yn})},yt=async()=>{if(Ne)return Ne;try{const Ce=await K4();return Te(Ce),Ce}catch(Ce){const Pe=mC(Ce);throw E(Pe),Ce}},nt=()=>{$&&($.close(),Ae(null))},oa=async()=>{if(zn()){ee(!0),E(null),C("Preparing host offer packet...");try{nt(),rn();const Ce=await yt(),Pe=Uo.createHost(Ce,st());Ji(Pe);const yn=await Pe.createOfferPayload(),ri=await om({payload:yn,passphrase:m.trim(),roomCode:l.trim(),type:"offer",senderRole:"host"}),er=cm(ri);D(er),C("Invite packet is ready. Share it with your peer.")}catch(Ce){const Pe=t1(Ce);E({code:Pe.code,message:Pe.message}),C(Pe.message)}finally{ee(!1)}}},Ie=async()=>{if(!zn()||!Un())return;const Ce=k;if(Ce.length>Om){E({code:"PACKET_TOO_LARGE",message:"Packet input is too large and was blocked for safety."});return}ee(!0),E(null),C("Reading host packet and creating answer...");try{const Pe=um(Ce),yn=await E4({envelope:Pe,roomCode:l.trim(),passphrase:m.trim()});nt(),rn();const ri=await yt(),er=Uo.createJoiner(ri,st());Ji(er);const Ut=await er.acceptOfferAndCreateAnswer(yn),me=await om({payload:Ut,passphrase:m.trim(),roomCode:l.trim(),type:"answer",senderRole:"joiner"}),Rt=cm(me);re(Rt),L(""),Bi(),C("Answer packet is ready. Share it back to the host.")}catch(Pe){const yn=t1(Pe);ln(yn.code),E({code:yn.code,message:yn.message}),C(yn.message)}finally{ee(!1)}},Ja=async()=>{if(!$){E({code:"HOST_NOT_READY",message:"Start host mode first so there is an active session."});return}if(Un()){if(fe.length>Om){E({code:"PACKET_TOO_LARGE",message:"Packet input is too large and was blocked for safety."});return}ee(!0),E(null),C("Applying answer packet and connecting...");try{const Ce=um(fe),Pe=await y4({envelope:Ce,roomCode:l.trim(),passphrase:m.trim()});await $.applyAnswer(Pe),be(""),Bi(),C("Answer accepted. Waiting for peer connection...")}catch(Ce){const Pe=t1(Ce);ln(Pe.code),E({code:Pe.code,message:Pe.message}),C(Pe.message)}finally{ee(!1)}}},Nl=Ce=>{if(Ce.preventDefault(),!(!$||!Y.trim()))try{$.sendChatMessage(Y.trim()),ve("")}catch(Pe){E({code:"CHAT_BLOCKED",message:Pe instanceof Error?Pe.message:"Chat message was blocked."})}},jt=()=>{if(!$)return;const Ce=!Le;$.toggleMicrophoneEnabled(Ce),Qe($.isMicrophoneEnabled())},Vr=()=>{if(!$)return;const Ce=!We;$.toggleCameraEnabled(Ce),P($.isCameraEnabled())},Yn=()=>{if(!$)return;const Ce=$.getDiagnosticsJson(),Pe=new Blob([Ce],{type:"application/json"}),yn=URL.createObjectURL(Pe),ri=document.createElement("a");ri.href=yn,ri.download=`call-diagnostics-${Date.now()}.json`,ri.click(),URL.revokeObjectURL(yn)},$a=Ce=>{o(Ce),C(`Switched to ${Ce} mode.`),E(null)};return Ee.jsxs("main",{className:"app-shell",children:[Ee.jsxs("header",{className:"hero",children:[Ee.jsx("h1",{children:"Direct P2P Video Calling"}),Ee.jsx("p",{children:"Torrent-style manual connection. No signaling server, no relay server, no call backend."})]}),Ee.jsxs("section",{className:"panel",children:[Ee.jsx("h2",{children:"Session Setup"}),Ee.jsxs("div",{className:"grid two",children:[Ee.jsxs("label",{children:["Room Code",Ee.jsx("input",{value:l,onChange:Ce=>d(Ce.target.value),placeholder:"example: room-7391",autoComplete:"off"})]}),Ee.jsxs("label",{children:["Passphrase",Ee.jsx("input",{type:"password",value:m,onChange:Ce=>p(Ce.target.value),placeholder:"shared secret",autoComplete:"off"})]})]}),Ee.jsxs("div",{className:"button-row",children:[Ee.jsx("button",{type:"button",className:n==="host"?"active":"",onClick:()=>$a("host"),children:"Host"}),Ee.jsx("button",{type:"button",className:n==="joiner"?"active":"",onClick:()=>$a("joiner"),children:"Joiner"})]})]}),n==="host"?Ee.jsxs("section",{className:"panel",children:[Ee.jsx("h2",{children:"Host Flow"}),Ee.jsx("div",{className:"button-row",children:Ee.jsx("button",{type:"button",onClick:()=>{oa()},disabled:pe,children:"Create Invite Packet"})}),T?Ee.jsx(fm,{title:"Host Invite Packet",packetText:T}):null,Ee.jsxs("label",{children:["Paste Joiner Answer Packet",Ee.jsx("textarea",{value:fe,onChange:Ce=>be(Ce.target.value),className:"packet-textarea",placeholder:"Paste answer packet lines here..."})]}),Ee.jsx(bm,{onDecoded:Ce=>be(Pe=>Rm(Pe,Ce))}),Ee.jsx("button",{type:"button",onClick:()=>{Ja()},disabled:pe||!fe.trim(),children:"Apply Answer and Connect"})]}):Ee.jsxs("section",{className:"panel",children:[Ee.jsx("h2",{children:"Joiner Flow"}),Ee.jsxs("label",{children:["Paste Host Invite Packet",Ee.jsx("textarea",{value:k,onChange:Ce=>L(Ce.target.value),className:"packet-textarea",placeholder:"Paste host packet lines here..."})]}),Ee.jsx(bm,{onDecoded:Ce=>L(Pe=>Rm(Pe,Ce))}),Ee.jsx("button",{type:"button",onClick:()=>{Ie()},disabled:pe||!k.trim(),children:"Join and Create Answer"}),X?Ee.jsx(fm,{title:"Joiner Answer Packet",packetText:X}):null]}),Ee.jsxs("section",{className:"grid two video-grid",children:[Ee.jsxs("div",{className:"panel",children:[Ee.jsx("h3",{children:"Local Video"}),Ee.jsx("video",{ref:rt,muted:!0,autoPlay:!0,playsInline:!0})]}),Ee.jsxs("div",{className:"panel",children:[Ee.jsx("h3",{children:"Remote Video"}),Ee.jsx("video",{ref:St,autoPlay:!0,playsInline:!0})]})]}),Ee.jsxs("section",{className:"panel",children:[Ee.jsx("h2",{children:"Call Controls"}),Ee.jsxs("div",{className:"button-row",children:[Ee.jsx("button",{type:"button",onClick:jt,disabled:!$,children:Le?"Mute Mic":"Unmute Mic"}),Ee.jsx("button",{type:"button",onClick:Vr,disabled:!$,children:We?"Turn Camera Off":"Turn Camera On"}),Ee.jsx("button",{type:"button",onClick:Yn,disabled:!$,children:"Export Diagnostics JSON"})]}),Ee.jsxs("p",{className:"muted",children:["Peer media state: audio ",qe.audioEnabled?"on":"off",", video"," ",qe.videoEnabled?"on":"off"]})]}),Ee.jsxs("section",{className:"panel",children:[Ee.jsx("h2",{children:"In-Call Chat"}),Ee.jsx("div",{className:"chat-log",children:we.length===0?Ee.jsx("p",{className:"muted",children:"No chat messages yet."}):we.map(Ce=>Ee.jsxs("article",{className:`chat-message ${Ce.from}`,children:[Ee.jsx("strong",{children:Ce.from==="local"?"You":"Peer"}),Ee.jsx("p",{children:Ce.text})]},Ce.id))}),Ee.jsxs("form",{onSubmit:Nl,className:"chat-form",children:[Ee.jsx("input",{value:Y,onChange:Ce=>ve(Ce.target.value.slice(0,gC)),placeholder:"Type a message..."}),Ee.jsx("button",{type:"submit",disabled:!$||!Y.trim(),children:"Send"})]})]}),Ee.jsxs("section",{className:"panel",children:[Ee.jsx("h2",{children:"Live Connection Stats"}),Ee.jsxs("div",{className:"stats-grid",children:[Ee.jsxs("div",{children:["Connection: ",pC(te)]}),Ee.jsxs("div",{children:["Quality state: ",pi??"Not started"]}),Ee.jsxs("div",{children:["RTT: ",ye?`${ye.rttMs} ms`:"N/A"]}),Ee.jsxs("div",{children:["Jitter: ",ye?`${ye.jitterMs} ms`:"N/A"]}),Ee.jsxs("div",{children:["Packet loss: ",ye?`${ye.packetLossPct}%`:"N/A"]}),Ee.jsxs("div",{children:["Bitrate: ",ye?`${ye.bitrateKbps} kbps`:"N/A"]}),Ee.jsxs("div",{children:["Resolution:"," ",ye&&ye.frameWidth>0?`${ye.frameWidth}x${ye.frameHeight}`:"N/A"]}),Ee.jsxs("div",{children:["FPS: ",ye?ye.fps:"N/A"]})]})]}),Ee.jsxs("section",{className:"panel status-panel",children:[Ee.jsx("p",{children:A}),Se>0?Ee.jsxs("p",{className:"muted",children:["Failed unlock attempts: ",Se," / ",Nm]}):null,S?Ee.jsxs("p",{className:"error",children:["[",S.code,"] ",S.message]}):null]})]})}G3.createRoot(document.getElementById("root")).render(Ee.jsx(xt.StrictMode,{children:Ee.jsx(wC,{})}));
